!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.dc=e():t.dc=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e,n){var r,i;t.exports=r=n(4),"undefined"!=typeof window&&(window.dc=r),r.extend=i=n(9),i(r,n(7),n(2),n(1),n(6),n(3),n(10))},function(t,e,n){var r,i,o,s=[].slice;i=(r=n(2)).react,t.exports=r,o=Array.prototype.slice,r.watchEachList=function(t,e){var n,r,i,a,u,c,l,h;return h=t.watchingComponents||(t.watchingComponents={}),h[e.dcid]=e,t.$dcWatching?void 0:(t.$dcWatching=!0,a=t.shift,n=t.pop,r=t.push,i=t.reverse,u=t.sort,c=t.splice,l=t.unshift,t.setItem=function(){var n,r,i,o,a,u,c;if(a=arguments[0],u=2<=arguments.length?s.call(arguments,1):[],a>>>=0,0>a)throw new Error("array index is negative");for(o=t.length,r=a,i=0,c=u.length;c>i;)t[r]=u[i],r++,i++;if(o>a)for(n in h)e=h[n],e.invalidateChildren(a,r);else for(n in h)e=h[n],e.invalidateChildren(o,r)},t.pop=function(){var r,i,o;if(i=t.length){o=n.call(this);for(r in h)e=h[r],e.invalidateChildren(i-1,i);return o}},t.push=function(){var n,i,o,s;o=t.length,s=r.apply(t,arguments),i=t.length;for(n in h)e=h[n],e.invalidateChildren(o,i);return s},t.shift=function(){var n,r,i;if(t.length){i=a.call(this),r=t.length;for(n in h)e=h[n],e.invalidateChildren(0,r);return i}},t.unshift=function(){var n,r,i;i=l.apply(t,arguments),r=t.length;for(n in h)e=h[n],e.invalidateChildren(0,r);return i},t.reverse=function(){var n,r;if(r=t.length,1>=r)return t;i.call(t);for(n in h)e=h[n],e.invalidateChildren(0,r);return t},t.sort=function(){var n,r;if(r=t.length,1>=r)return t;u.call(t);for(n in h)e=h[n],e.invalidateChildren(0,r);return t},t.splice=function(n,r){var i,s,a,u,l,d;a=arguments.length,l=t.length,n>>>=0,0>n&&(n=0),n>l&&(n=l),s=o.call(arguments,2),d=c.apply(this,[n,r].concat(s)),u=t.length;for(i in h)e=h[i],l===u?e.invalidateChildren(n,n+r):e.invalidateChildren(n,Math.max(l,u));return d},t.setLength=function(n){var r,i;if(i=t.length,n!==i){t.length=n;for(r in h)e=h[r],n>i?e.invalidateChildren(i,n):e._setLength(n)}})},r.watchEachObject=function(t,e){var n;return n=t.watchingComponents||(t.watchingComponents={}),n[e.dcid]=e,t.$dcWatching?void 0:(t.$dcWatching=!0,t.deleteItem=function(){var r,i,o,a,u,c,l,h,d,f,p,m,v,g,y,w;for(c=1<=arguments.length?s.call(arguments,0):[],o=e._items,h=o.length,w=[],f=0,m=c.length;m>f;f++)if(a=c[f],t.hasOwnProperty(a)){delete t[a];for(r in n)for(e=n[r],l=h,g=e.items,i=p=0,v=g.length;v>p;i=++p)if(y=g[i],u=y[0],d=y[1],u==a){o.splice(i,1),l>i&&(l=i),e.invalidateChildren(l,h);break}w.push(h--)}return w},t.setItem=function(r,i){var o,s,a,u,c,l,h,d;if(a=e._items,!t.hasOwnProperty(r)){c=_items.length,d=[];for(o in n)e=n[o],_items.push([r,i]),d.push(e.invalidateChildren(c,c+1));return d}if(t[r]!==i){h=[];for(o in n)e=n[o],h.push(function(){var t,n,i,o;for(o=[],s=t=0,n=a.length;n>t;s=++t){if(i=a[s],u=i[0],l=i[1],u==r){e.invalidateChildren(s,s+1);break}o.push(void 0)}return o}());return h}},t.extend=function(e){var n,r,i;i=[];for(n in e)r=e[n],i.push(t.setItem(n,r));return i})},r.pour=function(t){return t.pouring=!0,t}},function(t,e,n){var r,i,o,s,a,u,c,l,h=[].slice;l=n(3),s=l.newLine,o=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,r;return r=t.invalidateCallbacks,!r||(n=r.indexOf(e),0>n)?void 0:(r.splice(n,1),r.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var e,n,r,i;if(t.invalidateCallbacks){for(i=t.invalidateCallbacks,n=0,r=i.length;r>n;n++)(e=i[n])();t.valid=!1}},t)},u=function(t){var e;return e=function(){if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return e.invalidate(),e.value=t()},e.toString=function(){return"renew: "+o(t)},a(e)},r=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t())},n.toString=function(){return"dependent: "+o(t)},a(n)},t.exports=i=function(){var t,e,n,r,i,s,u,c,l,d;for(r=2<=arguments.length?h.call(arguments,0,s=arguments.length-1):(s=0,[]),e=arguments[s++],u=0,l=r.length;l>u;u++)if(n=r[u],"function"==typeof n&&!n.invalidate)return i=a(function(){return i.invalidate(),e()});for(t=null,i=a(function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return i.valid?t:(i.valid=!0,t=e())}),c=0,d=r.length;d>c;c++)n=r[c],n&&n.onInvalidate&&n.onInvalidate(i.invalidate);return i.toString=function(){return"flow: ["+function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.toString());return i}().join(",")+"] --> "+o(e)},i},i.pipe=function(){var t,e,n,r,i,o,s,u,c;for(n=2<=arguments.length?h.call(arguments,0,i=arguments.length-1):(i=0,[]),t=arguments[i++],o=0,u=n.length;u>o;o++)if(e=n[o],"function"==typeof e&&!e.invalidate)return r=a(function(){var i,o,s;for(r.invalidate(),i=[],o=0,s=n.length;s>o;o++)e=n[o],"function"==typeof e?i.push(e()):i.push(e);return t.apply(null,i)});for(r=a(function(){var r,i,o;for(r=[],i=0,o=n.length;o>i;i++)e=n[i],"function"==typeof e?r.push(e()):r.push(e);return t.apply(null,r)}),s=0,c=n.length;c>s;s++)e=n[s],e&&e.onInvalidate&&e.onInvalidate(r.invalidate);return r},i.react=a,i.renew=u,i.dependent=r,i.flow=i,i.see=c=function(t,e){var n,r;return n=t,r=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,r.invalidate()),t):n},r.isDuplex=!0,r.toString=function(){return"see: "+t},a(r)},i.seeN=function(){var t,e,n,r,i;for(e=1<=arguments.length?h.call(arguments,0):[],i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(c(t));return i},Object.defineProperty?(i.bind=function(t,e,n){var r,i,o,s,u;return i=Object.getOwnPropertyDescriptor(t,e),i&&(o=i.get,s=i.set),o&&o.invalidate||(r=t[e],o=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r},u=function(n){return n!==t[e]?(s&&s(n),o.invalidate(),r=n):void 0},a(o),o.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:o,set:u})),o},i.duplex=function(t,e,n){var r,i,o,s,u;return i=Object.getOwnPropertyDescriptor(t,e),i&&(o=i.get,u=i.set),u&&u.invalidate?u:(r=t[e],s=function(n){return arguments.length?n!==t[e]?(u&&u(n),o&&o.invalidate&&o.invalidate(),s.invalidate(),r=n):void 0:r},a(s),s.isDuplex=!0,s.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:s,set:s}),s)}):(i.bind=function(t,e,n){var r,i;return i=t._dcBindMethodMap,i||(i=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var r;return n!==t[e]?(i&&i[e]&&i[e].invalidate(),(r=this._dcDuplexMethodMap)&&r[e]&&r[e].invalidate()):void 0}),r=i[e],r||(r=i[e]=function(){return t[e]},r.toString=function(){return""+(n||"m")+"["+e+"]"},a(r)),r},i.duplex=function(t,e,n){var r,i;return i=t._dcDuplexMethodMap,i||(i=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var r;return n!==t[e]&&((r=this._dcBindMethodMap)&&r[e]&&r[e].invalidate(),i&&i[e]&&i[e].invalidate()),n}),r=i[e],r||(r=i[e]=function(n){return arguments.length?t.dcSet$(e,n):t[e]},r.isDuplex=!0,r.toString=function(){return""+(n||"m")+"["+e+"]"},a(r)),r}),i.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?i(t,function(){return e(t())}):function(){return e(t())}},i.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?i(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?i(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?i(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},function(t,e,n){var r,i,o=[].slice;e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,r;for(e=1<=arguments.length?o.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,r={};n>t;)r[e[t]]=e[t+1],t+=2;return r},r=function(t,e){var n,r;for(r="",n=0;n++<e;)r+=t;return r},e.newLine=function(t,e,n){return n?"\n"+r(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(r){return e=r,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},i=1,e.newDcid=function(){return i++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,r;if("("===t[e])for(r=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)r++;else if(")"===n){if(0===r)return++e;r--}},e.intersect=function(t){var e,n,r,i,o,s,a,u;o={},r=t[0];for(n in r){for(e=!0,u=t.slice(1),s=0,a=u.length;a>s;s++)if(i=u[s],!i[n]){e=!1;break}e&&(o[n]=r[n])}return o},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,r,i,o;if(i=e.length,!i)return 0;if(1===i)return e[0]>=t?0:1;for(o=0,n=i-1;;){if(r=o+Math.floor((n-o)/2),o===n)return e[r]>=t?r:r+1;if(t===e[r])return r;if(t===e[r+1])return r+1;if(t<e[r])n=r;else{if(!(t>e[r+1]))return r+1;o=r+1}}},e.binaryInsert=function(t,e){var n,r,i,o;if(i=e.length,!i)return e[0]=t,0;if(1===i)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(o=0,n=i-1;;){if(r=o+Math.floor((n-o)/2),o===n)return e[r]===t?r:e[r]>t?(e.splice(r,0,t),r):(e.splice(r+1,0,t),r+1);if(t===e[r])return r;if(t===e[r+1])return r+1;if(t<e[r])n=r;else{if(!(t>e[r+1]))return e.splice(r+1,0,t),r+1;o=r+1}}},e.numbers=function(t){var e,r,i;if(e=n(2),"function"==typeof t)return e(t,function(){var e,n,r;for(e=0,r=[],n=t();n>e;)r.push(e),e++;return r});for(r=0,i=[];t>r;)i.push(r),r++;return i}},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y,w,x,b,N,C,_;r=n(5),b=n(6),x=b.requestAnimationFrame,m=b.raf,h=b.isElement,N=n(3),f=N.newDcid,d=N.isEven,C=n(7),c=C.domNodeCache,v=C.readyFnList,u=C.directiveRegistry,y=C.renderCallbackList,l=n(8),t.exports=s=function(t,e){if(null==e&&(e={}),"string"==typeof t)return e.noCache?p(t,e.all):c[t]||(c[t]=p(t,e.all));if(t instanceof Node||t instanceof NodeList||t instanceof Array)return e.noCache?new r(t):t.dcid?c[t.dcid]:(t.dcid=f(),c[t.dcid]=new r(t));throw new Error("error type for dc")},p=function(t,e){return new r(e?document.querySelectorAll(t):document.querySelector(t))},"undefined"!=typeof window&&(window.dcid=f(),a=document.dcid=f(),window.$document=s.$document=c[a]=new r(document),a=document.body.dcid=f(),window.$body=s.$body=c[a]=new r(document.body)),s.onReady=function(t){return v.push(t)},s.offReady=function(t){return v.indexOf(t)>=0&&v.splice(index,1)},s.ready=function(){var t,e,n;for(e=0,n=v.length;n>e;e++)(t=v[e])()},"undefined"!=typeof window&&document.addEventListener("DOMContentLoaded",s.ready,!1),s.render=g=function(){var t,e,n,r;for(r=[],e=0,n=y.length;n>e;e++)t=y[e],r.push(t());return r},s.onRender=function(t){return y.push(t)},s.offRender=function(t){return y.indexOf(t)>=0&&y.splice(index,1)},s.renderLoop=w=function(){requestAnimFrame(w),g()},s.updateWhen=function(t,e,n,r){return s._renderWhenBy("update",t,e,n,r)},s.renderWhen=function(t,e,n,r){return s._renderWhenBy("render",t,e,n,r)},s._renderWhenBy=function(t,e,n,r,i){var s,a,u,c,h,d,f,p,m,v,y,w,x,b;if(e instanceof Array)if(r instanceof Array||(r=[r]),n instanceof Array)for(u=0,f=e.length;f>u;u++)for(s=e[u],c=0,p=n.length;p>c;c++)a=n[c],_(t,s,a,r);else for(h=0,m=e.length;m>h;h++)s=e[h],_(t,s,n,r);else if(e===setInterval)if(l(n))o(t,n,r);else if(n instanceof Array)for(d=0,v=n.length;v>d;d++)s=n[d],o(t,n,r);else"number"==typeof n&&(i=i||{},i.interval=n,o(t,r,i));else if(e===g){if(l(n))addRafUpdate(t,n,r);else if(n instanceof Array)for(x=0,y=n.length;y>x;x++)s=n[x],addRafUpdate(t,n,r)}else if(n instanceof Array)for(r instanceof Array||(r=[r]),b=0,w=n.length;w>b;b++)a=n[b],_(t,e,a,r);else r instanceof Array||(r=[r]),_(t,e,n,r)},_=function(t,e,n,r,i){var o,s,a,u,c;if("on"!==n.slice(0,2)&&(n="on"+n),i)i.method=t,e.eventUpdateConfig[n]=function(){var t,e,n;for(n=[],t=0,e=r.length;e>t;t++)o=r[t],n.push([o,i]);return n}();else{for(s=u=0,c=r.length;c>u;s=++u)a=r[s],r[s]=l(a)?[a,{method:t}]:a;e.eventUpdateConfig[n]=r}},o=function(t,e,n){var r,i,o,s,a;return o=null,a=n.test,s=n.interval,i=n.clear,r=function(){return(!a||a())&&e[t](),i&&i()?clearInterval(o):void 0},o=setInterval(r,s||16)},i=function(t,e,n){var r,i,o;return o=n.test,i=n.clear,r=function(){return(!o||o())&&e[t](),i&&i()?s.offRender(r):void 0},s.onRender(r)},s.directives=function(t,e){var n,r,i;if(1===arguments.length){i=[];for(r in t)n=t[r],"$"!==r[0]&&(r="$"+r),i.push(u[r]=n);return i}return"$"!==t[0]&&(t="$"+t),u[t]=e}},function(t,e,n){var r,i,o,s,a,u;o=n(3).newLine,u=n(6),i=u.addEventListener,a=u.removeEventListener,s=function(t,e,n,r){var i,o,s,a;if(null==n)return t;if(null==r){if("string"==typeof n)return t[n];for(a=[],r=o=0,s=n.length;s>o;r=++o)i=n[r],null==cacheProps[i]||r!==cacheProps[i]?a.push(cacheProps[i]=t[i]=r):a.push(void 0);return a}return null==cacheProps[n]||r!==cacheProps[n]?cacheProps[n]=this.node[n]=r:void 0},t.exports=r=function(){function t(t){var e;this.node=t,t instanceof Node?(this.cacheProps={},this.cacheStyle={}):(this.cacheProps=function(){var t,n,r,i;for(r=this.node,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push({});return i}.call(this),this.cacheStyle=function(){var t,n,r,i;for(r=this.node,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push({});return i}.call(this))}return t.prototype.prop=function(t,e){var n,r,i,o,a;if(i=this.node,i instanceof Node)s(i,this.cacheProps,t,e);else for(n=o=0,a=i.length;a>o;n=++o)r=i[n],s(r,this.cacheProps[n],t,e);return this},t.prototype.css=function(t,e){var n,r,i,o,a;if(i=this.node,i instanceof Node)s(i.style,this.cacheStyle,t,e);else for(n=o=0,a=i.length;a>o;n=++o)r=i[n],s(r.style,this.cacheStyle[n],t,e);return this},t.prototype.bind=function(t,e){var n,r,o,s,a,u,c,l;for(o=t.split(/\s+/),s=this.node,a=0,c=o.length;c>a;a++)if(r=o[a],"on"===r.slice(0,2)&&(r=r.slice(2)),s instanceof Node)i(s,r,e);else for(u=0,l=s.length;l>u;u++)n=s[u],i(n,r,e)},t.prototype.unbind=function(t,e){var n,r,i,o,s,u,c,l;for(i=t.split(/\s+/),o=this.node,s=0,c=i.length;c>s;s++)if(r=i[s],"on"===r.slice(0,2)&&(r=r.slice(2)),o instanceof Node)a(o,r,e);else for(u=0,l=o.length;l>u;u++)n=o[u],a(n,r,e)},t.prototype.toString=function(t,e){return null==t&&(t=0),o("",t,e)+"<DomNode>"+o(this.node.toString(),t+2,!0)+o("</DomNode>",t,!0)},t}()},function(t,e,n){var r,i;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.requestAnimationFrame=e.raf=i||function(t){window.setInterval(t,1e3/60)},e.normalizeDomElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t}),e.getBindProp=function(t){var e;if(e=t.tagName)return"textarea"===e||"select"===e?"value":"checkbox"===t.props.type?"checked":"value";throw new Error("trying to bind a Component which is not a Tag")},"undefined"!=typeof window&&(document.body.addEventListener?(e.addEventListener=function(t,e,n){t.addEventListener(e,n,!1)},e.removeEventListener=function(t,e,n){t.removeEventListener(e,n)}):(e.addEventListener=function(t,e,n){t.attachEvent(e,setCheckedValues)},e.removeEventListener=function(t,e,n){t.detachEvent(e,n)}),e.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}),r=n(2).renew,e.domField=function(t){var e;return null==t?"":"function"!=typeof t?t.then&&t["catch"]?(e=react(function(){return e.promiseResult}),t.then(function(t){return e.promiseResult=t,e.invalidate()})["catch"](function(t){return e.promiseResult=t,e.invalidate()}),e):t:t.invalidate?t:r(t)},e.domValue=function(t){return null==t?"":"function"!=typeof t?t:(t=t(),null==t?"":t)},"undefined"!=typeof window?e.checkConflictOffspring=function(t,e){var n,r;n=e.dcid;for(r in e.family){if(t[r])throw new Error("do not allow to have the same component to be referenced in different location of one List");t[r]=!0}}:e.checkConflictOffspring=function(t,e){}},function(t,e){t.exports={domNodeCache:{},readyFnList:[],useSystemUpdating:!1,directiveRegistry:{},renderCallbackList:[]}},function(t,e){t.exports=function(t){return t&&t.renderDom}},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},o=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var o;for(o in t);return"undefined"==typeof o||n.call(t,o)};t.exports=function s(){var t,e,n,r,a,u,c=arguments[0],l=1,h=arguments.length,d=!1;for("boolean"==typeof c?(d=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});h>l;++l)if(t=arguments[l],null!=t)for(e in t)n=c[e],r=t[e],c!==r&&(d&&r&&(o(r)||(a=i(r)))?(a?(a=!1,u=n&&i(n)?n:[]):u=n&&o(n)?n:{},c[e]=s(d,u,r)):"undefined"!=typeof r&&(c[e]=r));return c}},function(t,e,n){var e,r;r=n(9),t.exports=e=r({},n(11),n(29),n(31),n(22))},function(t,e,n){var r;r=n(12),t.exports={isComponent:n(8),toComponent:n(15),Component:n(14),BaseComponent:n(17),List:n(19),Tag:n(21),Text:n(18),Comment:n(23),Html:n(24),Nothing:n(16),TransformComponent:n(13),If:n(25),Case:n(26),Func:n(20),Each:n(27),Defer:n(28),Route:r.Route,route:r}},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y=[].slice,w={}.hasOwnProperty,x=function(t,e){function n(){this.constructor=t}for(var r in e)w.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=n(13),s=n(8),m=n(15),v=n(3),a=v.isEven,u=v.matchCurvedString,t.exports=p=function(){var t,e,n,r;return n=3<=arguments.length?y.call(arguments,0,r=arguments.length-2):(r=0,[]),e=arguments[r++],t=arguments[r++],g(n,e,t,0)},g=function(t,e,n,i){var o,u,c;if("function"==typeof n?(t.push(e),t.push(n),e=null,n=i):s(n)?(t.push(e),e=n,n=i):n&&!s(n)&&n.otherwise?(t.push(e),e=n.otherwise,n=i):(n>>>=0,e&&!s(e)&&e.otherwise&&(e=e.otherwise)),u=t.length,!a(u))throw new Error("route parameter error: missing matched handler");if(2>u||"function"!=typeof t[u-1])throw new Error("route parameter error:\n  expect route(pattern, handler, pattern, handler, ..., otherwise, baseIndex)");for(c=[],o=0;u>o;)c.push([t[o],t[o+1]]),o+=2;return new r(c,e,n)},p._navigateTo=h=function(t,e,n){var r,i;if(null==n&&(n=0),e=""+e,"/"!==e[0]){for(i=0;e;)if("./"===e.slice(0,2))e=e.slice(2);else{if("../"!==e.slice(0,3))break;e=e.slice(3),i++}return n-=i,0>n&&(n=0),r=t.split("/").slice(0,n).join("/")+"/","/"===r&&(r=""),e=r+e}return e=e.slice(1)},l=function(t){return function(e){var n,r;return r=window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(n=location.href.match(/#(.*)$/))?n[1]:"",h(r,e,t),window.history&&window.history.pushState?history.pushState(null,null,e):location.href=location.href.replace(/#(.*)$/,"")+"#"+e,e}},p.to=l(0),p.Route=r=function(t){function e(t,e,n){var r,i,s;for(this.routeList=t,this.otherwise=e,this.baseIndex=n,i=0,s=t.length;s>i;i++)r=t[i],r[0]=o(r[0]);this.otherwise=m(e)}return x(e,t),e.prototype.getContentComponent=function(){var t,e,n,r,i,o;for(e=this.getPath(),o=this.routeList,r=0,i=o.length;i>r;r++)if(n=o[r],t=f(n,e,this.baseIndex))return t;return this.otherwise},e.prototype.getPath=function(){var t;return window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(t=location.href.match(/#(.*)$/))?t[1]:""},e}(i),p._processRouteItem=f=function(t,e,n){var r,i,o,s,a,u;return s=t[0],i=t[1],s instanceof Array&&(u=s,s=u[0],a=u[1]),o=c(s,e,n),!o||a&&!(o=a(o,e,n))?void 0:(r=function(){var t,e,n,r;return n=3<=arguments.length?y.call(arguments,0,r=arguments.length-2):(r=0,[]),e=arguments[r++],t=arguments[r++],g(n,e,t,o.base)},r.to=l(o.base),m(i(o,r)))},p._processPiecePatterns=d=function(t,e,n){var r,i,o,s,a,c;for(i=0,s=t.length,a=[];r=t[i];)if(c=i,":"===r){if(r=t[++i],!r.match(/[A-Za-z_$]/))throw new Error("route pattern error: expect a parameter identifier "+t);for(r=t[++i];r&&r.match(/[$\w]/);)r=t[++i];if(i===c+1)throw new Error("route pattern error: expect a parameter identifier "+t);if(o=t.slice(c+1,i),e[o])throw new Error("route pattern error: repeated parameter name");if(e[o]=!0,"("===r){if(c=i,!(i=u(t,i)))throw new Error("route pattern error: missing ) for regexp");if(c+1===i-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:o,pattern:new RegExp(t.slice(c+1,i-1))}),r=t[i]}else a.push({key:o,pattern:new RegExp("\\w+")}),++i}else if("("===r){if(!(i=u(t,i)))throw new Error("route pattern error: missing ) for regexp");if(c+1===i-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:n++,pattern:new RegExp(t.slice(c+1,i-1))})}else{for(++i;(r=t[i])&&":"!==r&&"("!==r;)i++;a.push({pattern:t.slice(c,i)})}return[a,n]},p._getRoutePattern=o=function(t){var e,n,r,i,o,s,a,u,c,l,h,f,p,m;for(t=""+t,t.match(/\\\//)&&new Error("should not include /\\// in pattern"),f=""===t?[]:t.split("/"),p=0,e=!1,n=!0,r=!1,s=!1,h=[],u={},o=f.length,i=0,a=0;o>i;){if(l=f[i++],"."===l){if(n)continue;throw new Error("route pattern error: do not use ./ pattern except the start")}if(".."===l){if(n){p++;continue}throw new Error("route pattern error: do not use ../ except the start")}if(""===l)if(n)e=!0;else{if(i!==o)throw new Error("route pattern error: do not use ../ except the start");r=!0}else if("*"===l)h.push("*");else if("**"===l){if(i!==o)throw new Error("route pattern error: do not use ** except the last segment");s=!0}else m=d(l,u,a),c=m[0],a=m[1],h.push(c);n=!1}return{segmentPatterns:h,absolute:e,upCount:p,endSlash:r,moreComing:s}},p._matchRoute=c=function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y,w,x,b,N;if(!t.endSlash||"/"===e[e.length-1]){for(t.absolute?n=0:(n-=t.upCount,0>n&&(n=0)),"/"===e||""===e?d=[]:(d=e.split("/"),""===e[0]&&d.shift()),u=d.length,r=n,s={},g=[],N=t.segmentPatterns,o=y=0,x=N.length;x>y;o=++y){if(m=N[o],r>=u)return;if("*"!==m){for(l=0,v=h=d[r],w=0,b=m.length;b>w;w++)if(f=m[w],p=f.pattern,"string"==typeof p){if(0!==h.indexOf(p))break;h=h.slice(p.length),l+=p.length}else{if(!(c=h.match(p)))break;s[f.key]=c,l+=c[0].length}if(l!==v.length)return;g.push(v),r++}else g.push(d[r]),r++}if(r===u||t.moreComing)return i="/"+d.slice(0,n+1).join("/")+"/",a="/"+d.slice(r).join("/"),{items:s,basePath:i,segments:g,leftPath:a,base:r}}}},function(t,e,n){var r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(14),t.exports=i=function(t){function e(){e.__super__.constructor.call(this),this.valid=!1,this.transformValid=!1,this.isTransformComponent=!0}return s(e,t),e.prototype.invalidate=function(){return this.valid?(this.valid=!1,this.holder&&this.holder.invalidateContent(this)):void 0},e.prototype.invalidateContent=function(t){return this.invalidate()},e.prototype.invalidateTransform=function(){return this.transformValid=!1,this.invalidate()},e.prototype.renderDom=function(){var t,e,n,r,i;return i=this.parentNode,n=this.node,i?this.valid?(i&&!n.parentNode&&(t=this.baseComponent,t.parentNode=i,t.nextNode=this.nextNode,t.attachNode()),this):(this.valid=!0,!this.node&&this.emit("beforeAttach"),r=this.content,this.transformValid?e=r:(this.transformValid=!0,e=this.getContentComponent(),r&&e!==r&&(this.emit("contentChanged",r,e),r.parentNode=null,r.node&&r.node.parentNode&&r.removeDom()),this.content=e),e.holder=this,e.parentNode=this.parentNode,e.nextNode=this.nextNode,e.renderDom(),this.node=e.node,this.firstNode=e.firstNode,this.baseComponent=e.baseComponent,this):(this.holder=null,n&&n.parentNode?this.removeDom():this)},e.prototype.removeDom=function(){var t;return t=this.content,t.holder=null,t.parentNode=null,t.removeDom(),this.emit("afterRemoveDom"),this},e}(r)},function(t,e,n){var r,i,o,s,a,u,c,l,h=[].slice;s=n(9),l=n(6).normalizeDomElement,c=n(3).newDcid,a=n(8),o=n(4),i=1,u=[],t.exports=r=function(){function t(){this.listeners={},this.baseComponent=null,this.parentNode=null,this.node=null,this.dcid=c()}return t.prototype.on=function(t,e){var n;return n=this.listeners[t]||(this.listeners[t]=[]),n.push(e),this},t.prototype.off=function(t,e){var n;return n=this.listeners[t]||(this.listeners[t]=[]),n.indexOf(e)>=0&&n.splice(index,1),!n.length&&(this.listeners[t]=null),this},t.prototype.emit=function(){var t,e,n,r,i,o;if(r=arguments[0],t=2<=arguments.length?h.call(arguments,1):[],n=this.listeners[r]){for(i=0,o=n.length;o>i;i++)e=n[i],e.apply(this,t);return this}},t.prototype.mount=function(t,e){return this.emit("beforeMount"),this.parentNode=l(t)||this.parentNode||document.getElementsByTagName("body")[0],this.renderDom(),this.emit("afterMount"),this},t.prototype.create=function(){return this.renderDom()},t.prototype.render=function(){return this.renderDom()},t.prototype.update=function(){return this.emit("update"),this.renderDom(),this},t.prototype.unmount=function(){var t,e;if(this.emit("beforeUnmount"),!this.node||!this.node.parentNode)return this.emit("afterUnmount"),this;for(t=this,e=this.holder;e&&!e.isBaseComponent;)t=e,e=e.holder;return e&&(e.isList||e.isTag)&&e.removeChild(e.dcidIndexMap[t.dcid]),t.parentNode=null,e&&(e.isList||e.isTag)?e.renderDom():t.renderDom(),this.emit("afterUnmount"),t},t.prototype.remount=function(t){var e,n,r;for(this.emit("beforeMount"),e=this,n=this.holder;n&&!n.isBaseComponent;)e=n,n=n.holder;return(n.isList||n.isTag)&&(r=n.dcidIndexMap[e.dcid])&&(r=null!=r?r:n.children.length,n.insertChild(r,e)),e.parentNode=n?n.parentNode:t?t:document.body,e.invalidate(),n&&(n.isList||n.isTag)?n.renderDom():e.renderDom(),this.emit("afterMount"),e},t.prototype.updateWhen=function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],this._renderWhenBy("update",t)},t.prototype.renderWhen=function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],this._renderWhenBy("render",t)},t.prototype._renderWhenBy=function(t,e){return e[0]===setInterval?"number"===e[1]?o._renderWhenBy(t,setInterval,e[1],[this],e[2]):o._renderWhenBy(t,setInterval,[this],e[1]):e[1]===o.raf?o._renderWhenBy(t,o.raf,[this],e[1]):o._renderWhenBy(t,e[0],e[1],[this]),this},t.prototype.reachTag=function(){var t;for(t=this.holder;!t.isTag&&t.holder;)t=t.holder;return t},t.prototype.addController=function(t){return t.component=this},t.prototype.copyEventListeners=function(t){var e,n,r;n=this.listeners,r=t.listeners;for(e in r)r[e]&&(n[e]=r[e].splice());return this},t}()},function(t,e,n){var r,i,o,s,a,u;r=n(14),s=n(8),i=n(16),o=n(18),a=n(2).react,t.exports=u=function(t){var e,r,c,l;return s(t)?t:"function"==typeof t?new o(t):t instanceof Array?new(r=n(19))(function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)l=t[e],r.push(u(l));return r}()):null==t?new i:t.then&&t["catch"]?(e=n(20),c=new e(a(function(){return c.promiseResult})),t.then(function(t){return c.promiseResult=t,c.invalideTransform()})["catch"](function(t){return c.promiseResult=t,c.invalideTransform()}),c):new o(t)}},function(t,e,n){var r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),o=n(3).newLine,t.exports=i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.firstNode=null,this.family={},this.baseComponent=this}return a(e,t),e.prototype.createDom=function(){return this.node=[]},e.prototype.updateDom=function(){return this.node},e.prototype.attachNode=function(){return this.node},e.prototype.clone=function(){return new e},e.prototype.toString=function(t,e){return null==t&&(t=2),o("<Nothing/>",t,e)},e}(r)},function(t,e,n){var r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=n(14),o=n(3).cloneObject,t.exports=r=function(t){function e(){e.__super__.constructor.call(this),this.isBaseComponent=!0,this.baseComponent=this}return a(e,t),e.prototype.renderDom=function(){return this.parentNode?(this.node?this.valid||(this.valid=!0,this.updateDom()):(this.valid=!0,this.emit("beforeAttach"),this.createDom()),this.attachNode(this.parentNode,this.nextNode),this):this.node&&this.node.parentNode?(this.valid=!0,this.removeDom()):this},e.prototype.invalidate=function(){return this.valid?(this.valid=!1,this.holder&&this.holder.invalidateContent(this)):void 0},e.prototype.removeDom=function(){return this.removeNode(),this.emit("afterRemoveDom"),this},e.prototype.removeNode=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node)},e.prototype.attachNode=function(){var t;return t=this.node,this.parentNode===t.parentNode?t:(this.parentNode.insertBefore(t,this.nextNode),t)},e}(i)},function(t,e,n){var r,i,o,s,a,u,e,c,l,h,d,f,p={}.hasOwnProperty,m=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),d=n(3),c=d.funcString,l=d.newLine,h=d.value,u=d.dynamic,f=n(6),s=f.domField,a=f.domValue,e=t.exports=i=function(t){function e(t){e.__super__.constructor.call(this),o.call(this,t)}return m(e,t),e.prototype.createDom=function(){return this.textValid=!0,this.firstNode=this.node=document.createTextNode(a(this.text)),this.node},e.prototype.updateDom=function(){var t;return this.textValid?(this.textValid=!0,t=a(this.text),t!==this.cacheText&&(this.node.parentNode&&this.removeNode(),this.node=document.createTextNode(t),this.firstNode=this.node,this.cacheText=t),this.node):this.node},e.prototype.clone=function(){return new this.constructor(this.text).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),l(c(this.text),t,e)},e}(r),e.constructTextLikeComponent=o=function(t){var e;return e=this,this.text=t=s(t),"function"==typeof t&&t.onInvalidate(function(){return e.invalidate()}),this.family={},this.family[this.dcid]=!0,this}},function(t,e,n){var r,i,o,s,a,u,c,e,l,h,d,f,p={}.hasOwnProperty,m=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v=[].slice;d=n(15),r=n(17),o=n(16),f=n(3),c=f.checkContainer,l=f.newLine,a=f.binarySearch,s=f.binaryInsert,h=f.substractSet,u=n(6).checkConflictOffspring,t.exports=e=i=function(t){function e(t){var n,r,i,o,s,a;for(this.children=t,e.__super__.constructor.call(this),this.family=i={},i[this.dcid]=!0,this.dcidIndexMap=r={},o=s=0,a=t.length;a>s;o=++s)n=t[o],t[o]=n=d(n),u(i,n),n.holder=this,r[n.dcid]=o;this.isList=!0}return m(e,t),e.prototype.invalidateContent=function(t){return this.valid=!1,this.contentValid=!1,this.node&&s(this.dcidIndexMap[t.dcid],this.invalidIndexes),this.holder&&this.holder.invalidateContent(this)},e.prototype.createDom=function(){var t,e,n,r,i,o,s,a;if(r=this.children.length)for(o=this.parentNode,e=this.children,e[r-1].nextNode=this.nextNode,n=s=0,a=e.length;a>s;n=++s)t=e[n],t.parentNode=o;return this.node=this.childNodes=i=[],i.parentNode=this.parentNode,this.createChildrenDom(),this.firstNode=this.childFristNode,this.childrenNextNode=this.nextNode,this.node},e.prototype.createChildrenDom=function(){var t,e,n,r,i;for(i=this.childNodes,this.invalidIndexes=[],
this.removedChildren={},e=this.children,r=e.length-1,n=null;r>=0;)t=e[r],t.holder!==this&&(t.invalidate(),t.holder=this),t.renderDom(),i.unshift(t.node),n=t.firstNode||n,r&&(e[r-1].nextNode=n||t.nextNode),r--;return this.childFristNode=n,i},e.prototype.updateDom=function(){var t,e,n,r,i,o;for(t=this.children,r=this.parentNode,n=this.invalidIndexes,i=0,o=n.length;o>i;i++)e=n[i],t[e].parentNode=r;return this.childrenNextNode=this.nextNode,this.updateChildrenDom()},e.prototype.updateChildrenDom=function(){var t,e,n,r,i,o,s,a,u,c,l,h;if(i=this.invalidIndexes,!i.length){l=this.removedChildren;for(c in l)t=l[c],t.removeDom();return this.removedChildren={},e}for(n=this.children,this.invalidIndexes=[],u=this.parentNode,s=this.nextNode,e=this.childNodes,a=s,r=i.length-1,n[n.length-1].nextNode=this.childrenNextNode;r>=0;)o=i[r],t=n[o],t.holder!==this&&(t.invalidate(),t.holder=this),t.renderDom(),e[o]=t.node,o&&(n[o-1].nextNode=t.firstNode||s),r--;h=this.removedChildren;for(c in h)t=h[c],t.removeDom();return this.removedChildren={},e},e.prototype.removeNode=function(){var t,e,n,r;for(this.node.parentNode=null,r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.baseComponent.removeNode()},e.prototype.pushChild=function(t){return this.setChildren(this.children.length,t)},e.prototype.unshiftChild=function(t){return this.insertChild(0,t)},e.prototype.insertChild=function(t,e){var n,r,i,o;if(n=this.children,t>=n.length)return this.setChildren(t,e);if(this.invalidate(),e=d(e),n.splice(t,0,e),this.dcidIndexMap[e.dcid]=t,this.node)for(i=this.invalidIndexes,r=s(t,i),o=i.length,r++;o>r;)i[r]++,r++;return this},e.prototype.removeChild=function(t){var e,n,r,i;return n=this.children,t>n.length?this:(this.invalidate(),e=n[t],e.parentNode=null,h(this.family,e.family),n.splice(t,1),this.node&&(i=this.invalidIndexes,r=a(t,i),i[r]===t&&i.splice(i,1),n[t-1]&&(n[t-1].nextNode=e.nextNode),this.node.splice(t,1),this.removedChildren[e.dcid]=e),this)},e.prototype.invalidChildren=function(t,e){var n,r,i;if(null==e&&(e=t+1),!this.node)return this;for(this.invalidate(),i=this.invalidIndexes,n=a(t,this.invalidIndexes);e>t;)r=i[n],r!==t&&i.splice(n,0,t),n++,t++;return this},e.prototype.setChildren=function(){var t,e,n,r,i,s,c,l,f,p,m,g,y,w,x;if(w=arguments[0],f=2<=arguments.length?v.call(arguments,1):[],this.invalidate(),e=this.children,r=this.family,p=this.node,n=this.dcidIndexMap,w>(g=e.length)){for(i=g;w>i;)f.unshift(new o),i++;w=g}for(p&&(l=this.invalidIndexes,y=this.removedChildren,s=a(w,this.invalidIndexes)),x=w+f.length,i=0;x>w;)t=d(f[i]),m=e[w],null==m&&(e[w]=new o),m===t?p&&(c=l[s],c&&x>c&&s++):(m&&(h(r,m.family),p&&(this.removedChildren[m.dcid]=m)),u(r,t),e[w]=t,n[t.dcid]=w,p&&(c=l[s],c!==w&&l.splice(s,0,w),s++)),w++,i++;return this},e.prototype.setLength=function(t){var e,n,r;if(e=this.children,t>=e.length)return this;for(r=e.length-1,this.node&&(n=a(t,this.invalidIndexes),this.invalidIndexes=this.invalidIndexes.slice(0,n));r>=t;)this.removeChild(r),r--;return this},e.prototype.attachNode=function(){var t,e,n,r,i,o;if(n=this.children,(o=this.parentNode)!==this.node.parentNode&&(this.node.parentNode=o,n.length))for(i=this.nextNode,r=n.length-1,n[r].nextNode=i;r>=0;)e=n[r],e.parentNode=o,t=e.baseComponent,t.parentNode=o,t.nextNode=e.nextNode,t.attachNode(),r&&(n[r-1].nextNode=e.firstNode||e.nextNode),r--;return this.node},e.prototype.removeDom=function(){var t,e,n,r;for(this.node.parentNode=null,r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.parentNode=null,t.removeDom();return this.emit("afterRemoveDom"),this},e.prototype.clone=function(){var t;return new e(function(){var e,n,r,i;for(r=this.children,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.clone());return i}.call(this)).copyEventListeners(this)},e.prototype.toString=function(t,e){var n,r,i,o,s;if(null==t&&(t=0),this.children.length){for(r=l("<List>",t,e),s=this.children,i=0,o=s.length;o>i;i++)n=s[i],r+=n.toString(t+2,!0);return r+=l("</List>",t,!0)}return l("<List/>",t,e)},e}(r)},function(t,e,n){var r,i,o,s,a,u,c,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=n(15),i=n(13),c=n(3),o=c.funcString,s=c.newLine,a=n(2).renew,t.exports=r=function(t){function e(t){return e.__super__.constructor.call(this),t.invalidate?this.func=t:this.func=a(t),this.func.onInvalidate(this.invalidateTransform.bind(this)),this}return h(e,t),e.prototype.getContentComponent=function(){return u(this.func())},e.prototype.clone=function(){return new e(function(){return u(func()).clone()}).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),s("<Func "+o(this.func)+"/>",t,e)},e}(i)},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y,w,x,b,N,C={}.hasOwnProperty,_=function(t,e){function n(){this.constructor=t}for(var r in e)C.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},S=[].slice;p=n(9),l=n(4),b=n(22),u=b.classFn,y=b.styleFrom,f=b.eventHandlerFromArray,a=b.attrToPropName,x=b.updating,r=n(17),s=n(18),i=n(19),N=n(3),v=N.funcString,g=N.newLine,c=N.cloneObject,h=n(7).directiveRegistry,m=n(2).flow,d=n(6).domField,w=n(15),t.exports=o=function(t){function e(t,n,r){null==n&&(n={}),e.__super__.constructor.call(this,r),delete this.isList,this.isTag=!0,this.tagName=t=t.toLowerCase(),this.namespace=n.namespace,this.namespace||("svg"===t?this.namespace="http://www.w3.org/2000/svg":"math"===t&&(this.namespace="http://www.w3.org/1998/Math/MathML")),this.initAttrs(),this.extendAttrs(n)}return _(e,t),e.prototype.initAttrs=function(){var t,e,n,r,i;return n=this,this.hasActiveProperties=!1,this.cacheClassName="",this.className=t=u(),this.className.onInvalidate(function(){return t.valid?(n.hasActiveProperties=!0,n.invalidate()):void 0}),this.hasActiveProps=!1,this.cacheProps={},this.props=r={},this.invalidateProps={},this.hasActiveStyle=!1,this.cacheStyle={},this.style=i={},this.invalidateStyle={},this.hasActiveEvents=!1,this.events=e={},this.eventUpdateConfig={}},e.prototype.extendAttrs=function(t){var e,n,r,i,o,s,a,u,c,l,d,f,p,m,v;e=this.className,s=this.style,o=this.props;for(i in t)if(l=t[i],"style"===i){a=y(l);for(i in a)l=a[i],this.setProp(i,l,s,"Style")}else if("class"===i||"className"===i)e.extend(l);else if("on"===i.slice(0,2)){if(!l)continue;if("function"==typeof l)this.bindOne(i,l);else if(c=l[0],"before"===c||"after"===c)for(v=l.slice(1),d=0,p=v.length;p>d;d++)u=v[d],this.bindOne(i,u,"before"===c);else for(f=0,m=l.length;m>f;f++)u=l[f],this.bindOne(i,u)}else"$"===i[0]?(n=h[i],(r=l instanceof Array?n.apply(null,l):n.apply(null,[l]))(this)):this.setProp(i,l,o,"Props");return this},e.prototype.prop=function(){var t;return t=1<=arguments.length?S.call(arguments,0):[],this._prop(t,this.props,"Props")},e.prototype.css=function(){var t;return t=1<=arguments.length?S.call(arguments,0):[],this._prop(t,this.style,"Style")},e.prototype._prop=function(t,e,n){var r,i,o;if(0===t.length)return e;if(1===t.length){if(i=t[0],"string"==typeof i)return e[i];for(r in i)o=i[r],this.setProp(r,o,e,n)}else 2===t.length&&this.setProp(t[0],t[1],e,n);return this},e.prototype.setProp=function(t,e,n,r){var i,o,s;return t=a(t),e=d(e),s=n[t],null==s?"function"==typeof e?this.addActivity(n,t,r):e!==this["cache"+r][t]&&this.addActivity(n,t,r):"function"==typeof s&&s.offInvalidate(this["invalidate"+r][t]),"function"==typeof e&&(o=this,this["invalidate"+r][t]=i=function(){return o.addActivity(n,t,r,!0),n[t]=e},e.onInvalidate(i)),n[t]=e,this},e.prototype.addActivity=function(t,e,n){return this["hasActive"+n]=!0,this.hasActiveProperties=!0,this.node?this.invalidate():void 0},e.prototype.bind=function(t,e,n){var r,i,o;for(t=t.split("s+"),i=0,o=t.length;o>i;i++)r=t[i],this.bindOne(r,e,n);return this},e.prototype.bindOne=function(t,e,n){var r,i,o;if("on"!==t.slice(0,2)&&(t="on"+t),i=this.events,r=i[t]){if(o=r.indexOf(e),o>=0)return this;n?r.unshift.call(r,e):r.push.call(r,e)}else i[t]=[e],this.node?this.node[t]=f(i[t],t,this):(this.hasActiveEvents=!0,this.hasActiveProperties=!0);return this},e.prototype.unbind=function(t,e){var n,r,i,o,s,a;for(t=t.split("s+"),i=this.events,s=0,a=t.length;a>s;s++)r=t[s],"on"!==r.slice(0,2)&&(r="on"+r),n=i[r],n&&(o=n.indexOf(e),o>=0&&(n.splice(o,1),n.length||(i[r]=null,this.node&&(this.node[prop]=null))));return this},e.prototype.addClass=function(){var t;return t=1<=arguments.length?S.call(arguments,0):[],this.className.extend(t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.removeClass=function(){var t,e;return t=1<=arguments.length?S.call(arguments,0):[],(e=this.className).removeClass.apply(e,t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.show=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),null==t?this.setProp("display","block",this.style,"Style"):"visible"===t?this.setProp("visibility","visible",this.style,"Style"):this.setProp("display",t,this.style,"Style"),this.update(),this},e.prototype.hide=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),t?"hidden"===t?this.setProp("visibility","hidden",this.style,"Style"):this.setProp("display",t,this.style,"Style"):this.setProp("display","none",this.style,"Style"),this.update(),this},e.prototype.showHide=function(t,e,n){var r,i,o,s,a;return a=this.style,e=d(e),s=a.display,s?"function"==typeof s&&s.offInvalidate&&s.offInvalidate(this.invalidateStyle.display):this.addActivity(a,"display","Style",this.node),a.display=o=m(e,s,function(){var r;return("function"==typeof e?!!e():!!e)===t?n?"function"==typeof n?n():n:null!=s?(r="function"==typeof s?s():s,"none"!==r?r:"block"):s="block":"none"}),i=this,this.invalidateStyle.display=r=function(){return i.addActivity(a,"display","Style",!0),a.display=o},o.onInvalidate(r),this.style=a,this},e.prototype.showOn=function(t,e){return this.showHide(!0,t,e)},e.prototype.hideOn=function(t,e){return this.showHide(!1,t,e)},e.prototype.createDom=function(){var t,e,n,r,i,o;for(this.node=r=this.namespace?document.createElementNS(this.namespace,this.tagName):document.createElement(this.tagName),this.hasActiveProperties&&this.updateProperties(),e=this.children,i=0,o=e.length;o>i;i++)t=e[i],t.parentNode=r;return(n=e.length)&&(e[n-1].nextNode=null),this.childNodes=[],this.createChildrenDom(),this.firstNode=r,r},e.prototype.updateDom=function(){var t,e,n,r,i,o;for(this.hasActiveProperties&&this.updateProperties(),t=this.children,r=this.node,n=this.invalidIndexes,i=0,o=n.length;o>i;i++)e=n[i],t[e].parentNode=r;return this.updateChildrenDom(),this.firstNode=this.node},e.prototype.removeDom=function(){return this.removeNode(),this.emit("afterRemoveDom"),this},e.prototype.attachNode=function(){var t;return t=this.node,this.parentNode===t.parentNode?t:(this.parentNode.insertBefore(t,this.nextNode),t)},e.prototype.removeNode=function(){return this.node.parentNode.removeChild(this.node)},e.prototype.updateProperties=function(){var t,e,n,r,i,o,s,a,u,c,l,h,d;if(this.hasActiveProperties=!1,u=this.node,r=this.className,r.valid||(i=r(),i!==this.cacheClassName&&(this.cacheClassName=u.className=i)),this.hasActiveProps){l=this.props,t=this.cacheProps,this.hasActiveProps=!1;for(c in l)d=l[c],delete l[c],"function"==typeof d&&(d=d()),null==d&&(d=""),t[c]=u[c]=d}if(this.hasActiveStyle){h=this.style,e=this.cacheStyle,this.hasActiveStyle=!1,o=u.style;for(c in h)d=h[c],delete h[c],"function"==typeof d&&(d=d()),null==d&&(d=""),e[c]=o[c]=d}if(this.hasActiveEvents){a=this.events;for(s in a)n=a[s],u[s]=f(n,s,this)}this.hasActiveEvents=!1},e.prototype.clone=function(){var t,n,r,i,o;for(n=[],o=this.children,r=0,i=o.length;i>r;r++)t=o[r],n.push(t.clone());return new e(this.tagName,this.attrs,n).copyEventListeners(this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l,h,d;null==t&&(t=0),o=g("<"+this.tagName,t,e),l=this.props;for(i in l)a=l[i],o+=" "+i+"="+v(a);if(this.hasActiveStyle){o+=" style={",h=this.style;for(i in h)if(a=h[i],"string"==typeof a)o+=a;else for(i in a)s=a[i],o+=" "+i+"="+v(s);o+="}"}if(o+=">",r=this.children,r.length>1){for(d=this.children,u=0,c=d.length;c>u;u++)n=d[u],o+=n.toString(t+2,!0);return o+=g("</"+this.tagName+">",t+2,!0)}return 1===r.length&&(o+=r[0].toString(t+2)),o+=g("</"+this.tagName+">",t+2)},e}(i)},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v=[].slice;m=n(3),l=m.isArray,o=m.cloneObject,a=n(6).domField,f=n(2).react,u=n(9),h=n(8).isComponent,e.extendEventValue=c=function(t,e,n,r){var i;return i=t[e],i?i instanceof Array||(i=[i]):i=[],n?n instanceof Array||(n=[n]):n=[],r?t[e]=n.concat(i):t[e]=i.concat(n)},e.extendAttrs=function(t,e,n){var r,o,s;if(null==n&&(n={}),!e)return t;if(!t)return e;o=i([e["class"],e.className]),n.replaceClass?t.className=o:(t.className=i([t["class"],t.className]),delete t["class"],t.className=i([t.className,o])),e.style&&u(p(t.style),e.style);for(r in e)s=e[r],"on"===r.slice(0,2)?n["replace_"+r]||n.replaceEvents?t[r]=s:c(t,r,s):t[r]=s;return t},e.overAttrs=d=function(t,e){var n,r;if(e){if(t){for(n in t)r=t[n],null==e[n]&&(e[n]=r),"style"===n&&(e[n]=d(t[n],e[n]));return e}return e}return t=u({},t),t.style&&(t.style=u({},p(t.style))),t},e.classFn=i=function(){var t,e,n,r,i;return n=1<=arguments.length?v.call(arguments,0):[],t={},r=function(){var n,i,o;if(!arguments.length){i=[],r.valid=!0;for(n in t)o=t[n],"function"==typeof o&&(o=o()),o&&i.push(n);return i.join(" ")}e(arguments.slice())},i=function(e,n){var i;return n=a(n),i=t[e],"function"==typeof i&&i.offInvalidate(r.invalidate),!n&&i?(r.invalidate(),delete t[e]):i!==n?(r.invalidate(),"function"==typeof n&&n.onInvalidate(r.invalidate),t[e]=n):void 0},e=function(t){var n,r,o,s,a,u,c,h,d;if(t)for(l(t)||(t=[t]),a=0,c=t.length;c>a;a++)if(n=t[a])if("string"==typeof n)for(o=n.trim().split(/\s+(?:,\s+)?/),u=0,h=o.length;h>u;u++)r=o[u],"!"===r[0]?i(r.slice(1),!1):i(r,!0);else if(n instanceof Array)e(n);else if(n&&n.classMap){d=n.classMap;for(r in d)s=d[r],"function"!=typeof s&&(s=!0),i(r,s)}else if("object"==typeof n)for(r in n)s=n[r],"function"!=typeof s&&(s=!0),i(r,s)},f(r),e(n),r.classMap=t,r.valid=!Object.keys(t).length,r.removeClass=function(){var t,e,n,r,o;for(e=1<=arguments.length?v.call(arguments,0):[],o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(i(t,!1));return o},r.extend=function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],e(t)},r},e.styleFrom=p=function(t){var e,n,r,i,s,a,u,c,l,h;if("string"==typeof t){for(r={},t=t.trim().split(/\s*;\s*/),s=0,u=t.length;u>s;s++)e=t[s],e=e.trim(),e&&(l=e.split(/\s*:\s*/),n=l[0],i=l[1],r[n]=i);return r}if(t instanceof Array){for(r={},a=0,c=t.length;c>a;a++){if(e=t[a],"string"==typeof e){if(e=e.trim(),!e)continue;h=e.split(/\s*:\s*/),n=h[0],t=h[1]}else n=e[0],t=e[1];r[n]=t}return r}return t&&"object"!=typeof t?{}:o(t)},s=n(7),e.eventHandlerFromArray=function(t,e,n){return function(r){var i,o,a,u,c,l,h,d,f,p;for(a=n.node,l=0,d=t.length;d>l;l++)o=t[l],o&&o.call(a,r,n);if(c=n.eventUpdateConfig[e])for(h=0,f=c.length;f>h;h++)p=c[h],i=p[0],u=p[1],(u.alwaysUpdating||!s.useSystemUpdating)&&i[u.method]();r&&(!r.executeDefault&&r.preventDefault(),!r.continuePropagation&&r.stopPropagation())}},r={"for":"htmlFor"},e.attrToPropName=function(t){var e,n,i,o;if(i=r[t])return i;if(o=t.split("-"),1===o.length)return t;for(e=1,n=o.length;n>e;)o[e]=o[e][0].toUpperCase()+o[e].slice(1),e++;return o.join("")}},function(t,e,n){var r,i,o,s,a,u,c,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),o=n(18).constructTextLikeComponent,c=n(3),a=c.funcString,u=c.newLine,s=n(6).domValue,t.exports=i=function(t){function e(t){e.__super__.constructor.call(this),o.call(this,t)}return h(e,t),e.prototype.createDom=function(t,e){return this.node=document.createComment(s(this.text)),this.node},e.prototype.updateDom=function(t,e){return this.text&&(this.node.data=s(this.text)),this.node},e.prototype.toString=function(t,e){return null==t&&(t=2),u("<Comment "+a(this.text)+"/>",t,e)},e}(r)},function(t,e,n){var r,i,o,s,a,u,c,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),o=n(18).constructTextLikeComponent,c=n(3),a=c.funcString,u=c.newLine,s=n(6).domValue,t.exports=i=function(t){function e(t,n){this.transform=n,e.__super__.constructor.call(this),o.call(this,t)}return h(e,t),e.prototype.createDom=function(){var t;return this.textValid=!0,t=document.createElement("DIV"),t.innerHTML=this.cacheText=this.transform&&this.transform(s(this.text))||s(this.text),this.node=function(){var e,n,r,i;for(r=t.childNodes,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t);return i}(),this.firstNode=this.node[0],this},e.prototype.updateDom=function(){var t,e;return this.textValid?(this.textValid=!0,e=this.transform&&this.transform(s(this.text))||s(this.text),e!==this.cacheText&&(this.node.parentNode&&this.removeNode(),t=document.createElement("DIV"),t.innerHTML=e,this.node=t.childNodes,this.firstNode=this.node[0],this.cacheText=e),this):this},e.prototype.attachNode=function(){var t,e,n,r,i;if(e=this.node,n=this.parentNode,n===e.parentNode)return e;for(e.parentNode=n,r=0,i=e.length;i>r;r++)t=e[r],n.insertBefore(t,this.nextNode);return e},e.prototype.removeNode=function(){var t,e,n,r,i;for(e=this.node.parentNode,i=this.node,n=0,r=i.length;r>n;n++)t=i[n],e.removeChild(t);this.node.parentNode=null},e.prototype.toString=function(t,e){return null==t&&(t=2),u("<Html "+a(this.text)+"/>",t,e)},e}(r)},function(t,e,n){var r,i,o,s,a,u,c,l,h={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=n(15),i=n(13),l=n(3),o=l.funcString,a=l.newLine,s=l.intersect,u=n(2).renew,t.exports=r=function(t){function e(t,n,r){var i;return n===r?c(n):(n=c(n),r=c(r),"function"!=typeof t?t?n:r:(e.__super__.constructor.call(this),this.then_=n,this.else_=r,this.family=i=s([n.family,r.family]),i[this.dcid]=!0,t.invalidate?this.test=t:this.test=u(t),this.test.onInvalidate(this.invalidateTransform.bind(this)),this))}return d(e,t),e.prototype.getContentComponent=function(){return this.test()?this.then_:this.else_},e.prototype.clone=function(){return new e(this.test,this.then_.clone(),this.else_.clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),a("",t,e)+"<if "+o(this.test)+">"+this.then_.toString(t+2,!0)+this.else_.toString(t+2,!0)+a("</if>",t,!0)},e}(i)},function(t,e,n){var r,i,o,s,a,u,c,l,h={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=n(15),i=n(13),l=n(3),o=l.funcString,a=l.newLine,s=l.intersect,u=n(2).renew,t.exports=r=function(t){function e(t,n,r){var i,o,a,l,h;if(this.map=n,"function"!=typeof t)return c(n.hasOwnPoperty(t)?n[a]:r);e.__super__.constructor.call(this),t.invalidate?this.test=t:this.test=u(t),this.test.onInvalidate(this.invalidateTransform.bind(this));for(a in n)l=n[a],n[a]=c(l);this.else_=c(r),i=function(){var t,e;t=this.map,e=[];for(h in t)l=t[h],e.push(l.family);return e}.call(this),i.push(this.else_.family),this.family=o=s(i),o[this.dcid]=!0}return d(e,t),e.prototype.getContentComponent=function(){return this.map[this.test()]||this.else_},e.prototype.clone=function(){var t,n,r,i;t={},i=this.map;for(n in i)r=i[n],t[n]=r.clone();return new e(this.test,t,this["else"].clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){var n,r,i,s;null==t&&(t=0),i=a("",t,e)+"<Case "+o(this.test)+">",s=this.map;for(r in s)n=s[r],i+=a(r+": "+n.toString(t+2,!1),t+2,!0);return i+=this.else_.toString(t+2,!0)+a("</Case>",t,!0)},e}(i)},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y,w,x={}.hasOwnProperty,b=function(t,e){function n(){this.constructor=t}for(var r in e)x.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};p=n(15),a=n(13),o=n(19),i=n(20),s=n(18),g=n(3),l=g.isArray,c=g.funcString,h=g.newLine,y=n(2),d=y.react,f=y.renew,u=y.flow,w=n(1),m=w.watchEachList,v=w.watchEachObject,t.exports=r=function(t){function e(t,n,r){var i,s;this.itemFn=n,null==r&&(r={}),e.__super__.constructor.call(this),this.family={},s=this,"function"==typeof t&&(this.isFunction=!0,!t.invalidate&&(t=f(t)),t.onInvalidate(this.invalidateTransform.bind(this))),this.items=t,r.sort&&(this.needSort=!0,"function"==typeof r.sort?this.sortFunction=r.sort:this.sortFunction=null),i=r.key,this.keyFunction="function"==typeof i?i:null!=i?function(t,e){return t[i]}:void 0,this.childReactives=[],this.memoComponents={},this.memoChildMap={},this.cacheChildren=[],this.listComponent=new o([]),this.listComponent.holder=this}return b(e,t),e.prototype.getItems=function(){},e.prototype.getContentComponent=function(){var t,e,n,r,i,o,s,a,u;if(i=this.listComponent,e=this.items,t=this.isFunction,o=this.needSort,!e)return this.emptyPlaceHolder||(this.emptyPlaceHolder=new Nothing);if(t){if(e=e(),!e)return this.emptyPlaceHolder||(this.emptyPlaceHolder=new Nothing);if("object"!=typeof e)throw new Error("Each Component need an array or object")}return(this.isArrayItems=e instanceof Array)||(e=function(){var t;t=[];for(n in e)s=e[n],t.push([n,s]);return t}()),o?e.sort(this.sortFunction):(u=this._items,u&&u.watchingComponents&&delete u.watchingComponents[this.dcid],a=e&&e.watchingComponents&&e.watchingComponents[this.dcid],this.notWatch||a||(this.isArrayItems?m(e,this):v(e,this))),this._items=e,r=e.length,r<i.children.length?(this._setLength(r),(t||o||!this.isArrayItems)&&this.invalidateChildren(0,r)):this.invalidateChildren(0,r),i},e.prototype.getChild=function(t){var e,n,r,o,s,a,u,c,l;if(c=this,a&&(l=this.isArrayItems?a(_items[t],t):a(_items[t][0],_items[t][1],t)),u=this.listComponent,e=this.cacheChildren,o=this.children,r=this.childReactives,a=this.keyFunction,s=this.itemFn,o=u.children,a){if(this.memoChildMap[l])throw new Error("duplicated memo key in Each Component");if(n=this.memoComponents[l])return n.valid=!1,n.transformValid=!1,o[t]=e[t]=n,this.memoChildMap[l]=n,n}return t<o.length?(n=o[t],n.valid=!1,n.transformValid=!1):t<e.length?(n=o[t]=e[t],n.valid=!1,n.transformValid=!1):(r[t]=d(function(){var e,r,i,o,a;return r=c._items,e=r[t],s.pouring&&n.invalidateTransform(),o=c.isArrayItems?s(e,t,r,c):(i=e[0],a=e[1],e,s(a,i,t,r,c))}),o[t]=e[t]=n=new i(r[t]),n.holder=u,u.dcidIndexMap[n.dcid]=t),n},e.prototype.invalidateChildren=function(t,e){var n,r,i,o;for(null==e&&(e=t+1),r=t,i=this.listComponent,n=i.children,o=n.length;e>r;)this.getChild(r),r++;return e>o&&(n[e-1].nextNode=this.nextNode),i.invalidChildren(t,e),this},e.prototype._setLength=function(t){var e,n,r;if(n=this.listComponent,r=n.children.length,t>=r)return this;if(this.keyFunction)for(e=t;r>e;)delete memoChildMap[children[e].memoKey],e++;return n.setLength(t),this},e.prototype.clone=function(t){return new e(this.items,this.itemFn,t||this.options).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),h("<Each "+c(this.items)+" "+c(this.itemFn)+"/>",t,e)},e}(a)},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=n(15),a=n(13),u=n(9),p=n(3),c=p.funcString,h=p.newLine,l=p.intersect,d=n(2).renew,o=0,i=1,s=2,t.exports=r=function(t){function e(t,n,r,a){var u;return this.promise=t,e.__super__.constructor.apply(this,arguments),this.fulfill=n||function(t){return t},this.reject=r||function(t){return t},this.init=a&&a(t,this)||new Nothing,this.family=u=l([fullfill.family,r.family,a.family]),u[this.dcid]=!0,this.promiseState=o,t.then(function(t){return this.promiseResult=t,this.promiseState=i,this.invalidateTransform()})["catch"](function(t){return this.promiseResult=t,this.promiseState=s,this.invalidateTransform()}),this}return v(e,t),e.prototype.getContentComponent=function(){var t;return(t=this.promiseState)===o?init:f(t===i?this.fulfill(this.promiseResult,this.promise,this):this.reject(this.promiseResult,this.promise,this))},e.prototype.clone=function(){return new e(this.promise,this.fulfill,this.reject,this.init.clone).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),h("",t,e)+"<Defer "+this.promise+">"+h("",t,e)+c(this.fulfill)+h("",t,e)+c(this.reject)+this.init.toString(t+2,!0)+h("</Defer>",t,!0)},e}(a),u(r,{INIT:o,FULFILL:i,REJECT:s})},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y,w,x,b,N,C,_,S,I,D=[].slice;S=n(11),o=S.Component,C=S.toComponent,y=S.isComponent,f=S.Tag,p=S.Text,i=S.Comment,c=S.Html,l=S.If,r=S.Case,u=S.Func,h=S.List,a=S.Each,d=S.Nothing,s=S.Defer,I=n(3),w=I.isEven,b=I.numbers,g=n(30).isAttrs,m=function(t){var e;return e=t[0],t.length?null==e?[{},t.slice(1)]:e instanceof Array?[{},t]:"function"==typeof e?[{},t]:"object"==typeof e?y(e)?[{},t]:[e,t.slice(1)]:[{},t]:[{},[]]},_=function(t){return t instanceof Array?t.length?1===t.length?_(t[0]):t:[]:[t]},N=e.tag=function(){var t,e,n,r,i;return r=arguments[0],t=2<=arguments.length?D.call(arguments,1):[],i=m(t),e=i[0],n=i[1],new f(r,e,_(n))},e.nstag=function(){var t,e,n,r,i,o;return i=arguments[0],r=arguments[1],t=3<=arguments.length?D.call(arguments,2):[],o=m(t),e=o[0],n=o[1],new f(i,e,_(n),r)},e.txt=function(t,e){return g(t)?new f("div",t,[new p(e)]):new p(t)},e.comment=function(t,e){return g(t)?new f("div",t,[new i(e)]):new i(t)},e.html=function(t,e,n){return g(t)?new f("div",t,[new c(e,n)]):new c(t,e)},e.if_=function(t,e,n,r){return g(t)?new f("div",t,[new l(e,n,r)]):new l(t,e,n,r)},e.case_=function(t,e,n,i){return g(t)?new f("div",t,[new r(e,n,i)]):new r(t,e,n,i)},e.cond=function(){var t,e,n,r;return t=arguments[0],e=3<=arguments.length?D.call(arguments,1,r=arguments.length-1):(r=1,[]),n=arguments[r++],g(t)?(w(e)||(e.push(n),n=null),new f("div",t,[new Cond(e,n)])):(e.unshift(t),w(e)||(e.push(n),n=null),new Cond(e,n))},e.func=function(t,e){return g(t)?new f("div",t,[new u(e)]):new u(t)},e.list=x=function(){var t,e;return t=arguments[0],e=2<=arguments.length?D.call(arguments,1):[],g(t)?new f("div",t,[new h(e)]):(e.unshift(t),1===e.length?C(e[0]):new h(e))},e.each=function(t,e,n){return g(t)?new f("div",t,[new a(e,n)]):new a(t,e)},e.every=v=function(t,e,n){var r,i,o,s,a,u,c;if(g(t)){if(!e)return new d;for(r=[],i=s=0,u=e.length;u>s;i=++s)o=e[i],r.push(n(o,i,e));return new f("div",t,[new h(r)])}if(!t)return new d;for(r=[],i=a=0,c=t.length;c>a;i=++a)o=t[i],r.push(e(o,i,t));return new h(r)},e.all=function(t,e){var n,r,i,o;if(!t)return new d;n=[],r=0;for(i in t){if(o=t[i],!t.hasOwnProperty(i))break;n.push(e(i,o,r,t)),r++}return new h(n)},e.nItems=function(t,e,n){return g(t)?"function"==typeof e?new f("div",t,[new a(b(e),n)]):new f("div",v(b(e),n)):"function"==typeof t?new a(b(t),e):v(b(t),e)},e.defer=function(t,e,n,r,i){return g(t)?new f("div",t,[new s(e,n,r,i)]):new s(t,e,n,r)},e.clone=function(t,e){return g(t)?new f("div",t,[C(e).clone()]):C(t).clone(e)}},function(t,e,n){var r,i,o,s,a,u,c,l;l=n(11),a=l.isComponent,c=l.toComponent,i=n(20),s=n(18),o=n(24),r=n(23),e.isAttrs=function(t){return!("object"!=typeof t||null===t||a(t)||t instanceof Array)},u=function(t,e,n){return dc.flow.if_(t,e,n)},e._maybeIf=function(t,e,n){var a,l,h,d;if(e=c(e),n=c(n),e===n)return e;if(e instanceof Nothing&&n instanceof Nothing)return e;if("function"==typeof t){if(e.isTag&&n.isTag&&e.tagName===n.tagName&&e.namespace===n.namespace){a={},d=e.attrs,l=n.attrs;for(h in bothKeys(d,l))a[h]=u(t,d[h],l[h]);return a.namespace=e.namespace,new Tag(e.tagName,a,children)}return e instanceof s&&n instanceof s?new s(u(t,e.text,n.text)):e instanceof r&&n instanceof r?new r(u(t,e.text,n.text)):e instanceof o&&n instanceof o?new o(u(t,e.text,n.text)):e instanceof i&&n instanceof i?new i(flow.if_(t,e.func,n.func)):new If(t,e,n)}return t?e:n}},function(t,e,n){var r,i,o,s,a,u,c,l,h,d,f,p,m,v,g,y=[].slice;for(r=n(9),a=n(29).tag,i=n(6).getBindProp,c="a abbr acronym address area b base bdo big blockquote body br button caption cite code col colgroup dd del dfn div dl dt em fieldset form h1 h2 h3 h4 h5 h6 head hr i img input ins kbd label legend li link map meta noscript object ol optgroup option p param pre q samp script select small span strong style sub sup table tbody td textarea tfoot th thead title tr tt ul var header footer section",c=c.split(" "),h=function(t){return e[t]=function(){return a.apply(null,[t].concat(y.call(arguments)))}},f=0,m=c.length;m>f;f++)u=c[f],h(u);for(e.tagHtml=a.apply(null,[u].concat(y.call(arguments))),s="text checkbox radio date email number".split(" "),o=e.input=function(t,e,n){var o;return"object"==typeof t&&(n=e,e=t,t="text"),e=r({type:t},e),o=a("input",e),null!=n&&(o.prop(i(o),n),n.isDuplex&&o.bind("onchange",function(t,e){return n(this.value)},"before")),o},g="text checkbox radio date email tel number".split(" "),d=function(t){return e[t]=function(e,n){var r;return"object"==typeof e&&(r=n,n=e,e=r),n=n||{},o(t,n,e)}},p=0,v=g.length;v>p;p++)l=g[p],d(l);e.textarea=function(t,e){var n;return isAttrs(t)?null!=e?(t=r({value:e},t),n=a("textarea",t),e.isDuplex&&n.bind("onchange",function(t,n){return e(this.value)},"before")):n=a("textarea",t):null!=t?(n=a("textarea",{value:t}),t.isDuplex&&n.bind("onchange",function(e,n){return t(this.value)},"before")):n=a("textarea"),n}}])});