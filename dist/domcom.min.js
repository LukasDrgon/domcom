!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e,n){var o,r;t.exports=o=n(1),"undefined"!=typeof window&&(window.dc=o),o.DomNode=n(3),o.extend=r=n(7),o.EventMixin=n(8),r(o,o.flow=n(6)),n(9),o.bindings=o.flow.bindings,n(10),r(o,n(4),n(5),n(12),n(13),n(43)),r(o,o.builtinDirectives=n(44)),r(o,n(49),n(50))},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v;o=n(3),m=n(5),p=m.requestAnimationFrame,f=m.raf,l=m.isElement,i=m.addEventListener,v=n(4),h=v.newDcid,d=v.isEven,s=n(2),t.exports=u=function(t,e){if("string"==typeof t)return u(e?document.querySelectorAll(t):document.querySelector(t));if(t instanceof Node)return t.component?t.component:new o(t);if(t instanceof NodeList||t instanceof Array)return new o(t);throw new Error("error type for dc")},u.toString=function(){return"domcom"},u.directiveRegistry=a={},u.clearDirectives=function(){return u.directiveRegistry=a={}},u.directives=function(t,e){var n,o,r;if(1===arguments.length){r=[];for(o in t)n=t[o],"$"!==o[0]&&(o="$"+o),r.push(a[o]=n);return r}return"$"!==t[0]&&(t="$"+t),a[t]=e},"undefined"!=typeof window&&(window.$document=u.$document=new o(document)),u.ready=function(){u.listeners.ready&&u.emit("ready")},"undefined"!=typeof window&&(document.addEventListener("DOMContentLoaded",u.ready,!1),i(document,"DOMContentLoaded",function(){return window.$body=u.$body=new o(document.body)})),c=n(7),r=n(8),c(u,r)},function(t,e){t.exports=function(t){return t&&null!=t.renderDom}},function(t,e,n){var o,r,i,u,a,c;i=n(4).newLine,c=n(5),r=c.addEventListener,a=c.removeEventListener,u=function(t,e,n,o){var r,i,u;if(null==n)return t;if(null==o){if("string"==typeof n)return t[n];for(o=i=0,u=n.length;u>i;o=++i)r=n[o],(null==cacheProps[r]||o!==cacheProps[r])&&(cacheProps[r]=t[r]=o)}else if(null==cacheProps[n]||o!==cacheProps[n])return cacheProps[n]=this.node[n]=o},t.exports=o=function(){function t(t){var e;this.node=t,t instanceof Node?(this.cacheProps={},this.cacheStyle={}):(this.cacheProps=function(){var t,n,o,r;for(o=this.node,r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push({});return r}.call(this),this.cacheStyle=function(){var t,n,o,r;for(o=this.node,r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push({});return r}.call(this))}return t.prototype.prop=function(t,e){var n,o,r,i,a;if(r=this.node,r instanceof Node)u(r,this.cacheProps,t,e);else for(n=i=0,a=r.length;a>i;n=++i)o=r[n],u(o,this.cacheProps[n],t,e);return this},t.prototype.css=function(t,e){var n,o,r,i,a;if(r=this.node,r instanceof Node)u(r.style,this.cacheStyle,t,e);else for(n=i=0,a=r.length;a>i;n=++i)o=r[n],u(o.style,this.cacheStyle[n],t,e);return this},t.prototype.bind=function(t,e){var n,o,i,u,a,c,s,l;for(i=this.node,l=t.split(/\s+/),u=0,c=l.length;c>u;u++)if(o=l[u],"on"===o.slice(0,2)&&(o=o.slice(2)),i instanceof Node)r(i,o,e);else for(a=0,s=i.length;s>a;a++)n=i[a],r(n,o,e)},t.prototype.unbind=function(t,e){var n,o,r,i,u,c,s,l;for(r=this.node,l=t.split(/\s+/),i=0,c=l.length;c>i;i++)if(o=l[i],"on"===o.slice(0,2)&&(o=o.slice(2)),r instanceof Node)a(r,o,e);else for(u=0,s=r.length;s>u;u++)n=r[u],a(n,o,e)},t.prototype.toString=function(t,e){return null==t&&(t=0),i("",t,e)+"<DomNode>"+i(this.node.toString(),t+2,!0)+i("</DomNode>",t,!0)},t}()},function(t,e){var n,o,r,i,u=[].slice;e.isArray=i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,o;for(e=1<=arguments.length?u.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,o={};n>t;)o[e[t]]=e[t+1],t+=2;return o},n=function(t,e){var n,o;for(o="",n=0;n++<e;)o+=t;return o},e.newLine=function(t,e,o){return o?"\n"+n(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return e=o,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},o=1,e.newDcid=function(){return o++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,o;if("("===t[e])for(o=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++e;o--}},e.intersect=function(t){var e,n,o,r,i,u,a,c;i={},o=t[0];for(n in o){for(e=!0,c=t.slice(1),u=0,a=c.length;a>u;u++)if(r=c[u],!r[n]){e=!1;break}e&&(i[n]=o[n])}return i},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,o,r,i;if(r=e.length,!r)return 0;if(1===r)return e[0]>=t?0:1;for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]>=t?o:o+1;if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return o+1;i=o+1}}},e.binaryInsert=function(t,e){var n,o,r,i;if(r=e.length,!r)return e[0]=t,0;if(1===r)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]===t?o:e[o]>t?(e.splice(o,0,t),o):(e.splice(o+1,0,t),o+1);if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return e.splice(o+1,0,t),o+1;i=o+1}}},e.foreach=function(t,e){var n,o,r,u,a,c;if(t){if(i(t))for(u=[],n=a=0,c=t.length;c>a;n=++a)o=t[n],u.push(e(o,n));else{u={};for(r in t)o=t[r],u[r]=e(o,r)}return u}},r=Object.hasOwnProperty,e.mixin=function(t,e){var n,o;for(n in e)o=e[n],r.call(t,n)||(t[n]=o);return t},e.makeReactMap=function(t){var e,n,o,r,i,u,a,c,s,l,d;for(u={},o=t.split(/\s*,\s*/),a=0,s=o.length;s>a;a++)if(n=o[a],r=n.trim().split(/\s*:\s*/),1===r.length)u[r[0]]="";else for(i=r[1],d=r[0].split(/\s+/),c=0,l=d.length;l>c;c++)e=d[c],u[e]=i;return u}},function(t,e,n){var o;"undefined"!=typeof window&&(e.normalizeDomElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t}),e.getBindProp=function(t){var e;if(e=t.tagName)return"textarea"===e||"select"===e?"value":"checkbox"===t.props.type?"checked":"value";throw new Error("trying to bind a Component which is not a Tag")},"undefined"!=typeof window&&(document.addEventListener?(e.addEventListener=function(t,e,n){t.addEventListener(e,n,!1)},e.removeEventListener=function(t,e,n){t.removeEventListener(e,n)}):(e.addEventListener=function(t,e,n){t.attachEvent(e,n)},e.removeEventListener=function(t,e,n){t.detachEvent(e,n)}),e.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}),o=n(6).renew,e.domField=function(t,e){var n;return null==t?"":"function"!=typeof t?t.then&&t["catch"]?(n=react(function(){return n.promiseResult}),t.then(function(t){return n.promiseResult=t,n.invalidate()})["catch"](function(t){return n.promiseResult=t,n.invalidate()}),n):t:t.bindComponent?t.bindComponent(e):t.invalidate?t:o(t)},e.domValue=function(t,e){return null==t?"":"function"!=typeof t?t:(t=t.call(e),null==t?"":t)},e.extendChildFamily=function(t,e){var n;for(n in e.family){if(t[n])throw new Error("do not allow to have the same component to be referenced in different location of one List");t[n]=!0}}},function(t,e,n){var o,r,i,u,a,c,s,l,d=[].slice;l=n(4),u=l.newLine,r=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;if("function"!=typeof e)throw new Error("call back should be a function");return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,o;return o=t.invalidateCallbacks,o&&(n=o.indexOf(e))>=0&&(o.splice(n,1),o.length||(t.invalidateCallbacks=null)),t},t.invalidate=function(){var e,n,o,r;if(t.valid&&t.invalidateCallbacks){for(r=t.invalidateCallbacks,n=0,o=r.length;o>n;n++)(e=r[n])();t.valid=!1}return t},t)},c=function(t){var e;return e=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=t.call(this),e.valid=!0,e.invalidate(),n},e.toString=function(){return"renew: "+r(t)},a(e)},i=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.lazy is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t.call(this))},n.toString=function(){return"lazy: "+r(t)},a(n)},t.exports=o=function(){var t,e,n,o,u,s,l,h,f,p;if(o=2<=arguments.length?d.call(arguments,0,s=arguments.length-1):(s=0,[]),e=arguments[s++],!o.length)return i(e);for(l=0,f=o.length;f>l;l++)if(n=o[l],"function"==typeof n&&!n.invalidate)return c(e);for(t=null,u=a(function(n){return arguments.length?n===t?n:(t=e.call(this,n),u.invalidate(),t):u.valid?t:(u.valid=!0,t=e.call(this))}),h=0,p=o.length;p>h;h++)n=o[h],n&&n.onInvalidate&&n.onInvalidate(u.invalidate);return u.toString=function(){return"flow: ["+function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(n.toString());return r}().join(",")+"] --> "+r(e)},u},o.pipe=function(){var t,e,n,o,r,i,u,c,s;for(n=2<=arguments.length?d.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],i=0,c=n.length;c>i;i++)if(e=n[i],"function"==typeof e&&!e.invalidate)return o=a(function(){var r,i,u,a;if(arguments.length)throw new Error("flow.pipe is not allow to have arguments");for(r=[],u=0,a=n.length;a>u;u++)e=n[u],"function"==typeof e?r.push(e()):r.push(e);return i=t.apply(this,r),o.valid=!0,o.invalidate(),i});for(o=a(function(){var r,i,u;for(o.valid=!0,r=[],i=0,u=n.length;u>i;i++)e=n[i],"function"==typeof e?r.push(e()):r.push(e);return t.apply(this,r)}),u=0,s=n.length;s>u;u++)e=n[u],e&&e.onInvalidate&&e.onInvalidate(o.invalidate);return o},o.react=a,o.lazy=i,o.renew=c,o.flow=o,o.see=s=function(t,e){var n,o;return n=t,o=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,o.invalidate()),t):(o.valid=!0,n)},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},o.seeN=function(){var t,e,n,o,r;for(e=1<=arguments.length?d.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(s(t));return r},Object.defineProperty?(o.bind=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,i=o.set),r&&r.invalidate||(r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue},r.cacheValue=t[e],u=function(n){return n!==t[e]?(i&&i.call(t,n),r.cacheValue=n,r.invalidate(),n):void 0},a(r),r.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:r,set:u})),r},o.duplex=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,u=o.set),u&&u.invalidate?u:(i=function(n){return arguments.length?n!==t[e]?(u&&u.call(t,n),r&&r.invalidate&&r.invalidate(),i.cacheValue=n,i.invalidate(),n):void 0:(i.valid=!0,i.cacheValue)},i.cacheValue=t[e],a(i),i.isDuplex=!0,i.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:i,set:i}),i)}):(o.bind=function(t,e,n){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]?(r&&r[e]&&r[e].invalidate(),(o=this._dcDuplexMethodMap)&&o[e]&&o[e].invalidate()):void 0}),o=r[e],o||(o=r[e]=function(){return o.valid=!0,t[e]},o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o},o.duplex=function(t,e,n){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]&&((o=this._dcBindMethodMap)&&o[e]&&o[e].invalidate(),r&&r[e]&&r[e].invalidate()),n}),o=r[e],o||(o=r[e]=function(n){return arguments.length?t.dcSet$(e,n):(o.valid=!0,t[e])},o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o}),o.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?o(t,function(){return e(t())}):function(){return e(t())}},o.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?o(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?o(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?o(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},function(t,e){var n,o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},u=function(t){"use strict";if(!t||"[object Object]"!==r.call(t))return!1;var e=o.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var u;for(u in t);return u===n||o.call(t,u)};t.exports=function a(){"use strict";var t,e,o,r,c,s,l=arguments[0],d=1,h=arguments.length,f=!1;for("boolean"==typeof l?(f=l,l=arguments[1]||{},d=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});h>d;++d)if(t=arguments[d],null!=t)for(e in t)o=l[e],r=t[e],l!==r&&(f&&r&&(u(r)||(c=i(r)))?(c?(c=!1,s=o&&i(o)?o:[]):s=o&&u(o)?o:{},l[e]=a(f,s,r)):r!==n&&(l[e]=r));return l}},function(t,e){var n,o=[].slice;t.exports=n={on:function(t,e){var n,o,r,i,u,a;if(arguments.length||dc.error("missing arguments for Component.on(event, callback)"),1===arguments.length)if(t&&"object"==typeof t)for(o in t)e=t[o],this.on(o,e);else dc.error("wrong arguments for Component.on(event, callback)");else for((r=this.listeners)||(this.listeners=r={}),a=t.split(/\s*,\s*|\s+/),i=0,u=a.length;u>i;i++)t=a[i],(n=r[t])?n.indexOf(e)<0&&n.push(e):r[t]=[e];return this},off:function(t,e){var n,o,r,i,u,a,c,s,l;if(arguments.length)if(1===arguments.length)for(r=this.listeners,s=t.split(/\s*,\s*|\s+/),i=0,a=s.length;a>i;i++)t=s[i],r[t]=null;else for(r=this.listeners,l=t.split(/\s*,\s*|\s+/),u=0,c=l.length;c>u;u++)t=l[u],n=r[t],n&&(o=n.indexOf(e))>=0&&(n.splice(o,1),n.length||(r[t]=null));else this.listeners={};return this},once:function(t,e){var n;return n=function(){var r;return r=1<=arguments.length?o.call(arguments,0):[],this.off(t,n),e.apply(this,r)},this.on(t,n)},emit:function(){var t,e,n,r,i,u,a;if(r=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],this.destroyed)return this;if(n=this.listeners[r])for(u=0,a=n.length;a>u;u++)e=n[u],e.apply(this,t);else(i=this[r])&&i.apply(this,t);return this}}},function(t,e,n){var o,r,i,u,a,c,s,l;l=n(6),a=l.react,c=l.see,r=l.bind,i=l.duplex,u=l.flow,s=l.unary,o=l.binary,t.exports=u,u.bindings=function(t,e){var n,o;o={};for(n in t)o[n+"$"]=i(t,n,e),o[n+"_"]=r(t,n,e);return o},u.seeAttrs=function(t,e){var n,o,r;for(o in e)r=e[o],n=t[o],"function"==typeof n?n(r):t[o]=c(r);return t},u.neg=function(t){return s(t,function(t){return-t})},u.no=u.not=u.not_=function(t){return s(t,function(t){return!t})},u.bitnot=function(t){return s(t,function(t){return~t})},u.reciprocal=function(t){return s(t,function(t){return 1/t})},u.abs=function(t){return s(t,Math.abs)},u.floor=function(t){return s(t,Math.floor)},u.ceil=function(t){return s(t,Math.ceil)},u.round=function(t){return s(t,Math.round)},u.add=function(t,e){return o(t,e,function(t,e){return t+e})},u.sub=function(t,e){return o(t,e,function(t,e){return t-e})},u.mul=function(t,e){return o(t,e,function(t,e){return t*e})},u.div=function(t,e){return o(t,e,function(t,e){return t/e})},u.min=function(t,e){return o(t,e,function(t,e){return Math.min(t,e)})},u.and=function(t,e){return o(t,e,function(t,e){return t&&e})},u.or=function(t,e){return o(t,e,function(t,e){return t||e})},u.funcAttr=function(t,e){return u(t,e,function(n){var o;return o=t(),null==o?o:arguments.length?o[e]=n:o[e]})},u.toggle=function(t){return t(!t())},u.if_=function(t,e,n){return"function"!=typeof t?t?e:n:t.invalidate?"function"==typeof e&&"function"==typeof n?e.invalidate&&n.invalidate?u(t,e,n,function(){return t()?e():n()}):function(){return t()?e():n()}:"function"==typeof e?e.invalidate?u(t,e,function(){return t()?e():n}):function(){return t()?e():n}:"function"==typeof n?n.invalidate?u(n,function(){return t()?e:n()}):function(){return t()?e:n()}:u(t,function(){return t()?e:n}):"function"==typeof e&&"function"==typeof n?function(){return t()?e():n()}:"function"===e?function(){return t()?e():n}:"function"===n?function(){return t()?e:n()}:t()?e:n},u.thisBind=function(t){var e;return e=a(function(){return this[t]}),e.bindComponent=function(n){var o;return o=u.bind(n,t),o.onInvalidate(function(){return e.valid=!0,e.invalidate()}),e},e}},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f=[].slice;s=(u=n(6)).react,a=n(4).isArray,i=n(11),t.exports=u,l=Array.prototype.slice,u.watchList=d=function(t,e){var n;return n=t.watchingListComponents||(t.watchingListComponents={}),n[e.dcid]=e,t.eachWatching?void 0:(t.eachWatching=!0,t._shift=t.shift,t._pop=t.pop,t._push=t.push,t._reverse=t.reverse,t._sort=t.sort,t._splice=t.splice,t._unshift=t.unshift,t.shift=o.shift,t.pop=o.pop,t.push=o.push,t.reverse=o.reverse,t.sort=o.sort,t.splice=o.splice,t.unshift=o.unshift,t.setItem=o.setItem,t.setLength=o.setLength,t.updateComponents=o.updateComponents,t.updateComponent=o.updateComponent,t.getListChildren=o.getListChildren,t.replaceAll=o.replaceAll)},o={},o.getListChildren=function(t,e,n){var o,r,i;for(o=[],r=e;n>r;)i=t.getItemComponent(this[r],e+r),i.valid=!0,o.push(i),r++;return o},o.updateComponent=function(t,e,n){var o;return o=this.getListChildren(t,e,n),t.setChildren(e,o),this},o.updateComponents=function(t,e){var n,o,r;o=this.watchingListComponents;for(r in o)n=o[r],this.updateComponent(n,t,e);return this},o.setItem=function(){var t,e,n,o,r,i;for(e=arguments[0],o=2<=arguments.length?f.call(arguments,1):[],e>>>=0,0>e&&(e=0),t=r=0,i=o.length;i>r;t=++r)n=o[t],this[e+t]=o[t];return this.updateComponents(e,e+o.length),this},o.pop=function(){var t,e,n,o;if(this.length){n=this.watchingListComponents,e=this._pop();for(o in n)t=n[o],t.popChild();return e}},o.push=function(){var t,e,n,o,r,i,u;t=1<=arguments.length?f.call(arguments,0):[],i=this.watchingListComponents,n=this.length,r=this._push.apply(this,arguments);for(u in i)o=i[u],e=o.getItemComponent(this[n],n),o.pushChild(e);return r},o.unshift=function(){var t,e,n,o,r;if(t=1<=arguments.length?f.call(arguments,0):[],this.length){o=this.watchingListComponents,this._shift(),e=this.length;for(r in o)n=o[r],n.updateSuccChild?this.updateComponent(n,e):n.shiftChild();return this}return this},o.unshift=function(t){var e,n,o,r;this._unshift(t),n=this.watchingListComponents,r=[];for(o in n)e=n[o],e.updateSuccChild?r.push(this.updateComponent(e,this.length)):(t=e.getItemComponent(this[0],0),r.push(e.unshiftChild(t)));return r},o.reverse=function(){var t;return t=this.length,1>=t?this:(this._reverse(),this.updateComponents(0,t))},o.sort=function(){var t;return t=this.length,1>=t?this:(this._sort(),this.updateComponents(0,t))},o.splice=function(t,e){var n,o,r,i,u,a,c,s,d;if(r=l.call(arguments,2),i=r.length,0===e&&0===i)return this;if(c=this.length,t>>>=0,0>t?t=0:t>c&&(t=c),s=this._splice.apply(this,[t,e].concat(r)),a=s.length,a===c)this.updateComponents(t,t+i);else for(d in watchingListComponents)if(u=watchingListComponents[d],u.updateSuccChild)this.updateComponent(u,t,a);else if(i>e){for(o=t;e>o;)n=u.getItemComponent(this[o],o),u.replaceChild(o,n),o++;for(;i>o;)n=u.getItemComponent(this[o],o),u.insertChild(o,n),o++}else{for(o=t;i>o;)n=u.getItemComponent(this[o],o),u.replaceChild(o,n),o++;for(;e>o;)u.removeChild(t+i),o++}return s},o.setLength=function(t){var e,n,o,r;if(n=this.length,t===n)return this;if(n>=t){o=this.watchingListComponents,this.length=t;for(r in o)e=o[r],e.setLength(t);return this}return this.updateComponents(n,t),this},o.replaceAll=function(t){return this.setItem.apply(this,[0].concat(f.call(t))),this.setLength(t.length),this},u.watchObject=h=function(t,e,n){var o;return o=t.watchingListComponents||(t.watchingListComponents={}),o[e.dcid]=e,t.eachWatching?void 0:(t.eachWatching=!0,i(t,r))},r={},r.deleteItem=function(){var t,e,n,o,r,i,u,a,c,s,l,d,h,p;if(i=1<=arguments.length?f.call(arguments,0):[],l=this.watchingListComponents,!l.length)return this;for(h=0,p=i.length;p>h;h++)if(o=i[h],this.hasOwnProperty(o)){if("$dc"===o.slice(0,3))throw new Error("do not remove the key: "+o+', which is used by "each component" of dc');delete this[o];for(d in l){a=l[d],r=a.keyChildMap,n=r[o],t=a.children,u=t.length;break}for(d in l){if(a=l[d],a.updateSuccChild){for(e=n+1,t=a.children;u>e;)s=t[e],c=a.getItemComponent(s.$watchingKey,e,this,a),a.replaceChild(s,c),e++;a.removeChild(n)}else a.removeChild(n);delete r[o]}}return this},r.setItem=function(t,e){var n,o,r,i,u,a;if(c(t))throw new Error("do not use the key: "+t+', which is used by "each component" of dc');if(u=this.watchingListComponents,this.hasOwnProperty(t)){this[t]=e;for(a in u)o=u[a],i=o.keyChildMap[t],r=o.getItemComponent(t,i,this,o),o.replaceChild(oldChild,r)}else{n=o.children.length;for(a in u)o=u[a],r=o.getItemComponent(t,n,this,o),o.pushChild(r)}return this},r.extendItems=function(t){var e,n;for(e in t)n=t[e],this.setItem(e,n);return this},r.replaceAll=function(t){var e,n,o,r;for(n=Object.keys(this),o=0,r=n.length;r>o;o++)e=n[o],t.hasOwnProperty(e)||this.deleteItem(e);return this.extendItems(t),this},u.isEachObjectSystemKey=c=function(t){return/setItem|deleteItem|extendItems|watchingListComponents|eachWatching/.test(t)},u.watchItems=function(t,e){if(!t)throw new Error("items to be watched should be an array or object.");return a(t)?d(t,e):h(t,e),e}},function(t,e){var n,o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},u=function(t){"use strict";if(!t||"[object Object]"!==r.call(t))return!1;var e=o.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var u;for(u in t);return u===n||o.call(t,u)};t.exports=function a(){"use strict";var t,e,o,r,c,s,l=arguments[0],d=1,h=arguments.length,f=!1;for("boolean"==typeof l?(f=l,l=arguments[1]||{},d=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});h>d;++d)if(t=arguments[d],null!=t)for(e in t)o=l[e],r=t[e],l!==r&&(f&&r&&(u(r)||(c=i(r)))?(c?(c=!1,s=o&&i(o)?o:[]):s=o&&u(o)?o:{},l[e]=a(f,s,r)):r!==n&&(l[e]=r));return l}},function(t,e,n){var o,r,i,u,a,c,s,l,d;if(o=n(4).isArray,r=n(2),"undefined"!=typeof window){for(d=["ms","moz","webkit","o"],s=0,l=d.length;l>s;s++)if(c=d[s],window.requestAnimationFrame=window[c+"RequestAnimationFrame"]){window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"];break}window.requestAnimationFrame||(i=0,window.requestAnimationFrame=function(t){var e,n,o;return e=(new Date).getTime(),o=Math.max(0,16-(e-i)),n=window.setTimeout(function(){t(e+o)},o),i=e+o,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}dc.reset=function(){return dc.renderBySystemLoop=!1,dc.listeners={},dc.rootComponentMap={}},dc.reset(),dc.invalidate=function(){return dc.valid=!1},dc.invalidateContent=function(t){dc.valid=!1,dc.rootComponentMap[t.dcid]=t},dc.render=function(t){var e,n,o,r,i;if(dc.emit("willRender"),!dc.valid)for(dc.valid=!0,o=dc.rootComponentMap,dc.rootComponentMap={},e=r=0,i=o.length;i>r;e=++r)n=o[e],e.render(!0);return dc.emit("didRender")},dc.rafRender=u=function(){dc.renderBySystemLoop=!0,requestAnimFrame(u),dc.render(!0)},dc.renderWhen=function(t,e,n){var o,i,u,c,s,l,d,h,f,p,m,v,g,y,w,x;if("string"==typeof e&&(e=e.split(/\s+/)),r(t)&&(t=[t]),t instanceof Array)for(h=0,m=t.length;m>h;h++)for(u=t[h],f=0,v=e.length;v>f;f++)s=e[f],a(u,s,n);else if(t===window.setInterval){for(d=n.test,i=n.clear,c=n.components,p=0,g=c.length;g>p;p++)t=c[p],t.asRenderHolder();l=null,o=function(){var e,n;if(!d||d())for(n=0,e=c.length;e>n;n++)t=c[n],t.render();return i&&i()?clearInterval(l):void 0},l=setInterval(o,e||16)}else if(t===setTimeout){for(x=n.component,w=0,y=x.length;y>w;w++)t=x[w],t.asRenderHolder();o=function(){var e,o,r,i;for(r=n.component,i=[],o=0,e=r.length;e>o;o++)t=r[o],i.push(t.render());return i},setTimeout(o,e)}},a=function(t,e,n){var o,r,i;for(t.asRenderHolder(),"on"!==e.slice(0,2)&&(e="on"+e),o=t.eventUpdateConfig[e]||(t.eventUpdateConfig[e]={}),r=0,i=n.length;i>r;r++)t=n[r],o[t.dcid]=t},dc.stopRenderWhen=function(t,e,n){var o,r;if("on"!==e.slice(0,2)&&(e="on"+e),n){if(o=t.eventUpdateConfig[e])for(r in n)t=n[r],delete o[r]}else delete t.eventUpdateConfig[e]},dc.invalidateAttach=function(){},dc.propagateChildNextNode=function(t,e){},dc.invalidateAttachOnRemove=function(t){var e,n,o;e=t.firstNode,(o=e.previousSibling)&&(n=o.component)&&n.setNextNode(this.nextNode)}},function(t,e,n){var e,o;o=n(7),t.exports=e=o({},n(14),n(41),n(42),n(31))},function(t,e,n){var o;o=n(15),t.exports={isComponent:n(2),toComponent:n(18),toComponentArray:n(27),Component:n(17),BaseComponent:n(20),ListMixin:n(28),List:n(26),Tag:n(30),Text:n(21),Comment:n(32),Cdata:n(33),Html:n(34),Nothing:n(19),TransformComponent:n(16),TestComponent:n(35),If:n(36),Case:n(38),Func:n(29),Pick:n(39),Defer:n(40),Route:o.Route,route:o}},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y=[].slice,w={}.hasOwnProperty,x=function(t,e){function n(){this.constructor=t}for(var o in e)w.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(16),u=n(2),m=n(18),v=n(4),a=v.isEven,c=v.matchCurvedString,t.exports=p=function(){var t,e,n,o;return n=3<=arguments.length?y.call(arguments,0,o=arguments.length-2):(o=0,[]),e=arguments[o++],t=arguments[o++],g(n,e,t,0)},g=function(t,e,n,r){var i,c,s;if("function"==typeof n?(t.push(e),t.push(n),e=null,n=r):u(n)?(t.push(e),e=n,n=r):n&&!u(n)&&n.otherwise?(t.push(e),e=n.otherwise,n=r):(n>>>=0,e&&!u(e)&&e.otherwise&&(e=e.otherwise)),c=t.length,!a(c))throw new Error("route parameter error: missing matched handler");if(2>c||"function"!=typeof t[c-1])throw new Error("route parameter error:\n  expect route(pattern, handler, pattern, handler, ..., otherwise, baseIndex)");for(s=[],i=0;c>i;)s.push([t[i],t[i+1]]),i+=2;return new o(s,e,n)},p._navigateTo=d=function(t,e,n){var o,r;if(null==n&&(n=0),e=""+e,"/"!==e[0]){for(r=0;e;)if("./"===e.slice(0,2))e=e.slice(2);else{if("../"!==e.slice(0,3))break;e=e.slice(3),r++}return n-=r,0>n&&(n=0),o=t.split("/").slice(0,n).join("/")+"/","/"===o&&(o=""),e=o+e}return e=e.slice(1)},l=function(t){return function(e){var n,o;return o=window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(n=location.href.match(/#(.*)$/))?n[1]:"",d(o,e,t),window.history&&window.history.pushState?history.pushState(null,null,e):location.href=location.href.replace(/#(.*)$/,"")+"#"+e,e}},p.to=l(0),p.Route=o=function(t){function e(t,n,o){var r,u,a;for(this.routeList=t,this.otherwise=n,this.baseIndex=o,e.__super__.constructor.call(this),u=0,a=t.length;a>u;u++)r=t[u],r[0]=i(r[0]);this.otherwise=m(n)}return x(e,t),e.prototype.getContentComponent=function(){var t,e,n,o,r,i;for(e=this.getPath(),i=this.routeList,o=0,r=i.length;r>o;o++)if(n=i[o],t=f(n,e,this.baseIndex))return t;return this.otherwise},e.prototype.getPath=function(){var t;return window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(t=location.href.match(/#(.*)$/))?t[1]:""},e}(r),p._processRouteItem=f=function(t,e,n){var o,r,i,u,a,c;return u=t[0],r=t[1],u instanceof Array&&(c=u,u=c[0],a=c[1]),i=s(u,e,n),!i||a&&!(i=a(i,e,n))?void 0:(o=function(){var t,e,n,o;return n=3<=arguments.length?y.call(arguments,0,o=arguments.length-2):(o=0,[]),e=arguments[o++],t=arguments[o++],g(n,e,t,i.base)},o.to=l(i.base),m(r(i,o)))},p._processPiecePatterns=h=function(t,e,n){var o,r,i,u,a,s;for(r=0,u=t.length,a=[];o=t[r];)if(s=r,":"===o){if(o=t[++r],!o.match(/[A-Za-z_$]/))throw new Error("route pattern error: expect a parameter identifier "+t);for(o=t[++r];o&&o.match(/[$\w]/);)o=t[++r];if(r===s+1)throw new Error("route pattern error: expect a parameter identifier "+t);if(i=t.slice(s+1,r),e[i])throw new Error("route pattern error: repeated parameter name");if(e[i]=!0,"("===o){if(s=r,!(r=c(t,r)))throw new Error("route pattern error: missing ) for regexp");if(s+1===r-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:i,pattern:new RegExp(t.slice(s+1,r-1))}),o=t[r]}else a.push({key:i,pattern:new RegExp("\\w+")}),++r}else if("("===o){if(!(r=c(t,r)))throw new Error("route pattern error: missing ) for regexp");if(s+1===r-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:n++,pattern:new RegExp(t.slice(s+1,r-1))})}else{for(++r;(o=t[r])&&":"!==o&&"("!==o;)r++;a.push({pattern:t.slice(s,r)})}return[a,n]},p._getRoutePattern=i=function(t){var e,n,o,r,i,u,a,c,s,l,d,f,p,m;for(t=""+t,t.match(/\\\//)&&new Error("should not include /\\// in pattern"),f=""===t?[]:t.split("/"),p=0,e=!1,n=!0,o=!1,u=!1,d=[],c={},i=f.length,r=0,a=0;i>r;){if(l=f[r++],"."===l){if(n)continue;throw new Error("route pattern error: do not use ./ pattern except the start")}if(".."===l){if(n){p++;continue}throw new Error("route pattern error: do not use ../ except the start")}if(""===l)if(n)e=!0;else{if(r!==i)throw new Error("route pattern error: do not use ../ except the start");o=!0}else if("*"===l)d.push("*");else if("**"===l){if(r!==i)throw new Error("route pattern error: do not use ** except the last segment");u=!0}else m=h(l,c,a),s=m[0],a=m[1],d.push(s);n=!1}return{segmentPatterns:d,absolute:e,upCount:p,endSlash:o,moreComing:u}},p._matchRoute=s=function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y,w,x,b,q;if(!t.endSlash||"/"===e[e.length-1]){for(t.absolute?n=0:(n-=t.upCount,0>n&&(n=0)),"/"===e||""===e?h=[]:(h=e.split("/"),""===e[0]&&h.shift()),c=h.length,o=n,u={},g=[],q=t.segmentPatterns,i=y=0,x=q.length;x>y;i=++y){if(m=q[i],o>=c)return;if("*"!==m){for(l=0,v=d=h[o],w=0,b=m.length;b>w;w++)if(f=m[w],p=f.pattern,"string"==typeof p){if(0!==d.indexOf(p))break;d=d.slice(p.length),l+=p.length}else{if(!(s=d.match(p)))break;u[f.key]=s,l+=s[0].length}if(l!==v.length)return;g.push(v),o++}else g.push(h[o]),o++}if(o===c||t.moreComing)return r="/"+h.slice(0,n+1).join("/")+"/",a="/"+h.slice(o).join("/"),{items:u,basePath:r,segments:g,leftPath:a,base:o}}}},function(t,e,n){var o,r,i={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(17),t.exports=r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.transformValid=!1}return u(e,t),e.prototype.isTransformComponent=!0,e.prototype.invalidate=function(){return this.valid&&(this.valid=!1,this.holder&&this.holder.invalidateContent(this)),this},e.prototype.invalidateContent=function(t){return this.invalidate()},e.prototype.invalidateAttach=function(t){return this.attachValid&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this},e.prototype.invalidateTransform=function(){return this.transformValid=!1,this.invalidate()},e.prototype.invalidateAttachOnRemove=function(t,e){return this.holder?this.holder.invalidateAttachOnRemove(this,e):void 0},e.prototype.refreshDom=function(t){return this.renderDom(t),this.attachParent(),this.removeChildrenDom()},e.prototype.renderDom=function(t){var e,n;return this.emit("willRenderDom"),this.valid=!0,this.attachValid=!0,this.transformValid||(this.transformValid=!0,n=this.content,n&&n.holder===this&&(this.content.holder=null),this.content=this.getContentComponent()),n=this.content,n.holder=this,n.parentNode=this.parentNode,n.nextNode=this.nextNode,n.renderDom(t),e=n.baseComponent,this.baseComponent=e,this.node=e.node,this.firstNode=e.firstNode,this.node&&this.node.parentNode||(n.attachValid=!1,this.invalidateAttach(n)),this.emit("didRenderDom"),this},e.prototype.markRemovingDom=function(t){return this.baseComponent&&t.markRemovingChild(this.baseComponent),this},e.prototype.markRemoving=function(){this.baseComponent.markRemoving()},e.prototype.removeDom=function(){
return this.baseComponent.removeDom()},e.prototype.attachParent=function(){var t;this.attachValid||(this.attachValid=!0,t=this.content,t.parentNode=this.parentNode,t.nextNode=this.nextNode,t.attachParent())},e.prototype.propagateChildNextNode=function(t,e){this.holder&&this.holder.propagateChildNextNode(t,e)},e}(o)},function(t,e,n){var o,r,i,u,a,c,s,l,d,h;u=n(7),d=n(5).normalizeDomElement,h=n(4),l=h.newDcid,c=h.isArray,a=n(6).flow,s=n(2),r=n(1),t.exports=o=function(){function t(){this.listeners=this.listeners||{},this.baseComponent=null,this.parentNode=null,this.nextNode=null,this.node=null,this.destroyed=!1,this.holder=null,this.dcid=l(),this.valid=!0,this.attachValid=!0,this.setReactive()}return t.prototype._prepareMount=function(t,e){if(t&&t.component)t=t.component;else if(e&&e.component)throw console.log(t),console.log(e),new Error("error while mounting: mountNode is not a component, but beforeNode is a component");if(s(t)){if(e){if(!s(e)&&(e=e.component,!e))throw console.log(e),new Error("error while mounting: can not mount beforeNode");if(e.holder!==t||!t.children)throw console.log(t),console.log(e),new Error("both mountNode and beforeNode is component, but mountNode is not the parent of beforeNode");return t.insertChildBefore(this,e)}if(!t.children)throw console.log(t),new Error("error while mounting: mountNode is a component, but is not a Tag or List component");return t.pushChild(this)}return this.parentNode=d(t)||this.parentNode||document.body,this.nextNode=e||this.nextNode,this.setHolder(r),r.rootComponentMap[this.dcid]=this},t.prototype.create=function(t,e,n){return this._prepareMount(t,e),this.render(n)},t.prototype.mount=function(t,e,n){return this.emit("willMount"),this._prepareMount(t,e),this.render(n),this.emit("didMount")},t.prototype.unmount=function(t){return this.emit("willUnmount"),this.remove(),this.emit("didUnmount")},t.prototype.remove=function(){var t,e,n,o;return e=this.holder,e&&e!==r?e.children?e.removeChild(this):e&&r.error("Should not remove the content of TransformComponent"):(delete r.rootComponentMap[this.dcid],t=this.firstNode,t&&t.parentNode&&((o=t.previousSibling)&&(n=o.component)&&n.setNextNode(this.nextNode),this.removeNode())),this},t.prototype.memoRemoving=function(t){var e;e=this.holder,e&&e!==r?this.isTag||this.isRenderHolder?this.removingChildren[t.dcid]=t:this.holder.memoRemoving(t):this.removingChildren[t.dcid]=t},t.prototype.removeChildrenDom=function(){var t,e,n;n=this.removingChildren;for(e in n)t=n[e],t.removeDom();this.removingChildren={}},t.prototype.asRenderHolder=function(t){return null==t&&(t=!0),this.isRenderHolder=t,this},t.prototype.render=function(t){return this.destroyed||!t&&!r.alwaysRender&&r.renderBySystemLoop||(this.removing?this.removeDom():this.refreshDom(this.baseComponent)),this},t.prototype.renderHolder=function(t){return this.holder?this.holder.render(t):this.render(t)},t.prototype.replace=function(t,e){var n;if(!this.destroyed&&this!==t)return n=t.holder,n&&n!==r?n.isTransformComponent?r.error("Should not replace the content of TransformComponent"):(n.replaceChild(t,this),n.render(e)):n===r&&(this.parentNode=t.parentNode,this.nextNode=t.nextNode,t.markRemovingDom(this),this.setHolder(n),this.invalidate(),r.rootComponentMap[this.dcid]=this,r.rootComponentMap[t.dcid]=t,this.render(e)),this},t.prototype.renderWhen=function(t,e,n){return c(t)||s(t)?n=[this]:(n=n||{},n.components=[this]),r.renderWhen(t,e,n),this},t.prototype.destroy=function(){return this.unmount(!0),this.destroyed=!0,this.listeners=null,this.node&&(this.node.component=null,this.node=null),this.baseComponent=null,this.parentNode=null},t.prototype.getPrevComponent=function(){var t,e;return(e=this.holder)?(t=e.children)?chilren[t.indexOf(this)]:void 0:null},t.prototype.getNextComponent=function(){var t,e;return(e=this.holder)?(t=e.holder.children)?t[t.indexOf(this)]:void 0:null},t.prototype.setNextNode=function(t){this.nextNode=t},t.prototype.setHolder=function(t){return this.holder&&this.holder!==t&&this.holder.invalidateAttach(this),this.holder=t,this},t.prototype.isOffspringOf=function(t){var e;for(e=this.holder;e;){if(e===t)return!0;e=e.holder}return!1},t.prototype.inFamilyOf=function(t){return this===t||this.isOffspringOf(t)},t.prototype.setReactive=function(){var t,e,n,o,r,i;if(this.reactMap){e=this,t=function(){return e.invalidate()},i=this.reactMap;for(r in i)n=i[r],o=a.bind(this,r),"string"==typeof n?o.onInvalidate(function(){var t;return(t=e[n])?t.invalidate():void 0}):o.onInvalidate(t)}return this},t.prototype.copyEventListeners=function(t){var e,n,o;n=this.listeners,o=t.listeners;for(e in o)o[e]&&(n[e]=o[e].splice());return this},t}(),i=n(8),u(o.prototype,i)},function(t,e,n){var o,r,i,u,a;i=n(2),o=n(19),r=n(21),u=n(6).react,t.exports=a=function(t){var e,c,s,l;return i(t)?t:"function"==typeof t?new r(t):t instanceof Array?new(c=n(26))(function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)l=t[e],o.push(a(l));return o}()):null==t?new o:t.then&&t["catch"]?(e=n(29),s=new e(u(function(){return s.promiseResult})),t.then(function(t){return s.promiseResult=t,s.invalideTransform()})["catch"](function(t){return s.promiseResult=t,s.invalideTransform()}),s):new r(t)}},function(t,e,n){var o,r,i,u={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var o in e)u.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(20),i=n(4).newLine,t.exports=r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.firstNode=null,this.family={},this.baseComponent=this}return a(e,t),e.prototype.invalidate=function(){return this},e.prototype.renderDom=function(t){return t&&t.markRemovingDom(this),this.valid=!0,this.node=[],this},e.prototype.createDom=function(){return this.node=[]},e.prototype.attachParent=function(){return this.node},e.prototype.attachChildren=function(){return this.node},e.prototype.markRemovingDom=function(t){return this},e.prototype.markRemoving=function(){},e.prototype.removeDom=function(){return this},e.prototype.removeNode=function(){},e.prototype.clone=function(){return new e},e.prototype.toString=function(t,e){return null==t&&(t=2),i("<Nothing/>",t,e)},e}(o)},function(t,e,n){var o,r,i={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),t.exports=o=function(t){function e(){e.__super__.constructor.call(this),this.isBaseComponent=!0,this.removing=!1,this.removingChildren={},this.baseComponent=this}return u(e,t),e.prototype.refreshDom=function(t){return this.renderDom(),this.attachParent(),this.removeChildrenDom(),this},e.prototype.renderDom=function(t){return this.emit("willRenderDom"),t&&t!==this&&t.markRemovingDom(this),this.renderBaseComponent(t),this.emit("didRenderDom"),this},e.prototype.renderBaseComponent=function(t){t&&t!==this&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this.node?(!this.valid||this.isTag)&&(this.valid=!0,this.updateDom()):(this.valid=!0,this.createDom(),this.holder&&this.holder.invalidateAttach(this))},e.prototype.invalidate=function(){return this.valid?(this.valid=!1,this.holder&&this.holder.invalidateContent(this)):this},e.prototype.attachChildren=function(){},e.prototype.markRemovingDom=function(t){return this.parentNode&&this.firstNode&&this.firstNode.parentNode===this.parentNode&&(this.removing=!0,t.memoRemoving(this)),this},e.prototype.markRemoving=function(){this.parentNode&&this.node&&(this.removing=!0)},e.prototype.removeDom=function(){var t,e,n,o;if(this.removing){if(this.removing=!1,this.emit("willDetach"),this.isList)for(this.node.parentNode=null,this.childParentNode=null,o=this.children,e=0,n=o.length;n>e;e++)t=o[e],t.removeDom();else this.removeNode();this.emit("didDetach")}return this},e.prototype.removeNode=function(){var t;this.removing=!1,(t=this.node)&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.executeAttachParent=function(){var t,e,n;e=this.node,n=this.parentNode,t=this.nextNode,this.removing=!1,!n||n===e.parentNode&&t===e.nextSibling||n.insertBefore(e,t)},e.prototype.attachParent=function(){return this.node.parentNode?(this.emit("willAttach"),this.executeAttachParent(),this.emit("didAttach")):this.executeAttachParent(),this.node},e}(r)},function(t,e,n){var o,r,i,u,a,e,c,s,l,d,h,f,p,m={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var o in e)m.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(20),f=n(4),c=f.funcString,l=f.newLine,h=f.value,a=f.dynamic,p=n(5),i=p.domField,u=p.domValue,d=n(22).setText,s="textContent"in document.documentElement?!0:!1,e=t.exports=r=function(t){function e(t){var n,o,r;e.__super__.constructor.call(this),this.setText(t),Object.defineProperty&&(o=this,n=function(){return o._text},r=function(t){return o.setText(t),t},Object.defineProperty(this,"text",{get:n,set:r})),this.family={},this.family[this.dcid]=!0}return v(e,t),e.prototype.isText=!0,e.prototype.setText=d,e.prototype.createDom=function(){var t,e;return this.textValid=!0,e=u(this.text,this),t=document.createTextNode(e),t.component=this,this.node=t,this.firstNode=t,t},e.prototype.updateDom=function(){var t,e;return t=this.node,this.textValid?t:(this.textValid=!0,e=u(this.text,this),s?e!==t.textContent&&(t.textContent=e):e!==t.innerText&&(t.innerText=e),t)},e.prototype.clone=function(){var t;return t=new this.constructor(this.text),t.copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),l(c(this.text),t,e)},e}(o)},function(t,e,n){var o,r,i,u,a,c,s,l;u=n(7),c=n(2).isComponent,a=n(24).extendEventValue,r=n(23),l=n(25).styleFrom,i=n(5).domField,e.extendAttrs=function(t,e,n){var o,i,c,s;if(null==n&&(n={}),!e)return t;if(!t)return e;i=r([e["class"],e.className]),n.replaceClass?t.className=i:(t.className=r([t["class"],t.className]),delete t["class"],t.className=r([t.className,i])),c=l(t.style),e.style?t.style=u(c,e.style):t.style=c;for(o in e)if(s=e[o],"class"!==o&&"className"!==o)if("on"===o.slice(0,2))n["replace_"+o]||n.replaceEvents?t[o]=s:a(t,o,s);else{if("style"===o)continue;t[o]=s}return t},e.overAttrs=s=function(t,e){var n,o;if(e){if(t){for(n in t)o=t[n],null==e[n]&&(e[n]=o),"style"===n&&(e[n]=s(t[n],e[n]));return e}return e}return t=u({},t),t.style&&(t.style=u({},l(t.style))),t},o={"for":"htmlFor"},e.attrToPropName=function(t){var e,n,r,i;if(r=o[t])return r;if(i=t.split("-"),1===i.length)return t;for(e=1,n=i.length;n>e;)i[e]=i[e][0].toUpperCase()+i[e].slice(1),e++;return i.join("")},e.setText=function(t){var e;return t=i(t,this),this._text===t?this:(this.textValid=!1,this._text=t,e=this,"function"==typeof t&&t.onInvalidate(function(){return e.textValid=!1,e.invalidate()}),this.invalidate(),this)}},function(t,e,n){var o,r,i,u,a=[].slice;u=n(6).react,r=n(5).domField,i=n(4).isArray,t.exports=o=function(){var t,e,n,c,s;return n=1<=arguments.length?a.call(arguments,0):[],t={},c=function(){var n,o,r;if(!arguments.length){o=[],c.valid=!0;for(n in t)r=t[n],"function"==typeof r&&(r=r.call(this)),r&&o.push(n);return o.join(" ")}e([].slice(arguments))},s=function(e,n){var o;return n=r(n),o=t[e],"function"==typeof o&&o.offInvalidate(c.invalidate),!n&&o?(c.invalidate(),delete t[e]):o!==n?(c.invalidate(),"function"==typeof n&&n.onInvalidate(c.invalidate),t[e]=n):void 0},e=function(t){var n,o,r,u,a,c,l,d,h;if(t)for(i(t)||(t=[t]),a=0,l=t.length;l>a;a++)if(n=t[a])if("string"==typeof n)for(r=n.trim().split(/\s+(?:,\s+)?/),c=0,d=r.length;d>c;c++)o=r[c],"!"===o[0]?s(o.slice(1),!1):s(o,!0);else if(n instanceof Array)e(n);else if(n&&n.classMap){h=n.classMap;for(o in h)u=h[o],"function"!=typeof u&&(u=!0),s(o,u)}else if("object"==typeof n)for(o in n)u=n[o],"function"!=typeof u&&(u=!0),s(o,u)},u(c),e(n),c.classMap=t,c.valid=!Object.keys(t).length,c.removeClass=function(){var t,e,n,o,r;for(e=1<=arguments.length?a.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(s(t,!1));return r},c.extend=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],e(t)},c.clone=function(){var t;return t=o(),t.extend(c)},c}},function(t,e){var n;e.domEventHandler=function(t){var e,n,o,r,i,u,a,c,s,l;if(n=this.component){for(i="on"+t.type,r=n.domEventCallbackMap[i],s=0,l=r.length;l>s;s++)u=r[s],a=u.call(n,t,this);if(o=n.eventUpdateConfig[i])for(c in o)e=o[c],e.render();t&&(!t.executeDefault&&t.preventDefault&&t.preventDefault(),!t.continuePropagation&&t.stopPropagation&&t.stopPropagation())}return t&&null!=t.dcEventResult?t.dcEventResult:a},e.domEventHandlerFromArray=function(t){return function(e){var n,o,r;for(o=0,r=t.length;r>o;o++)n=t[o],n&&n.call(this.component,e,this)}},e.extendEventValue=n=function(t,e,n,o){var r;return r=t[e],r?r instanceof Array||(r=[r]):r=[],n?n instanceof Array||(n=[n]):n=[],o?t[e]=n.concat(r):t[e]=r.concat(n)},e.addHandlerToCallbackArray=function(t,e,n){var o,r,i,u;if("function"==typeof t&&(t=[t]),n)for(o=t.pop();o;)r=e.indexOf(o),0>=r&&e.unshift(o),o=t.pop();else for(i=0,u=t.length;u>i;i++)o=t[i],r=e.indexOf(o),0>=r&&e.push(o)}},function(t,e,n){var o,r;o=n(4).cloneObject,e.styleFrom=r=function(t){var e,n,r,i,u,a,c,s,l,d;if("string"==typeof t){for(r={},t=t.trim().split(/\s*;\s*/),u=0,c=t.length;c>u;u++)e=t[u],e=e.trim(),e&&(l=e.split(/\s*:\s*/),n=l[0],i=l[1],r[n]=i);return r}if(t instanceof Array){for(r={},a=0,s=t.length;s>a;a++){if(e=t[a],"string"==typeof e){if(e=e.trim(),!e)continue;d=e.split(/\s*:\s*/),n=d[0],t=d[1]}else n=e[0],t=e[1];r[n]=t}return r}return t&&"object"!=typeof t?{}:o(t)}},function(t,e,n){var o,r,i,u,e,a,c,s,l={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(20),c=n(4).newLine,s=n(27),a=n(4).mixin,i=n(28),u=n(4).binaryInsert,t.exports=e=r=function(t){function e(t){e.__super__.constructor.call(this),this.children=s(t),this.initListMixin(),this.isList=!0}return d(e,t),e.prototype.refreshDom=function(t){return this.renderDom(),this.attachChildren(),this.removeChildrenDom(),this},e.prototype.createDom=function(){return this.node=this.childNodes,this.createChildrenDom(),this.firstNode=this.childrenFirstNode,this.node},e.prototype.updateDom=function(){return this.updateChildrenDom(),this.firstNode=this.childrenFirstNode,this.node},e.prototype.markRemovingDom=function(t){var e,n,o,r;if(this.childParentNode&&this.firstNode&&this.firstNode.parentNode===this.childParentNode){for(this.removing=!0,r=this.children,n=0,o=r.length;o>n;n++)e=r[n],e.markRemoving(t);t.memoRemoving(this)}return this},e.prototype.markRemoving=function(){var t,e,n,o;if(this.childParentNode&&this.node)for(this.removing=!0,o=this.children,e=0,n=o.length;n>e;e++)t=o[e],t.markRemoving()},e.prototype.removeNode=function(){var t,e,n,o;for(this.node.parentNode=null,this.childParentNode=null,o=this.children,e=0,n=o.length;n>e;e++)t=o[e],t.baseComponent.removeNode()},e.prototype.invalidateAttach=function(t){var e;return e=this.children.indexOf(t),u(e,this.attachParentIndexes),this.attachValid&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this},e.prototype.attachParent=i.attachChildren,e.prototype.setNextNode=function(t){var e,n,o;for(this.nextNode=t,this.childrenNextNode=t,n=this.children,o=n.length-1;(e=n[o])&&(e.setNextNode(t),!e.firstNode);)o--},e.prototype.clone=function(t){var n;return n=new e(this.cloneChildren(t)),n.constructor=this.constructor,n.copyEventListeners(this)},e.prototype.toString=function(t,e){var n,o,r,i,u;if(null==t&&(t=0),this.children.length){for(o=c("<List>",t,e),u=this.children,r=0,i=u.length;i>r;r++)n=u[r],o+=n.toString(t+2,!0);return o+=c("</List>",t,!0)}return c("<List/>",t,e)},e}(o),a(r.prototype,i)},function(t,e,n){var o,r;o=n(18),t.exports=r=function(t){var e,n,r,i;if(t){if(t instanceof Array){for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(o(e));return i}return[o(t)]}return[]}},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m=[].slice;f=n(4),c=f.isArray,d=f.substractSet,s=n(2),h=n(18),o=n(19),p=n(4),u=p.binarySearch,i=p.binaryInsert,d=p.substractSet,a=n(5).extendChildFamily,r=function(t,e,n){var o,r;for(r=t.length,o=n;r>o;){if(t[o]+=e,t[o]<0)throw"negative attach index in ListMixin component";o++}},l=function(t,e,n,o){var r,i;for(i=n;i>=o&&(r=t[i],r.nextNode!==e)&&(r.nextNode=e,!r.firstNode);)i--,e=r.firstNode},t.exports={initListMixin:function(){var t,e,n,o,r,i;for(this.updatingChildren={},this.attachingChildren={},this.attachParentIndexes=[],this.childNodes=[],this.family=e={},e[this.dcid]=!0,i=this.children,n=o=0,r=i.length;r>o;n=++o)t=i[n],t.setHolder(this),a(e,t)},cloneChildrenFrom:function(t,e){var n,o,r,i,u,a;for(o=[],a=t.children,r=i=0,u=a.length;u>i;r=++i)n=a[r],o.push(this.cloneChild(n,r,e,t));return this.setChildren(0,o)},cloneChild:function(t,e,n,o){return t.clone(n)},createChildrenDom:function(){var t,e,n,o,r,i,u,a;for(r=this.childNodes,e=null,this.updatingChildren={},a=this.children,o=i=0,u=a.length;u>i;o=++i)t=a[o],t.setHolder(this),t.renderDom(t.baseComponent),r.push(t.node),!e&&t.firstNode&&(e=t.firstNode,n=o);this.childrenFirstNode=e,this.firstNodeIndex=n},updateChildrenDom:function(){var t,e,n,o,r,i;r=this.updatingChildren,this.updatingChildren={},o=this.childNodes,e=this.children;for(i in r)t=r[i],t.setHolder(this),t.renderDom(t.baseComponent),n=e.indexOf(t),o[n]=t.node,this.updateChildrenFirstNode(t,n)},insertChildBefore:function(t,e){return this.insertChild(e,t)},insertChildAfter:function(t,e){var n;return n=this.children,s(e)&&(e=n.indexOf(e),0>e&&(e=0)),this.insertChild(e+1,t)},pushChild:function(){var t,e,n,o;for(t=1<=arguments.length?m.call(arguments,0):[],o=this.children,n=t.length,e=0;n>e;)this.insertChild(o.length,t[e]),e++;return this},insertChild:function(t,e){var n,o,r;return n=this.children,r=n.length,s(t)?(o=n.indexOf(t),0>o&&(o=r)):t>r?(o=r,t=null):0>t?(o=0,t=null):(o=t,t=n[o]),this.emit("onInsertChild",o,t,e),e=h(e),this._insertChild(o,e)},_insertChild:function(t,e){var n,o,u;return o=this.children,o.splice(t,0,e),e.setHolder(this),e.parentNode=this.childParentNode,t===o.length-1?e.setNextNode(this.childrenNextNode):e.setNextNode(o[t+1].firstNode||o[t+1].nextNode),this.node&&(this.childNodes.splice(t,0,e.node),e.node&&e.valid||this.invalidateContent(e),this.holder&&this.holder.invalidateAttach(this),this.attachValid=!1,n=this.attachParentIndexes,u=i(t,n),r(n,1,u+1),e.firstNode&&(!this.childrenFirstNode||t<=this.firstNodeIndex)&&(this.childrenFirstNode=e.firstNode,this.firstNodeIndex=t)),this},unshiftChild:function(){var t,e;for(t=1<=arguments.length?m.call(arguments,0):[],e=t.length-1;e>=0;)this.insertChild(0,t[e]),e--;return this},shiftChild:function(){return this.removeChild(0)},popChild:function(){var t;return t=this.children.length,t?this.removeChild(t-1):this},removeChild:function(t){var e,n,o,i,a;return null==t&&dc.error("child to be removed is undefined"),o=this.children,s(t)?(a=o.indexOf(t),0>a&&dc.error("child to be removed is not in the children")):t>=o.length||0>t?dc.error("child to be removed is out of bound"):(a=t,t=o[a]),this.invalidate(),t=o[a],t.holder===this&&(t.holder=null),delete this.updatingChildren[t.dcid],d(this.family,t.family),o.splice(a,1),this.node&&(this.childNodes.splice(a,1),n=t.firstNode,n&&(this.firstNodeIndex===a&&this.setFollowingChildrenFirstNode(a),this.childParentNode&&n.parentNode===this.childParentNode&&(this.propagateChildNextNode(a,this.nextNode),t.removeNode())),e=this.attachParentIndexes,null!=(i=u(a,e))&&(e.splice(i,1),r(e,-1,i))),this},invalidateAttachOnRemove:function(t,e){var n,o;for(o=this.children,t--;n=o[t];){if(n.nextNode=e,n.firstNode)return void this.holder.invalidateAttach(this);t--}this.isList&&this.holder&&this.holder.invalidateAttachOnRemove(this,e)},setFollowingChildrenFirstNode:function(t){var e,n,o;for(e=this.children,o=e.length,t++;o>t;){if(n=e[t].firstNode)return this.childrenFirstNode=n,void(this.firstNodeIndex=t);t++}this.childrenFirstNode=null},replaceChild:function(t,e){var n,o;return n=this.children,s(t)?(o=n.indexOf(t),0>o&&dc.error("oldChild to be replaced is not in the children")):((t>=n.length||0>t)&&dc.error("oldChild to be replaced is out of bound"),o=t,t=n[o]),this.emit("onReplaceChild",o,t,e),e=h(e),this._replaceChild(o,t,e)},_replaceChild:function(t,e,n){var o;return o=this.children,e===n?this:(o[t]=n,e.holder===this&&(e.holder=null),e.markRemovingDom(this),delete this.updatingChildren[e.dcid],n.setHolder(this),n.parentNode=e.parentNode,n.nextNode=e.nextNode,d(this.family,e.family),a(this.family,n),this.node&&(this.childNodes[t]=n.node,n.node&&n.valid||this.invalidateContent(n),this.invalidateAttach(n),this.removingChildren[e.dcid]=e,this.updateChildrenFirstNode(n,t)),this)},updateChildrenFirstNode:function(t,e){this.childrenFirstNode?t.firstNode?e<=this.firstNodeIndex&&(this.childrenFirstNode=t.firstNode,this.firstNodeIndex=e):e===this.firstNodeIndex&&this.setFollowingChildrenFirstNode(e):t.firstNode&&(this.childrenFirstNode=t.firstNode,this.firstNodeIndex=e)},setChildren:function(t,e){var n,r,i,u,a,c,s;for(r=this.children,a=r.length,u=a;t>u;)this.pushChild(new o),u++;for(i=c=0,s=e.length;s>c;i=++c)n=e[i],a>t+i?this.replaceChild(t+i,e[i]):this.pushChild(e[i]);return this},setLength:function(t){var e,n;if(e=this.children,t>=e.length)return this;for(n=e.length-1;n>=t;)this.removeChild(n),n--;return this},invalidateContent:function(t){return this.updatingChildren[t.dcid]=t,this.valid&&(this.valid=!1,this.holder&&this.holder.invalidateContent(this)),this},attachChildren:function(){var t;t=this.childParentNode,t&&this.attachValid||(this.attachValid=!0,this.isList?(this.childParentNode=this.parentNode,this.childrenNextNode=this.nextNode):this.childParentNode||(this.childParentNode=this.node,this.childrenNextNode=null),this.childParentNode!==this.childNodes.parentNode?t||(this.emit("willAttach"),this.attachEachChildren(),this.emit("didAttach")):this.attachInvalidChildren())},attachEachChildren:function(){var t,e,n,o,r,i;if(i=this.childParentNode,e=this.children,o=e.length){for(r=this.childrenNextNode,n=o-1;t=e[n];)t.setHolder(this),t.parentNode=i,t.setNextNode(r),t.attachParent(),r=t.firstNode||r,n--;t=e[0],this.childNodes.parentNode=i}},attachInvalidChildren:function(){var t,e,n,o,r,i,u,a;if(t=this.attachParentIndexes,t.length&&(this.attachParentIndexes=[],u=this.childParentNode)){for(i=this.childrenNextNode,n=this.children,o=t.length-1,a=n.length-1;o>=0;)r=t[o],l(n,i,a,r),e=n[r],e.setHolder(this),e.parentNode=u,e.attachParent(),i=e.firstNode||e.nextNode,a=r-1,o--;l(n,i,a,0),this.childNodes.parentNode=u}},propagateChildNextNode:function(t,e){var n,o;for(n=this.children,o=s(t)?n.indexOf(t)-1:t-1;t=n[o];){if(t.setNextNode(e),t.firstNode)return;o--}!this.isTag&&this.holder&&this.holder.propagateChildNextNode(this,e)}}},function(t,e,n){var o,r,i,u,a,c,s,l={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=n(18),r=n(16),s=n(4),i=s.funcString,u=s.newLine,a=n(6).renew,t.exports=o=function(t){function e(t){var n;e.__super__.constructor.call(this),t.invalidate?this.func=t:this.func=a(t),n=this,this.func.onInvalidate(function(){return n.invalidateTransform()})}return d(e,t),e.prototype.getContentComponent=function(){return c(this.func())},e.prototype.clone=function(){return new e(this.func).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),u("<Func "+i(this.func)+"/>",t,e)},e}(r)},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y,w,x,b,q,C,N,_,T,L,M,P={}.hasOwnProperty,k=function(t,e){function n(){this.constructor=t}for(var o in e)P.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},H=[].slice;v=n(7),q=(d=n(1)).refreshComponents,_=n(5),p=_.domField,m=_.domValue,h=n(1).directiveRegistry,T=n(31),s=T.classFn,C=T.styleFrom,f=T.domEventHandler,a=T.attrToPropName,u=T.addHandlerToCallbackArray,o=n(20),L=n(4),y=L.funcString,x=L.newLine,l=L.cloneObject,M=n(6),g=M.flow,b=M.react,N=n(27),c=n(4).binaryInsert,t.exports=i=function(t){function e(t,n,o){if(null==n&&(n={}),!(this instanceof e))throw"should use new SubclassComponent(...) with the subclass of Tag";e.__super__.constructor.call(this),this.isTag=!0,t=t||"div",this.tagName=t.toLowerCase(),this.namespace=n.namespace,this.children=N(o),this.initListMixin(),this.initProperties(),this.extendAttrs(n)}return k(e,t),e.prototype.FakeTag=function(){return e},e.prototype.initProperties=function(){var t,e;this.hasActiveProperties=!1,this.cacheClassName="",this.className=t=s(),e=this,this.className.onInvalidate(function(){return t.valid?(e.hasActiveProperties=!0,e.invalidate()):void 0}),this.hasActiveProps=!1,this.cacheProps={},this.props={},this.boundProps={},this.invalidateProps={},this.hasActiveNodeAttrs=!1,this.cacheNodeAttrs={},this.nodeAttrs={},this.boundNodeAttrs={},this.invalidateNodeAttrs={},this.hasActiveStyle=!1,this.cacheStyle={},this.style={},this.boundStyle={},this.invalidateStyle={},this.hasActiveDomEvents=this.hasActiveDomEvents||!1,this.domEventCallbackMap||(this.domEventCallbackMap={}),this.eventUpdateConfig={}},e.prototype.extendAttrs=function(t){var e,n,o,r,i,u,a,c,s,l,d,f,p,m,v,g;e=this.className,a=this.style,u=this.props,i=this.nodeAttrs;for(r in t)if(d=t[r],"style"===r){c=C(d);for(r in c)d=c[r],this.setProp(r,d,a,"Style")}else if("class"===r||"className"===r)this.hasActiveProperties=!0,e.extend(d);else if("on"===r.slice(0,2)){if(!d)continue;if("function"==typeof d)this.bindOne(r,d);else if(l=d[0],"before"===l||"after"===l)for(g=d.slice(1),f=0,m=g.length;m>f;f++)s=g[f],this.bindOne(r,s,"before"===l);else for(p=0,v=d.length;v>p;p++)s=d[p],this.bindOne(r,s)}else if("$"===r[0])n=h[r],(o=d instanceof Array?n.apply(null,d):n.apply(null,[d]))(this);else if("attr_"===r.slice(0,5))this.setProp(r.slice(5),d,i,"NodeAttrs");else{if("xxx"===r.slice(0,3))continue;this.setProp(r,d,u,"Props")}return this},e.prototype.prop=function(){var t;return t=1<=arguments.length?H.call(arguments,0):[],this._prop(t,this.props,"Props")},e.prototype.css=function(){var t;return t=1<=arguments.length?H.call(arguments,0):[],this._prop(t,this.style,"Style")},e.prototype.attr=function(){var t;return t=1<=arguments.length?H.call(arguments,0):[],this._prop(t,this.nodeAttrs,"NodeAttrs")},e.prototype._prop=function(t,e,n){var o,r,i;if(0===t.length)return e;if(1===t.length){if(r=t[0],"string"==typeof r)return e.hasOwnProperty(r)?m(e[r],this):this["cache"+n][r];for(o in r)i=r[o],this.setProp(o,i,e,n)}else 2===t.length&&("NodeAttrs"===n?this.setProp(t[0],t[1],e,n):this.setProp(t[0],t[1],e,n));return this},e.prototype.setProp=function(t,e,n,o){var r,i,u,c;return t=a(t),e=p(e,this),c=n[t],e===c?this:(null==c?"function"==typeof e?(u=this,this["invalidate"+o][t]=i=function(){var r;return u.addActivity(n,t,o,!0),(r=u["bound"+o][t])&&r.invalidate(),n[t]=e},e.onInvalidate(i),this.addActivity(n,t,o),n[t]=e):e!==this["cache"+o][t]&&(this.addActivity(n,t,o),(r=this["bound"+o][t])&&r.invalidate(),n[t]=e):("function"==typeof c&&c.offInvalidate(this["invalidate"+o][t]),"function"==typeof e&&(u=this,this["invalidate"+o][t]=i=function(){return u.addActivity(n,t,o,!0),(r=u["bound"+o][t])&&r.invalidate(),n[t]=e},e.onInvalidate(i)),(r=this["bound"+o][t])&&r.invalidate(),n[t]=e),this)},e.prototype.propBind=function(t){return this._propBind(t,this.props,"Props")},e.prototype.cssBind=function(t){return this._propBind(t,this.style,"Style")},e.prototype.attrBind=function(t){return this._propBind(t,this.nodeAttrs,"NodeAttrs")},e.prototype._propBind=function(t,e,n){var o,r;return r=this["bound"+n],(o=r[t])?o:r[t]=b(function(){return this._prop([t],e,n)})},e.prototype.addActivity=function(t,e,n){return this["hasActive"+n]=!0,this.hasActiveProperties=!0,this.node?this.invalidate():void 0},e.prototype.bind=function(t,e,n){var o,r,i,u,a;if(this.domEventCallbackMap||(this.domEventCallbackMap={}),1===arguments.length)for(o in t)e=t[o],this.bind(o,e);else for(a=t.split(/\s*:\s*/),t=a[0],r=a[1],t=t.split(/\s+/),i=0,u=t.length;u>i;i++)o=t[i],this.bindOne(o,e,n||r);return this},e.prototype.bindOne=function(t,e,n){var o,r;return"on"!==t.slice(0,2)&&(t="on"+t),o=this.domEventCallbackMap||(this.domEventCallbackMap={}),r=o[t]||(o[t]=[]),this.node?this.node[t]=f:(this.hasActiveDomEvents=!0,this.hasActiveProperties=!0),u(e,r,n),this},e.prototype.unbind=function(t,e){var n,o,r,i,u,a;for(t=t.split("s+"),n=this.domEventCallbackMap,u=0,a=t.length;a>u;u++)r=t[u],"on"!==r.slice(0,2)&&(r="on"+r),o=n[r],o&&(i=o.indexOf(e),i>=0&&(o.splice(i,1),o.length||(n[r]=null,this.node&&(this.node[prop]=null))));return this},e.prototype.addClass=function(){var t;return t=1<=arguments.length?H.call(arguments,0):[],this.className.extend(t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.removeClass=function(){var t,e;return t=1<=arguments.length?H.call(arguments,0):[],(e=this.className).removeClass.apply(e,t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.show=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),null==t?this.setProp("display","block",this.style,"Style"):"visible"===t?this.setProp("visibility","visible",this.style,"Style"):this.setProp("display",t,this.style,"Style"),this.render(),this},e.prototype.hide=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),t?"hidden"===t?this.setProp("visibility","hidden",this.style,"Style"):this.setProp("display",t,this.style,"Style"):this.setProp("display","none",this.style,"Style"),this.render(),this},e.prototype.showHide=function(t,e,n){var o,r,i,u,a;return a=this.style,e=p(e,this),u=a.display,u?"function"==typeof u&&u.offInvalidate&&u.offInvalidate(this.invalidateStyle.display):this.addActivity(a,"display","Style",this.node),a.display=i=g(e,u,function(){var o;return("function"==typeof e?!!e():!!e)===t?n?"function"==typeof n?n():n:null!=u?(o="function"==typeof u?u():u,"none"!==o?o:"block"):u="block":"none"}),r=this,this.invalidateStyle.display=o=function(){return r.addActivity(a,"display","Style",!0),a.display=i},i.onInvalidate(o),this.style=a,this},e.prototype.showOn=function(t,e){return this.showHide(!0,t,e)},e.prototype.hideOn=function(t,e){return this.showHide(!1,t,e)},e.prototype.refreshDom=function(t){this.renderDom(t),this.attachParent()},e.prototype.createDom=function(){var t;return this.node=this.firstNode=t=this.namespace?document.createElementNS(this.namespace,this.tagName):document.createElement(this.tagName),t.component=this,this.updateProperties(),this.createChildrenDom(),this.attachChildren(),this.removeChildrenDom(),t},e.prototype.updateDom=function(){return this.updateProperties(),this.updateChildrenDom(),this.attachChildren(),this.removeChildrenDom(),this.node},e.prototype.invalidateAttach=function(t){var e;return e=this.children.indexOf(t),c(e,this.attachParentIndexes),this.holder&&(this.attachValid&&this.valid&&this.holder.invalidateContent(this),this.valid=!1,this.attachValid=!1),this},e.prototype.updateProperties=function(){var t,e,n,o,r,i,u,a,c,s,l,d,h,p,v;if(this.hasActiveProperties){if(this.hasActiveProperties=!1,c=this.node,r=this.className,r.valid||(i=r.call(this),i!==this.cacheClassName&&(this.cacheClassName=c.className=i)),this.hasActiveNodeAttrs){s=this.nodeAttrs,t=this.cacheNodeAttrs,this.hasActiveNodeAttrs=!1;for(l in s)p=s[l],delete s[l],p=m(p,this),t[l]=c[l]=p,c.setAttribute(l,p)}if(this.hasActiveProps){d=this.props,e=this.cacheProps,this.hasActiveProps=!1;for(l in d)p=d[l],delete d[l],p=m(p,this),e[l]=c[l]=p}if(this.hasActiveStyle){h=this.style,n=this.cacheStyle,this.hasActiveStyle=!1,u=c.style;for(l in h)p=h[l],delete h[l],p=m(p,this),n[l]=u[l]=p}if(this.hasActiveDomEvents){v=this.domEventCallbackMap;for(a in v)o=v[a],o&&o.length&&(c[a]=f)}this.hasActiveDomEvents=!1}},e.prototype.clone=function(t){var e,n,o,r,i,u;n={className:this.className.clone(),
style:v({},this.cacheStyle,this.style)},v(n,this.cacheProps,this.props,this.cacheNodeAttrs,this.nodeAttrs),u=this.domEventCallbackMap;for(r in u)o=u[r],n[r]=o.slice(0);return e=this.FakeTag(),i=new e(this.tagName,n,[]),i.__proto__=this.__proto__,i.constructor=this.constructor,i.cloneChildrenFrom(this,t),i.copyEventListeners(this),i.setupCloneComponent(this,t)},e.prototype.setupCloneComponent=function(t,e){return this.setReactive()},e.prototype.toString=function(t,e){var n,o,r,i,u,a,c,s,l,d,h;null==t&&(t=0),i=x("<"+this.tagName,t,e),l=this.props;for(r in l)a=l[r],i+=" "+r+"="+y(a);if(this.hasActiveStyle){i+=" style={",d=this.style;for(r in d)if(a=d[r],"string"==typeof a)i+=a;else for(r in a)u=a[r],i+=" "+r+"="+y(u);i+="}"}if(i+=">",o=this.children,o.length>1){for(h=this.children,c=0,s=h.length;s>c;c++)n=h[c],i+=n.toString(t+2,!0);return i+=x("</"+this.tagName+">",t+2,!0)}return 1===o.length&&(i+=o[0].toString(t+2)),i+=x("</"+this.tagName+">",t+2)},e}(o),w=n(4).mixin,r=n(28),w(i.prototype,r)},function(t,e,n){var e,o;o=n(7),t.exports=e=o({},n(22),n(24),n(25)),e.classFn=n(23)},function(t,e,n){var o,r,i,u,a,c,s,l={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(20),i=n(21),s=n(4),a=s.funcString,c=s.newLine,u=n(5).domValue,t.exports=r=function(t){function e(t){e.__super__.constructor.call(this,t)}return d(e,t),e.prototype.createDom=function(){var t,e;return this.textValid=!0,e=u(this.text,this),t=document.createComment(e),this.node=this.firstNode=t,this.cacheText=e,this.node},e.prototype.updateDom=function(){var t,e,n;return this.textValid?this.node:(this.textValid=!0,n=u(this.text,this),n!==this.cacheText&&(e=t.parentNode,e&&e.removeChild(t),t=document.createComment(n),this.node=this.firstNode=t,this.cacheText=n),this.node)},e.prototype.toString=function(t,e){return null==t&&(t=2),c("<Comment "+a(this.text)+"/>",t,e)},e}(i)},function(t,e,n){var o,r,i,u,a,c,s,l={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(20),i=n(21),s=n(4),a=s.funcString,c=s.newLine,u=n(5).domValue,t.exports=r=function(t){function e(t){e.__super__.constructor.call(this,t)}return d(e,t),e.prototype.createDom=function(){return this.node=document.createCDATASection(u(this.text,this)),this.node},e.prototype.updateDom=function(){return this.text&&(this.node.data=u(this.text,this)),this.node},e.prototype.toString=function(t,e){return null==t&&(t=2),c("<CDATA "+a(this.text)+"/>",t,e)},e}(i)},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y={}.hasOwnProperty,w=function(t,e){function n(){this.constructor=t}for(var o in e)y.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=n(30),v=n(4),l=v.funcString,f=v.newLine,h=v.mixin,g=n(5),c=g.domValue,a=g.domField,p=n(22).setText,t.exports=o=function(t){function e(t,n,o){var r;"string"==typeof t||"function"==typeof t?(o=n,n=t,t={}):t=t||{},t.tagName?(r=t.tagName,delete t.tagName):r="div",this.initHtmlComponent(n,o),e.__super__.constructor.call(this,r,t,[])}return w(e,t),e.prototype.toString=function(t,e){return null==t&&(t=2),f("<Html "+l(this._text)+"/>",t,e)},e}(u),o.HtmlMixin=r={setText:p,initHtmlComponent:function(t,e){var n,o,r;return this.transform=e,this.setText(t),Object.defineProperty?(o=this,n=function(){return o._text},r=function(t){return o.setText(t),t},Object.defineProperty(this,"text",{get:n,set:r})):void 0},initListMixin:function(){},attachChildren:function(){},createDom:function(){var t,e;return this.textValid=!0,this.node=this.firstNode=t=document.createElement(this.tagName),t.component=this,this.updateProperties(),e=c(this._text,this),this.transform&&(e=this.transform(e)),this.cacheText=t.innerHTML=e,this},updateDom:function(){var t,e;return this.textValid?this:(this.textValid=!0,e=c(this._text,this),this.transform&&(e=this.transform(e)),t=this.node,e!==this.cacheText&&(t.childNodes.length>=2&&(t.parentNode&&this.removeNode(),this.node=this.firstNode=t=t.cloneNode(!1),t.component=this),t.innerHTML=e,this.cacheText=e),this.updateProperties(),this)}},i=n(28),m=function(t){return o.prototype[t]=function(){return dc.error("Html component has no children components, do not call ListMixin method("+t+") on it")}};for(d in i)m(d);(s=n(7))(o.prototype,r)},function(t,e,n){var o,r,i,u,a,c,s,l,d={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var o in e)d.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=n(16),l=n(4),u=l.funcString,c=l.newLine,a=l.intersect,s=n(6).renew,o=Object.defineProperty,t.exports=r=function(t){function e(t){var n,r,i;e.__super__.constructor.apply(this,arguments),this.__cacheTest=null,r=this,this.invalidateHandler=function(){return r.invalidateTransform()},o&&(n=function(){return r._test},i=function(t){return r.setTest(t),t},o(this,"test",{get:n,set:i})),this.setTest(t)}return h(e,t),e.prototype.getTestValue=function(){var t;return t=this.test,"function"==typeof t?this.__cacheTest=t.call(this):this.__cacheTest=t},e.prototype.setTest=function(t){var e,n;if(e=this.test,t===e)return t;if("function"==typeof e){if(t===this.__originalTest)return t;this.__originalTest.offInvalidate(this.invalidateHandler)}return n=o?"_test":"test","function"==typeof t&&(this.__originalTest=t,t.invalidate||(t=s(t)),t.onInvalidate(this.invalidateHandler)),this.__cacheTest!==t&&this.invalidateTransform(),this[n]=t},e}(i)},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var o in e)f.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};d=n(18),i=n(35),h=n(4),u=h.funcString,s=h.newLine,a=h.intersect,l=n(6).renew,c=n(37),r=Object.defineProperty,t.exports=o=function(t){function e(t,n,o,r,i,u){var s;if(null==u&&(u=!1),n===o)return d(n);if(n=d(n),o=d(o),!u){if("function"!=typeof t)return t?n:o;if(r)return c(t,n,o,i)}return e.__super__.constructor.call(this,t),this.then_=n,this.else_=o,this.family=s=a([n.family,o.family]),s[this.dcid]=!0,this}return p(e,t),e.prototype.getContentComponent=function(){return this.getTestValue()?this.then_:this.else_},e.prototype.clone=function(){return new e(this.test,this.then_.clone(),this.else_.clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),s("",t,e)+"<if "+u(this.test)+">"+this.then_.toString(t+2,!0)+this.else_.toString(t+2,!0)+s("</if>",t,!0)},e}(i)},function(t,e,n){var o,r,i,u,a,e,c,s,l,d,h,f,p,m,v;c=n(7),i=n(30),o=n(26),r=n(19),u=n(31).domEventHandlerFromArray,s=n(9),l=s.if_,e=t.exports=d=function(t,e,u,a){var c,s,d,h,g,y,w,x,b,q;return c=n(36),e===u?e:e.constructor===i&&u.constructor===i&&e.tagName===u.tagName&&e.namespace===u.namespace?(s=f(t,e,u,a),h=new i(e.tagName,{},s),d=p(t,e.className,u.className),w=v(t,e.props,u.props),x=v(t,e.style,u.style),y=m(t,e.domEventCallbackMap,u.domEventCallbackMap),h.addClass(d).prop(w).css(x).bind(y)):e.isHtml&&u.isHtml?(b=e.transform,g=u.transform,q=function(e){return t()?b&&b(e)||e:g&&g(e)||e},new e.constructor(l(t,e.text,u.text),q)):e.isText&&u.isText&&e.constructor===u.constructor?new e.constructor(l(t,e.text,u.text)):e instanceof r&&u instanceof r?e:e.isList&&u.isList?new o(f(t,e,u,a)):new c(t,e,u,!1,!1,!0)},h=function(t,e,o,r){var i;return r||!e.isList&&!o.isList?d(t,e,o,r):new(i=n(36))(t,e,o,!1,!1,!0)},e.mergeIfChildren=f=function(t,e,n,o){var i,u,a,c,s,l,f,p,m,v,g,y,w,x;if(l=e.children,u=n.children,f=l.length,a=u.length,f===a)for(i=new Array(f),s=m=0,y=l.length;y>m;s=++m)p=l[s],i[s]=h(t,p,u[s],o);else if(a>f){for(i=new Array(a),s=v=0,w=l.length;w>v;s=++v)p=l[s],i[s]=h(t,p,u[s],o);for(;a>s;)i[s]=d(t,new r,u[s]),s++}else{for(i=new Array(f),s=g=0,x=u.length;x>g;s=++g)c=u[s],i[s]=h(t,l[s],c,o);for(;f>s;)i[s]=d(t,l[s],new r),s++}return i},p=function(t,e,n){return v(t,e.classMap,n.classMap)},v=function(t,e,n){var o,r;r=c({},e,n);for(o in r)r[o]=l(t,e[o],n[o]);return r},a=function(){},m=function(t,e,n){var o,r,i,s,l,d;d=c({},e,n);for(i in d)l=(s=e[i])?u(s.slice(0)):a,r=(o=n[i])?u(o.slice(0)):a,d[i]=function(e){return t()?l.call(this,e):r.call(this,e)};return d}},function(t,e,n){var o,r,i,u,a,c,s,l,d,h={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=n(18),r=n(35),d=n(4),i=d.foreach,u=d.funcString,c=d.newLine,a=d.intersect,s=n(6).renew,t.exports=o=function(t){function e(t,n,o,r){var u,c;return this.map=n,null==r&&(r=!1),r||"function"==typeof t?(i(n,function(t,e){return n[e]=l(t)}),this.else_=l(o),u=[],i(n,function(t){return u.push(t.family)}),u.push(this.else_.family),this.family=c=a(u),c[this.dcid]=!0,void e.__super__.constructor.call(this,t)):l(n.hasOwnPoperty(t)?n[key]:o)}return f(e,t),e.prototype.getContentComponent=function(){return this.map[this.getTestValue()]||this.else_},e.prototype.clone=function(){var t;return t=i(this.map,function(t){return t.clone()}),new e(this.test,t,this.else_.clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){var n;return null==t&&(t=0),n=c("",t,e)+"<Case "+u(this.test)+">",i(this.map,function(e,o){return n+=c(o+": "+e.toString(t+2,!1),t+2,!0)}),n+=this.else_.toString(t+2,!0)+c("</Case>",t,!0)},e}(r)},function(t,e,n){var o,r,i,u,a,c={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var o in e)c.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=n(18),r=n(16),u=n(4).newLine,i=n(7),t.exports=o=function(t){function e(t,n,o){var r,u,c,s;this.host=t,e.__super__.constructor.call(this),c=this,null==n?this.field=n="content":this.field=n,o?this._content=t[n]=a(o):this._content=t[n]=a(t[n]),this.family=r=i({},this._content.family),r[this.dcid]=!0,Object.defineProperty&&(u=function(){return c._content},s=function(t){return c.setContent(t),t},Object.defineProperty(t,n,{get:u,set:s}))}return s(e,t),e.prototype.setContent=function(t){var e;return e=this._content,t===e?this:(this.invalidateTransform(),this.onSetContent(t,e),this._content=a(t),this)},e.prototype.onSetContent=function(t,e){return this},e.prototype.getContentComponent=function(){return this._content},e.prototype.clone=function(){return new this.constructor(this.host,this.field).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),u("",t,e)+"<Pick:"+this.field+": "+this._content.toString(t+2,!0)+">"},e}(r)},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var o in e)m.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=n(18),a=n(16),c=n(7),p=n(4),s=p.funcString,d=p.newLine,l=p.intersect,h=n(6).renew,i=0,r=1,u=2,t.exports=o=function(t){function e(t,n,o,a){var c,s;return this.promise=t,e.__super__.constructor.apply(this,arguments),this.fulfill=n||function(t){return t},s=o||function(t){return t},this.init=a&&a(t,this)||new Nothing,this.family=c=l([fullfill.family,o.family,a.family]),c[this.dcid]=!0,this.promiseState=i,t.then(function(t){return this.promiseResult=t,this.promiseState=r,this.invalidateTransform()})["catch"](function(t){return this.promiseResult=t,this.promiseState=u,this.invalidateTransform()}),this}return v(e,t),e.prototype.getContentComponent=function(){var t;return(t=this.promiseState)===i?init:f(t===r?this.fulfill(this.promiseResult,this.promise,this):this.reject(this.promiseResult,this.promise,this))},e.prototype.clone=function(){return new e(this.promise,this.fulfill,this.reject,this.init.clone).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),d("",t,e)+"<Defer "+this.promise+">"+d("",t,e)+s(this.fulfill)+d("",t,e)+s(this.reject)+this.init.toString(t+2,!0)+d("</Defer>",t,!0)},e}(a),c(o,{INIT:i,FULFILL:r,REJECT:u})},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y,w,x,b,q,C,N,_,T,L,M,P,k,H,A,I,S,E,D=[].slice;I=n(14),i=I.Component,P=I.toComponent,q=I.isComponent,f=I.Tag,p=I.Text,r=I.Comment,c=I.Html,s=I.If,o=I.Case,a=I.Func,l=I.List,h=I.Pick,d=I.Nothing,u=I.Defer,N=n(4).isEven,e.isAttrs=b=function(t){return!("object"!=typeof t||null===t||q(t)||t instanceof Array)},S=n(4),x=S.isArray,_=S.isObject,E=n(10),H=E.watchItems,C=E.isEachObjectSystemKey,L=n(6).renew,m=function(t){var e;return e=t[0],t.length?null==e?[{},t.slice(1)]:e instanceof Array?[{},t]:"function"==typeof e?[{},t]:"object"==typeof e?q(e)?[{},t]:[e,t.slice(1)]:[{},t]:[{},[]]},k=function(t){return t instanceof Array?t.length?1===t.length?k(t[0]):t:[]:[t]},M=e.tag=function(){var t,e,n,o,r;return o=arguments[0],t=2<=arguments.length?D.call(arguments,1):[],r=m(t),e=r[0],n=r[1],new f(o,e,k(n))},e.nstag=function(){var t,e,n,o,r,i;return r=arguments[0],o=arguments[1],t=3<=arguments.length?D.call(arguments,2):[],i=m(t),e=i[0],n=i[1],new f(r,e,k(n),o)},e.txt=function(t,e){return b(t)?new f("div",t,[new p(e)]):new p(t)},e.comment=function(t,e){return b(t)?new f("div",t,[new r(e)]):new r(t)},e.html=function(t,e,n){return new c(t,e,n)},e.if_=function(t,e,n,o,r,i){return b(t)?new f("div",t,[new s(e,n,o,r,i)]):new s(t,e,n,r,i)},e.forceIf=function(t,e,n,o){return b(t)?new f("div",t,[new s(e,n,o,!0,!1,!0)]):new s(t,e,n,!0,!1,!0)},e.mergeIf=function(t,e,n,o,r){return b(t)?new f("div",t,[new s(e,n,o,!0,r)]):new s(t,e,n,!0,r)},e.recursiveIf=function(t,e,n,o){return b(t)?new f("div",t,[new s(e,n,o,!0,!0)]):new s(t,e,n,!0,!0)},e.case_=function(t,e,n,r){return b(t)?new f("div",t,[new o(e,n,r)]):new o(t,e,n)},e.forceCase=function(t,e,n,r){return b(t)?new f("div",t,[new o(e,n,r,!0)]):new o(t,e,n,!0)},e.cond=function(){var t,e,n,o;return t=arguments[0],e=3<=arguments.length?D.call(arguments,1,o=arguments.length-1):(o=1,[]),n=arguments[o++],b(t)?(N(e)||(e.push(n),n=null),new f("div",t,[new Cond(e,n)])):(e.unshift(t),N(e)||(e.push(n),n=null),new Cond(e,n))},e.func=function(t,e){return b(t)?new f("div",t,[new a(e)]):new a(t)},e.pick=function(t,e,n){return new h(t,e,n)},e.list=T=function(){var t,e;return t=arguments[0],e=2<=arguments.length?D.call(arguments,1):[],b(t)?new f("div",t,[new l(e)]):(e.unshift(t),1===e.length?P(e[0]):new l(e))},v=function(t){return t},A=function(t,e,n){var o,r,i,u,a,c,s,d,h,p;if(t?(t.tagName?(d=t.tagName,delete t.tagName):d="div",s=new f(d,t,[])):s=new l([]),s.items=e,"function"==typeof n?(s.itemFunc=n,n={}):(n=n||{},s.itemFunc=n.itemFunc||v),s.separatorFunc=n.separatorFunc,s.updateSuccChild=n.updateSuccChild,s.updateSuccIndex=n.updateSuccIndex,s.keyChildMap=c={},x(e)?s.getItemComponent=r=function(t,n){var o,r;return o=P(s.itemFunc(t,n,e,s)),s.separatorFunc&&n&&(r=P(s.separatorFunc(n,t,e,s)),o=new l([r,o])),o.itemIndex=n,o}:s.getItemComponent=r=function(t,n){var o,r,i;return i=e[t],c[t]=n,o=P(s.itemFunc(i,t,n,s)),s.separatorFunc&&n&&(r=P(s.separatorFunc(n,i,t,s)),o=new l([r,o])),o.$watchingKey=t,o.itemIndex=n,o},o=[],x(e))for(i=h=0,p=e.length;p>h;i=++h)u=e[i],o.push(r(u,i));else{i=0;for(a in e)o.push(r(a,i)),i++}return s.setChildren(0,o)},w=function(t){var e,n,o,r;if(e=t[0],n=t[1],r=t[2],1===t.length)return[null,e,{}];if(3===t.length)return[e,n,r];if("function"==typeof n)return[null,e,{itemFunc:n}];if(x(n))return[e,n,{}];if(x(e))return[null,e,n];if(n){if(_(n)){for(o in n)if(!n.hasOwnProperty(o)&&o.test(/itemFunc|separatorFunc|updateSuccChild|updateSuccIndex/))return[null,e,n];return[e,n,{}]}throw new Error("wrong parameter")}return[null,e,{}]},e.every=y=function(){var t,e,n,o,r;return t=1<=arguments.length?D.call(arguments,0):[],r=w(t),e=r[0],n=r[1],o=r[2],A(e,n,o)},e.each=g=function(){var t,e,n,o,r,i;return t=1<=arguments.length?D.call(arguments,0):[],i=w(t),e=i[0],n=i[1],r=i[2],o=y(e,n,r),H(n,o)},e.funcEach=function(t,e,n){var o,r,i;return"function"==typeof t&&(n=e,e=t,t=null),r=e(),r=x(r)?r.slice(0):extend({},r),o=g(t,r,n),i=function(){var t;return t=e(),r.replaceAll(t)},e.onInvalidate?e.onInvalidate(i):(o.on("willRenderDom",function(){return o.node?i():void 0}),o.on("didRenderDom",function(){return o.invalidate()})),o},e.defer=function(t,e,n,o,r){return b(t)?new f("div",t,[new u(e,n,o,r)]):new u(t,e,n,o)}},function(t,e,n){var o,r,i,u,a,c,s,l,d,h,f,p,m,v,g,y,w,x=[].slice;for(o=n(7),y=n(41),c=y.tag,a=y.isAttrs,r=n(5).getBindProp,l="a abbr acronym address area b base bdo big blockquote body br button caption cite code col colgroup dd del dfn div dl dt em fieldset form h1 h2 h3 h4 h5 h6 head hr i img input ins kbd label legend li link map meta noscript object ol optgroup option p param pre q samp script select small span strong style sub sup table tbody td textarea tfoot th thead title tr tt ul var header footer section svg iframe",l=l.split(" "),h=function(t){return e[t]=function(){var e;return e=1<=arguments.length?x.call(arguments,0):[],c.apply(null,[t].concat(x.call(e)))}},p=0,v=l.length;v>p;p++)s=l[p],h(s);for(e.tagHtml=function(){var t;return t=1<=arguments.length?x.call(arguments,0):[],c.apply(null,["html"].concat(x.call(t)))},u="text checkbox radio date email number".split(" "),i=e.input=function(t,e,n){var i;return"object"==typeof t&&(n=e,e=t,t="text"),e=o({type:t},e),i=c("input",e),null!=n&&(i.prop(r(i),n),n.isDuplex&&i.bind("onchange",function(t,e){return n.call(this,e.value)},"before")),i},w="text checkbox radio date email tel number".split(" "),f=function(t){return e[t]=function(e,n){var o;return"object"==typeof e&&(o=n,n=e,e=o),n=n||{},i(t,n,e)}},m=0,g=w.length;g>m;m++)d=w[m],f(d);e.textarea=function(t,e){var n;return a(t)?null!=e?(t=o({value:e},t),n=c("textarea",t),e.isDuplex&&n.bind("onchange",function(t,n){return e.call(this,n.value)},"before")):n=c("textarea",t):null!=t?(n=c("textarea",{value:t}),t.isDuplex&&n.bind("onchange",function(e,n){return t.call(this,n.value)},"before")):n=c("textarea"),n}},function(t,e){var n,o,r,i,u,a,c={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var o in e)c.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=[].slice,i=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/gi,u=/at\s+()(.*):(\d*):(\d*)/gi,a=function(t,e){var n,r,a,c,s,l,d,h,f;for(null==e&&(e=1),t?(o.prodution||console.log(t),t+=":\n"):t="",n=new Error,o.prodution||console.log(n),h=n.stack.split("\n").slice(3),e=1,f=h.length;f>e;)d=h[e],a=i.exec(d)||u.exec(d),a&&5===a.length&&(s=a[1],r=a[2],c=a[3],l=a[4],t+=r+":"+c+":"+l+":"+s+"\n"),e++;return t},e.DomcomError=n=function(t){function e(t,e){this.message=t,this.component=e}return s(e,t),e.prototype.toString=function(){return this.component?this.component.toString()+"\n"+this.message:this.message},e}(Error),e.error=o=function(t,e){throw t=a(t,2),new n(t,e)},e.onerror=function(t,e){throw t instanceof n?(console.log(t),new Error(t.message)):t instanceof Error?t:(e?(console.log(e),console.log(t)):console.log(t),new Error(t+":\n"+a()))}},function(t,e,n){var o,r,i;e.$model=n(45),e.$bind=n(46),i=n(47),r=i.$show,o=i.$hide,e.$show=r,e.$hide=o,e.$options=n(48)},function(t,e,n){var o;o=n(5).getBindProp,t.exports=function(t,e){return function(n){var r,i;return i=n.props,r=o(n),n.setProp(r,t,i,"Props"),n.bind(e||"onchange",function(e,n){return t(n[r])},"before"),n}}},function(t,e,n){var o;o=n(5).getBindProp,t.exports=function(t){return function(e){return e.setProp(o(e),t,props,"Props"),e}}},function(t,e){var n;n=function(t){return function(e,n){return function(o){return o.showHide(t,e,n),o}}},e.$show=n(!0),e.$hide=n(!1)},function(t,e,n){var o,r,i;i=n(41).txt,r=n(42).option,o=n(30),t.exports=function(t,e){return function(n){var u,a,c,s;if(!(n instanceof o)||"select"!==n.tagName)throw new Error("options should be only used in select tag");if(a=[],t)for(c=0,s=t.length;s>c;c++)u=t[c],a.push(r(e,[i(u)]));return n.setChildren(0,a)}}},function(t,e){var n,o,r,i,u;o=dc.Tag,n=dc.DomNode,e.makeDelegationHandler=i=function(){return function(t){var e,n;return n=t.target,e=n.component,e["do_"+t.type](t)}},o.prototype.delegate=n.prototype.delegate=function(t,e){return null==e&&(e=i()),this.bind(t,e)},e.makeHolderDelegationHandler=u=function(){return function(t){var e,n,o,r;for(r=t.target,o=r.component,n="do_"+t.type;o;)if(e=o[n]){if(e.call(o,t),!t.continueDelegating)break;o=o.holder}else o=o.holder}},o.prototype.delegateByHolder=n.prototype.delegateByHolder=function(t,e){return null==e&&(e=u()),this.bind(t,e)},r=function(t){return function(e){var n;(n=t["do_"+e.type])&&n.call(t,e)}},o.prototype.delegateByComponent=n.prototype.delegateByComponent=function(t,e){return this.bind(t,r(e))}},function(t,e){var n,o,r,i,u,a;n=dc.Tag,o=/[\d\s\.-]/g,e.unitAdd=r=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitAdd(prop, value)"),n+parseFloat(e)+t.replace(o,"")},e.unitSub=a=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitSub(prop, value)"),n-parseFloat(e)+t.replace(o,"")},e.unitMul=u=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitMul(prop, value)"),n*parseFloat(e)+t.replace(o,"")},e.unitDiv=i=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitDiv(prop, value)"),n/parseFloat(e)+t.replace(o,"")},n.prototype.cssAdd=function(t,e){var n;return n=r(this.css(t),e),this.css(t,n)},n.prototype.cssSub=function(t,e){return this.css(t,a(this.css(t),e))},n.prototype.cssMul=function(t,e){return this.css(t,u(this.css(t),e))},n.prototype.cssDiv=function(t,e){return this.css(t,i(this.css(t),e))}}]);