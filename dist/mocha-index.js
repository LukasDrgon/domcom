!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e,n){n(4),n(7),n(9),n(11),n(12),n(13),n(14),n(16),n(1),n(17),n(18),n(19),n(20),n(21),n(22),n(23)},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L;L=n(2),h=L.expect,g=L.iit,m=L.idescribe,x=L.nit,b=L.ndescribe,u=dc.Component,w=dc.list,p=dc.func,v=dc.if_,f=dc.each,a=dc.a,d=dc.div,q=dc.p,_=dc.span,T=dc.text,N=dc.select,y=dc.input,r=dc.$show,o=dc.$hide,i=dc.$splitter,s=dc.bindings,l=dc.duplex,C=dc.see,dc.directives(dc.builtinDirectives),c=s({a:1}).a$,describe("directives",function(){return describe("model ",function(){return it("should process model  directive",function(){var t;return t=T({$model:c}),t.mount(),t.node.value="2",t.node.onchange(),h(c()).to.equal("2")}),it("should process event property of component with model directive",function(){var t,e,n,o;return o=0,n=l(e={},"x"),t=y({$model:n,onmouseenter:function(){return o=1}}),t.mount(),t.node.onmouseenter(),h(o).to.equal(1)})}),describe("$show",function(){return it("should process $show directive",function(){var t;return t=d({$show:!0}),t.mount(),h(t.node.style.display).to.equal("block")}),it("should process $show directive with non block display",function(){var t;return t=d({style:{display:"inline"},$show:!0}),t.mount(),h(t.node.style.display).to.equal("inline")}),it("should process $show directive with false value",function(){var t;return t=d({$show:!1},d(1)),t.mount(),h(t.node.style.display).to.equal("none")}),it("should process $show directive with function value",function(){var t,e;return e=C(!0),t=d({$show:e}),h(t.style.display.invalidate).to.be.defined,t.mount(),h(t.node.style.display).to.equal("block",1),e(!1),h(t.hasActiveStyle).to.equal(!0),t.update(),h(t.node.style.display).to.equal("none",2)}),it("should process hide directive",function(){var t;return t=d({$hide:!0},d(1)),t.mount(),h(t.node.style.display).to.equal("none"),t=d({$hide:!1},d(1)),t.mount(),h(t.node.style.display).to.equal("block")}),it("should process show directive with true or false value",function(){var t;return t=r(!1)(d(d(1))),t.mount(),h(t.node.style.display).to.equal("none"),t=r(!0)(d(d(1))),t.mount(),h(t.node.style.display).to.equal("block")})}),b("select options",function(){return it("should constructor select with options",function(){var t;return t=N({$options:[[1,2]]}),t.mount(),h(t.node.innerHTML).to.match(/<option>1/),h(t.node.innerHTML).to.equal("<option>1</option><option>2</option>")})}),describe("splitter",function(){return it("should constructor splitter",function(){var t,e,n;return n=i("vertical")(d({style:{height:"800px",width:"200px"}},d(1),d(2))),n.mount(),t=n.node.getBoundingClientRect(),h(t.width>0).to.equal(!0),h(n.node.innerHTML).to.match(/splitbar/),e=n.children,h(e[1].node.getBoundingClientRect().top).to.equal(n.node.getBoundingClientRect().top),e[1].node.onmousedown(),n.node.onmousemove({clientX:20,clientY:30,preventDefault:function(){},stopPropagation:function(){}}),h(e[1].node.getBoundingClientRect().top).to.equal(n.node.getBoundingClientRect().top),h(e[1].node.style.top).to.equal("0px"),n.node})})})},function(t,e,n){if("undefined"==typeof window)var o=n(3);else var o=window.chai;e.expect=o.expect,e.iit=it.only,e.idescribe=describe.only,e.nit=function(){},e.ndescribe=function(){}},function(t,e){t.exports=chai},function(t,e,n){var o,r,i,u,a,c,s,d,l;d=n(2),i=d.expect,a=d.iit,u=d.idescribe,s=d.nit,c=d.ndescribe,l=n(5),r=l.binarySearch,o=l.binaryInsert,describe("util",function(){return describe("binarySearch",function(){return it("should binarySearch(0, [])",function(){return i(r(0,[])).to.deep.equal(0)}),it("should binarySearch(0, [0])",function(){return i(r(0,[0])).to.deep.equal(0)}),it("should binarySearch(0, [1])",function(){return i(r(0,[1])).to.deep.equal(0)}),it("should binarySearch(1, [1 2])",function(){return i(r(1,[1,2])).to.deep.equal(0)}),it("should binarySearch(2, [1 2])",function(){return i(r(2,[1,2])).to.deep.equal(1)}),it("should binarySearch(2, [1 3])",function(){return i(r(2,[1,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3])",function(){return i(r(2,[1,2,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3 4])",function(){return i(r(2,[1,2,3,4])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 4 5])",function(){return i(r(3,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5])",function(){return i(r(4,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5 6])",function(){return i(r(4,[1,2,4,5,6])).to.deep.equal(2)})}),describe("binaryInsert",function(){return it("should binaryInsert(0, [])",function(){var t;return o(0,t=[]),i(t).to.deep.equal([0])}),it("should binaryInsert(0, [0])",function(){var t;return o(0,t=[0]),i(t).to.deep.equal([0])}),it("should binaryInsert(0, [1])",function(){var t;return o(0,t=[1]),i(t).to.deep.equal([0,1])}),it("should binaryInsert(1, [1 2])",function(){var t;return o(1,t=[1,2]),i(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 2])",function(){var t;return o(2,t=[1,2]),i(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 3])",function(){var t;return o(2,t=[1,3]),i(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3])",function(){var t;return o(2,t=[1,2,3]),i(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3 4])",function(){var t;return o(2,t=[1,2,3,4]),i(t).to.deep.equal([1,2,3,4])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(3,t=[1,2,4,5]),i(t).to.deep.equal([1,2,3,4,5])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(4,t=[1,2,4,5]),i(t).to.deep.equal([1,2,4,5])}),it("should binaryInsert(2, [1 2 4 5 6])",function(){var t;return o(4,t=[1,2,4,5,6]),i(t).to.deep.equal([1,2,4,5,6])})})})},function(t,e,n){var o,r,i=[].slice;e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,o;for(e=1<=arguments.length?i.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,o={};n>t;)o[e[t]]=e[t+1],t+=2;return o},o=function(t,e){var n,o;for(o="",n=0;n++<e;)o+=t;return o},e.newLine=function(t,e,n){return n?"\n"+o(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return e=o,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},r=1,e.newDcid=function(){return r++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,o;if("("===t[e])for(o=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++e;o--}},e.intersect=function(t){var e,n,o,r,i,u,a,c;i={},o=t[0];for(n in o){for(e=!0,c=t.slice(1),u=0,a=c.length;a>u;u++)if(r=c[u],!r[n]){e=!1;break}e&&(i[n]=o[n])}return i},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,o,r,i;if(r=e.length,!r)return 0;if(1===r)return e[0]>=t?0:1;for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]>=t?o:o+1;if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return o+1;i=o+1}}},e.binaryInsert=function(t,e){var n,o,r,i;if(r=e.length,!r)return e[0]=t,0;if(1===r)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]===t?o:e[o]>t?(e.splice(o,0,t),o):(e.splice(o+1,0,t),o+1);if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return e.splice(o+1,0,t),o+1;i=o+1}}},e.numbers=function(t){var e,o,r;if(e=n(6),"function"==typeof t)return e(t,function(){var e,n,o;for(e=0,o=[],n=t();n>e;)o.push(e),e++;return o});for(o=0,r=[];t>o;)r.push(o),o++;return r}},function(t,e,n){var o,r,i,u,a,c,s,d,l=[].slice;d=n(5),u=d.newLine,i=d.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,o;return o=t.invalidateCallbacks,!o||(n=o.indexOf(e),0>n)?void 0:(o.splice(n,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var e,n,o,r;if(t.invalidateCallbacks){for(r=t.invalidateCallbacks,n=0,o=r.length;o>n;n++)(e=r[n])();t.valid=!1}},t)},c=function(t){var e;return e=function(){if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return e.invalidate(),e.value=t()},e.toString=function(){return"renew: "+i(t)},a(e)},o=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t())},n.toString=function(){return"dependent: "+i(t)},a(n)},t.exports=r=function(){var t,e,n,o,r,u,c,s,d,f;for(o=2<=arguments.length?l.call(arguments,0,u=arguments.length-1):(u=0,[]),e=arguments[u++],c=0,d=o.length;d>c;c++)if(n=o[c],"function"==typeof n&&!n.invalidate)return r=a(function(){return r.invalidate(),e()});for(t=null,r=a(function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return r.valid?t:(r.valid=!0,t=e())}),s=0,f=o.length;f>s;s++)n=o[s],n&&n.onInvalidate&&n.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(n.toString());return r}().join(",")+"] --> "+i(e)},r},r.pipe=function(){var t,e,n,o,r,i,u,c,s;for(n=2<=arguments.length?l.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],i=0,c=n.length;c>i;i++)if(e=n[i],"function"==typeof e&&!e.invalidate)return o=a(function(){var r,i,u;for(o.invalidate(),r=[],i=0,u=n.length;u>i;i++)e=n[i],"function"==typeof e?r.push(e()):r.push(e);return t.apply(null,r)});for(o=a(function(){var o,r,i;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],"function"==typeof e?o.push(e()):o.push(e);return t.apply(null,o)}),u=0,s=n.length;s>u;u++)e=n[u],e&&e.onInvalidate&&e.onInvalidate(o.invalidate);return o},r.react=a,r.renew=c,r.dependent=o,r.flow=r,r.see=s=function(t,e){var n,o;return n=t,o=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,o.invalidate()),t):n},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},r.seeN=function(){var t,e,n,o,r;for(e=1<=arguments.length?l.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(s(t));return r},Object.defineProperty?(r.bind=function(t,e,n){var o,r,i,u,c;return r=Object.getOwnPropertyDescriptor(t,e),r&&(i=r.get,u=r.set),i&&i.invalidate||(o=t[e],i=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return o},c=function(n){return n!==t[e]?(u&&u(n),i.invalidate(),o=n):void 0},a(i),i.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:i,set:c})),i},r.duplex=function(t,e,n){var o,r,i,u,c;return r=Object.getOwnPropertyDescriptor(t,e),r&&(i=r.get,c=r.set),c&&c.invalidate?c:(o=t[e],u=function(n){return arguments.length?n!==t[e]?(c&&c(n),i&&i.invalidate&&i.invalidate(),u.invalidate(),o=n):void 0:o},a(u),u.isDuplex=!0,u.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:u,set:u}),u)}):(r.bind=function(t,e,n){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]?(r&&r[e]&&r[e].invalidate(),(o=this._dcDuplexMethodMap)&&o[e]&&o[e].invalidate()):void 0}),o=r[e],o||(o=r[e]=function(){return t[e]},o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o},r.duplex=function(t,e,n){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]&&((o=this._dcBindMethodMap)&&o[e]&&o[e].invalidate(),r&&r[e]&&r[e].invalidate()),n}),o=r[e],o||(o=r[e]=function(n){return arguments.length?t.dcSet$(e,n):t[e]},o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o}),r.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?r(t,function(){return e(t())}):function(){return e(t())}},r.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?r(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?r(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?r(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m;p=n(2),u=p.expect,s=p.iit,c=p.idescribe,l=p.nit,d=p.ndescribe,m=n(6),h=m.see,o=m.bind,i=m.duplex,f=m.renew,a=m.flow,r=n(8).bindings,describe("reactive flow",function(){return it("should see",function(){var t;return t=h(1),u(t()).to.equal(1),u(t(2)).to.equal(2),u(t()).to.equal(2)}),it("should renew",function(){var t,e;return e=1,t=f(function(){return e},!0),u(t()).to.equal(1),u(function(){return t(2)}).to["throw"](),e=2,u(t()).to.equal(2)}),it("should flow",function(){var t,e,n;return t=h(1),e=h(2),n=a(t,e,function(){return t()+e()}),u(n()).to.equal(3),u(function(){return n(2)}).to["throw"](),t(2),u(n()).to.equal(4)}),it("should flow unary",function(){var t,e,n,o;return o=r({a:4,b:2}),t=o.a_,e=o.b_,n=a.neg(t),u(n()).to.equal(-4,"neg"),n=a.no(t),u(n()).to.equal(!1,"not"),n=a.abs(a.neg(t)),u(n()).to.equal(4,"abs neg"),n=a.bitnot(t),u(n()).to.equal(-5,"bitnot")}),it("should flow binary",function(){var t,e,n,o;return o=r({a:4,b:2}),t=o.a_,e=o.b_,n=a.add(t,e),u(n()).to.equal(6,"add"),n=a.sub(t,e),u(n()).to.equal(2,"sub"),n=a.mul(t,e),u(n()).to.equal(8,"mul"),n=a.div(t,e),u(n()).to.equal(2,"div")}),it("should invalidate flow binary",function(){var t,e,n;return t=h(1),e=h(2),n=a.add(t,e),u(n()).to.equal(3,"add"),t(3),u(n()).to.equal(5,"add 2")}),it("should invalidate bind flow binary",function(){var t,e,n,r;return n={a:1,b:2},t=o(n,"a","m"),e=o(n,"b","m"),r=a.add(t,e),u(r()).to.equal(3,"add"),u(function(){return t(3)}).to["throw"](),u(r()).to.equal(3,"add 2")}),it("should bind",function(){var t,e,n;return n={a:1},t=o(n,"a"),e=o(n,"a"),u(t()).to.equal(1),u(e()).to.equal(1,"a2"),u(function(){return t(3)}).to["throw"](),u(t()).to.equal(1,"a again"),u(e()).to.equal(1,"a2 again")}),it("should process bindings",function(){var t,e,n;return n=r({a:1}),t=n.a$,e=n.a_,t(3),u(e()).to.equal(3)}),it("should process multiple bind and duplex on same object and attr",function(){var t,e,n,o,r,c;return r={a:1,b:2},t=i(r,"a"),n=i(r,"b"),e=i(r,"a"),o=i(r,"b"),c=a.add(t,n),u(c()).to.equal(3,"sum 1"),u(c.valid).to.equal(!0,"valid 1"),e(3),u(c.valid).to.equal(!1,"valid 2"),u(c()).to.equal(5,"sum 2"),c=a.add(e,o),u(c()).to.equal(5,"sum 3"),u(c.valid).to.equal(!0,"valid 3"),e(1),u(c.valid).to.equal(!1,"valid 4"),u(c()).to.equal(3,"sum 4")})})},function(t,e,n){var o,r,i,u,a,c;c=n(6),r=c.bind,i=c.duplex,u=c.flow,a=c.unary,o=c.binary,t.exports=u,u.bindings=function(t,e){var n,o;o={};for(n in t)o[n+"$"]=i(t,n,e),o[n+"_"]=r(t,n,e);return o},u.neg=function(t){return a(t,function(t){return-t})},u.no=function(t){return a(t,function(t){return!t})},u.bitnot=function(t){return a(t,function(t){return~t})},u.reciprocal=function(t){return a(t,function(t){return 1/t})},u.abs=function(t){return a(t,Math.abs)},u.floor=function(t){return a(t,Math.floor)},u.ceil=function(t){return a(t,Math.ceil)},u.round=function(t){return a(t,Math.round)},u.add=function(t,e){return o(t,e,function(t,e){return t+e})},u.sub=function(t,e){return o(t,e,function(t,e){return t-e})},u.mul=function(t,e){return o(t,e,function(t,e){return t*e})},u.div=function(t,e){return o(t,e,function(t,e){return t/e})},u.min=function(t,e){return o(t,e,function(t,e){return Math.min(t,e)})},u.toggle=function(t){return t(!t())},u.if_=function(t,e,n){return"function"!=typeof t?t?e:n:t.invalidate?"function"==typeof e&&"function"==typeof n?e.invalidate&&n.invalidate?u(t,e,n,function(){return t()?e():n()}):function(){return t()?e():n()}:"function"==typeof e?e.invalidate?u(t,e,function(){return t()?e():n}):function(){return t()?e():n}:"function"==typeof n?n.invalidate?u(n,function(){return t()?e:n()}):function(){return t()?e:n()}:u(t,function(){return t()?e:n}):"function"==typeof e&&"function"==typeof n?function(){return t()?e():n()}:"function"===e?function(){return t()?e():n}:"function"===n?function(){return t()?e:n()}:t()?e:n}},function(t,e,n){(function(t){var e,o,r,i,u,a,c;c=n(10),e=c.expect,i=c.iit,r=c.idescribe,a=c.nit,u=c.ndescribe,o=n(!function(){var t=new Error('Cannot find module "./index"');throw t.code="MODULE_NOT_FOUND",t}()).flow,describe("lazy-flow-at",function(){return it("should process flow.at",function(){var t,n,r;return n={},r=o.at(n,"x.y"),e(r()).to.equal(void 0),t=!1,r.onInvalidate(function(){return t=!0}),r(1),e(t).to.equal(!0),e(r()).to.equal(1),e(n.x.y).to.equal(1),t=!1,n.x={},e(t).to.equal(!0),e(n.x.y).to.equal(void 0)}),it("should process flow.at without root",function(){var n,r;return n=o.at("x.y"),e(n()).to.equal(void 0),n(1),e(n()).to.equal(1),r="undefined"!=typeof window?window:t,e(r.x.y).to.equal(1)})})}).call(e,function(){return this}())},function(t,e,n){if("undefined"==typeof window)var o=n(3);else var o=window.chai;e.expect=o.expect,e.iit=it.only,e.idescribe=describe.only,e.nit=function(){},e.ndescribe=function(){}},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S;S=n(2),l=S.expect,v=S.iit,p=S.idescribe,x=S.nit,b=S.ndescribe,k=dc.util,u=dc.bind,d=dc.duplex,N=dc.see,c=dc.classFn,M=dc.styleFrom,i=dc.attrToPropName,o=dc.Component,y=dc.list,f=dc.func,m=dc.if_,r=dc.a,C=dc.p,T=dc.span,P=dc.text,g=dc.li,s=dc.div,a=dc.checkbox,w=dc.model,_=dc.show,h=dc.hide,L=dc.splitter,q=dc.options,describe("properties ",function(){return describe("utilities",function(){return it("styleFrom ",function(){var t;return t=M("display:none; zIndex:100; backgroundColor:white;"),l(t).to.deep.equal({display:"none",zIndex:"100",backgroundColor:"white"})}),it("attrToPropName ",function(){var t;return t=i("background-color"),l(t).to.equal("backgroundColor")})}),describe("classFn",function(){return it("get value of classFn",function(){var t,e;return t=N(!0),e=c(["a",{b:t}]),l(e()).to.equal("a b"),t(!1),l(e()).to.equal("a")}),it("should compute valid",function(){var t;return t=c(["a"]),l(t.valid).to.equal(!1),l(t()).to.equal("a"),l(t.valid).to.equal(!0),t.extend("a"),l(t.valid).to.equal(!0),l(t()).to.equal("a"),t.extend("b"),l(t.valid).to.equal(!1),l(t()).to.equal("a b"),t.extend("!b"),l(t.valid).to.equal(!1),l(t()).to.equal("a")}),it("should get class property in component",function(){var t,e;return t=N(!0),e=s({"class":{a:1,b:t}}),l(e.className()).to.equal("a b"),e.className=c({a:1,b:t}),l(e.className.valid).to.equal(!1,"className.valid 1"),l(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 1"),e.mount(),l(e.className.valid).to.equal(!0,"className.valid 2"),l(e.hasActiveProperties).to.equal(!1,"hasActiveProperties 2"),l(e.node.className).to.equal("a b"),t(!1),l(e.className.valid).to.equal(!1,"className.valid 3"),l(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 3"),e.update(),l(e.node.className).to.equal("a")})}),describe("create",function(){return it("should create properties",function(){var t;return t=C({value:u({a:1},"a")}),l(t.className.valid).to.equal(!0,"className.valid"),l(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),t.mount(),l(t.node.value).to.equal(1)})}),describe("event",function(){return it("click event ",function(){var t,e;return e=1,t=r({onclick:function(){return e=2}},"click me"),t.mount("#demo"),t.node.click(),l(e).to.equal(2)}),it("multiple handlers for one event",function(){var t,e,n,o;return t=d(o={a:1},"a"),n=sinon.spy(),e=P({onchange:n,$model:t}),e.mount(),e.node.value=2,e.node.onchange(),l(n.called).to.equal(!0),l(o.a).to.equal("2")}),it("multiple handlers for one event, with bind value",function(){var t,e,n,o;return t=d(o={a:1},"a"),n=sinon.spy(),e=P({onchange:n},t),e.mount(),e.node.value=2,e.node.onchange(),l(n.called).to.equal(!0),l(o.a).to.equal("2")})}),describe("style",function(){return it("should set style property with string value",function(){var t,e;return t=r({style:"border:red 1px solid"},"red 1px solid"),l(t.className.valid).to.equal(!0,"className.valid"),l(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e=t.mount("#demo"),l(t.node.style.border).to.equal("1px solid red")}),it("should set style property",function(){var t,e;return t=r({style:{border:"red 1px solid"}},"red 1px solid"),e=t.mount("#demo"),l(t.node.style.border).to.equal("1px solid red")}),it("value of property of style could be dc expression",function(){var t,e;return t=r({style:{border:function(){return"red 1px solid"}}},"red 1px solid"),e=t.mount("#demo"),l(t.node.style.border).to.equal("1px solid red")}),x("change style dynamically",function(){var t,e,n,o,i,u,a;return u=function(t){if(!t.match(/^\d/))return t;for(;t.length<6;)t="0"+t;return"#"+t},t=N("red"),o=N(i=0),e=r({style:{borderWidth:flow(o,function(){return o()+"px"}),borderStyle:"solid",borderColor:flow(t,function(){return u(t().toString(16))})}},"dynamic property"),e.mount("#demo"),t=0,a=function(){return t+=1118481,o(i++),e.render(),50===i?clearInterval(n):void 0},n=setInterval(a,5)})}),it("bidirectional bind checkbox",function(){var t,e,n;return dc.directives({$model:dc.$model}),n={a:1},t=d(n,"a"),e=a({$model:t}),e.mount("#demo"),l(e.node.onchange).to.be.defined,e.node.checked=!0,e.node.onchange(),l(n.a).to.equal(!0)})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,q,C,N,_,T,L,M;M=n(2),p=M.expect,w=M.iit,g=M.idescribe,C=M.nit,q=M.ndescribe,m=dc.flow,d=dc.bindings,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,L=dc.txt,b=dc.list,v=dc.func,y=dc.if_,l=dc.case_,v=dc.func,h=dc.each,s=dc.accordionGroup,c=dc.accordion,a=dc.a,N=dc.p,_=dc.span,T=dc.text,f=dc.div,describe("toString",function(){return it("should toString list of if(tag)",function(){var t,e,n,o;return o=0,t=b(n=T({onchange:function(){return o=parseInt(this.value),t.update()}},o),e=y(function(){return o},f(1),f(2))),p(t.toString()).to.match(/<List>\n  <input type="text" value=0>/)}),it("should toString  tag with props",function(){var t,e;return e=0,t=f({value:1},1),p(t.toString()).to.equal("<div value=1>1</div>")}),it("should case.toString",function(){var t;return t=l(function(){return x},{1:N(1),2:N(2),3:N(3)},"others"),p(t.toString()).to.equal('<Case renew: fn:x>\n  1: <p>1</p>\n  2: <p>2</p>\n  3: <p>3</p>\n  "others"\n</Case>')}),it("should flow.add(a_, b_).toString",function(){var t,e,n,o;return o=d({a:1,b:2}),t=o.a_,e=o.b_,n=m.add(t,e),p(n.toString()).to.equal("flow: [m[a],m[b]] --> fn:binaryFn(x(), y())")})})},function(t,e,n){var o,r,i,u,a,c,s,d,l;l=n(2),o=l.expect,i=l.iit,r=l.idescribe,c=l.nit,a=l.ndescribe,d=l.rtimeout,s=l.rinterval,u=dc.isComponent,describe("test dc",function(){return describe("dc(document)",function(){return it("dc(document) should be Component",function(){return o(!u(dc(document))).to.equal(!0)}),it("should cache DomComponent",function(){return o(dc(document)).to.equal(dc(document))}),it("dc(document).bind should be a function",function(){var t;return t=0,dc(document).bind("onclick",function(){return t=1})})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N;N=n(2),f=N.expect,m=N.iit,p=N.idescribe,w=N.nit,g=N.ndescribe,y=N.newDemoNode,y=n(15).newDemoNode,s=dc.bindings,x=dc.see,u=dc.Tag,a=dc.Text,r=dc.List,C=dc.txt,v=dc.list,b=dc.p,l=dc.div,o=dc.Html,h=dc.html,d=dc.classFn,q=dc.styleFrom,i=dc.Nothing,c=s({a:1,b:2}).a_,describe("test base component",function(){return describe("getBaseComponent",function(){return it("should get baseComponent of List",function(){var t;return t=v([1,2]),f(t.baseComponent).to.equal(t)}),it("should have correct children",function(){var t;return t=b(0),f(t.children[0].text).to.equal(0)})}),describe("process get baseComponent of Tag",function(){return it("should getBaseComponent of two tags",function(){var t,e;return e=new u("p",{},[]),t=new u("div",{},[e]),f(t.baseComponent).to.equal(t),f(t.children[0]).to.be["instanceof"](u),t.mount(),f(t.baseComponent.baseComponent).to.equal(t)}),it("should text.valid to be true",function(){var t;return t=C(1),t.mount(),f(!!t.valid).to.equal(!0)})}),describe("process creatDom",function(){return it("should creatDom of p(1)",function(){var t;return t=b(1),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(->1)",function(){var t;return t=b(function(){return 1}),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(p(p(t=txt(->1))))",function(){var t,e;return t=b(b(b(e=C(function(){return 1})))),t.mount(),f(t.node.innerHTML).to.equal("<p><p>1</p></p>")}),it("should mount Text with text is 0",function(){var t;return t=new a(0),t.mount(),f(t.node.textContent).to.equal("0")}),it("should mount tag",function(){return b=new u("p",{},[]),b.mount(),f(b.node.tagName).to.equal("P")}),it("should mount  tag with attribute",function(){return b=new u("p",{className:d("some class"),style:q("width:1px;")},[]),b.mount(),f(b.node.className).to.equal("some class"),f(b.node.getAttribute("className")).to.equal(null)}),it("process bind as value",function(){var t;return t=new u("input",{type:"text",value:c},[new a(c)]),t.mount(),f(t.node.value).to.equal("1")}),it("tag shoud mount with multiple children ",function(){var t,e,n,o;return t=new u("p",{},[e=new a(1),n=new a(2),o=new a(3)]),f(t.children.length).to.equal(3),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("tag shoud mount with Nothing child",function(){var t,e,n,o,r;return t=new u("p",{},[e=new a(1),n=new a(2),o=new a(3),r=new i]),f(t.children.length).to.equal(4),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("should create tag with children",function(){var t;return t=new u("p",{className:d("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")])]),t.mount(),f(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t;return t=new u("p",{className:d("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")])]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount for tag with children",function(){var t;return t=new u("p",{className:d("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")]),new a(function(){})]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount list with children",function(){var t;return t=new r([new u("span",{},[new a("adf")]),new a(function(){return void 0})]),t.mount(),f(t.node[0].tagName).to.equal("SPAN")})}),describe("process Html",function(){return it("should mount html",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>"),t.mount(e=y()),f(e.innerHTML).to.equal(n)}),it("should mount html component with transform",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>",function(t){return t+"a"}),t.mount(e=y()),f(e.innerHTML).to.equal(n+"a")}),it("should mount html component with reative function",function(){var t,e,n,r;return r=x(n="<div>1</div><p>2</p>"),t=new o(r,function(t){return t+"a"}),t.mount(e=y()),r("x"),t.update(),f(e.innerHTML).to.equal("xa"),t.update(),f(e.innerHTML).to.equal("xa")})})})},function(t,e){e.newDemoNode=function(t){var e;return e=document.createElement("div"),document.body.appendChild(e),t&&e.setAttribute("id",t),e}},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P;P=n(2),h=P.expect,y=P.iit,v=P.idescribe,C=P.nit,q=P.ndescribe,c=dc.bindings,f=dc.duplex,p=dc.flow,d=dc.classFn,T=dc.styleFrom,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,x=dc.list,m=dc.func,g=dc.if_,M=dc.txt,a=dc.a,N=dc.p,_=dc.span,L=dc.text,b=dc.li,l=dc.div,s=dc.button,w=dc.input,describe("component  ",function(){return describe("construct component",function(){return it("component shoud have children",function(){var t;return t=N({},[1,2]),h(t.children.length).to.equal(2)}),it("should construct component",function(){var t,e;return e=new i("p",{},[]),t=new i("div",{},[e]),h(t.children[0]).to.equal(e)}),it("tag shoud have children 1",function(){var t;return t=new i("span",{},[new u("adf")]),h(t.children[0].text).to.equal("adf")}),it("tag shoud have children 2",function(){var t,e;return e=new i("span",{},[new u("adf")]),t=new i("div",{className:d("some class"),style:T("width:1px;")},[e]),h(t.children[0]).to.equal(e)})}),describe("component.append",function(){return C("should append tag.children",function(){var t,e;return t=l(),e=N(),t.append(e),h(t.children).to.equal(e)})}),describe("component.create",function(){return it("should create tag",function(){var t;return t=N(),t.mount(),h(t.node.tagName).to.equal("P"),h(t.node.innerHTML).to.equal("")}),it("should mount tag 1",function(){var t;return t=new i("div",{},[]),t.mount(),h(t.node.tagName).to.equal("DIV")}),it("should correctly create TextNode with 0 as content",function(){var t;return t=M(0),t.mount(),h(t.node.textContent).to.equal("0")}),it("should correctly create tag with 0 as content",function(){var t;return t=N(0),t.mount(),h(t.node.innerHTML).to.equal("0")}),it("should mount Text with flow value",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=M(p.add(t,e)),n.mount("#demo"),h(n.node.textContent).to.equal("3","mount")}),it("should not run event hanlder while creating tag",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should process event name without on",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering tag",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering button tag",function(){var t,e;return e=sinon.spy(),t=s({id:"search-ok",type:"submit",onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering div > button tag",function(){var t,e;return e=sinon.spy(),t=l(s({id:"search-ok",type:"submit",onclick:e})),t.mount(),h(e.called).to.equal(!1),t.children[0].node.onclick(),h(e.called).to.equal(!0)}),it("should create tag with attribute",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},[]),t.mount(),e=t.node,h(e.className).to.equal("some class"),h(e.getAttribute("className")).to.equal(null)}),it("should process function value of text",function(){var t,e,n;return t=c({a:1}).a_,e=L(t),n=e.mount(),n=e.node,h(n.value).to.equal("1")}),it("component shoud have children 2",function(){var t;return t=_("adf"),h(t.children[0].text).to.equal("adf")}),it("should create tag with children",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},e=_(["adf"])),h(t.children[0]).to.equal(e),t.mount(),h(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},[_(["adf"])]),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount tag with undefined as child",function(){var t;return t=N({className:"some class",style:"width:1px;"},_(["adf"]),M(function(){})),t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount list with undefined as child",function(){var t,e;return t=x(_(["adf"]),M(function(){return void 0})),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node[0].parentNode.id).to.equal("demo")})}),describe("component update",function(){return it("should render tag 1",function(){var t,e;return e=1,t=new i("p",{},[new u(function(){return e})]),t.mount(),h(t.node.innerHTML).to.equal("1"),++e,t.update(),
h(t.node.innerHTML).to.equal("2"),++e,t.update(),h(t.node.innerHTML).to.equal("3")}),it("should update bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=new i("input",{value:t},[]),e.mount(),h(e.node.value).to.equal("1")}),it("should render tag 2",function(){var t,e,n;return e=1,t=N(M(function(){return e})),t.mount(),n=t.node,h(n.innerHTML).to.equal("1"),++e,t.update(),h(n.innerHTML).to.equal("2"),++e,t.update(),h(n.innerHTML).to.equal("3")}),it("should process text with bind",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=N(M(p.add(t,e))),n.mount("#demo"),h(n.node.innerHTML).to.equal("3","mount"),t(3),e(4),h(t()).to.equal(3,"a_"),h(e()).to.equal(4,"b_"),n.update(),h(n.node.innerHTML).to.equal("7","update")}),it("should process bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=L(t),e.mount("#demo"),h(e.node.value).to.equal("1"),e.node.value="2",e.node.onchange(),h(t()).to.equal("2")}),it("should render div(2) component",function(){var t;return t=l(2),t.mount(),h(t.node.innerHTML).to.equal("2")}),it("should execute component.unmount",function(){var t;return t=l(2),t.mount(),t.unmount()}),it("p(->12) ",function(){var t;return t=N(function(){return 12}),t.mount(),h(t.node.innerHTML).to.equal("12"),t.update(),h(t.node.innerHTML).to.equal("12"),t.update(),h(t.node.innerHTML).to.equal("12")})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M;M=n(2),h=M.expect,y=M.iit,v=M.idescribe,q=M.nit,b=M.ndescribe,x=M.newDemoNode,x=n(15).newDemoNode,N=dc.see,p=dc.flow,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,L=dc.txt,w=dc.list,m=dc.func,g=dc.if_,d=dc.case_,m=dc.func,f=dc.each,s=dc.accordionGroup,c=dc.accordion,a=dc.a,C=dc.p,_=dc.span,T=dc.text,l=dc.div,describe("if, case, func",function(){return describe("If",function(){return it("should optimize if_",function(){var t,e;return t=L(1),e=0,h(g(function(){return e},t,t)).to.equal(t),h(g(0,1,t)).to.equal(t),h(g(1,t,0)).to.equal(t)}),it("should compute if_((-> x), p(t), t).family",function(){var t,e;return t=L(1),e=0,h(g(function(){return e},C(t),t).family[t.dcid]).to.equal(!0)}),it("should construct if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n,o;return o=N(0),e=L(1),n=L(2),t=g(o,C(e),w(n,C(e)))}),it("should render if_(see something, txt(1), txt(2))",function(){var t,e;return e=N(0),t=g(e,L(1),L(2)),t.mount(),h(t.node.textContent).to.equal("2","mount"),t.update(),e(1),t.update(),h(t.node.textContent).to.equal("1","update x 1"),e(0),t.update(),h(t.node.textContent).to.equal("2","update x 0")}),it("should render if_(x, list(t1, t2), list(t2, t1))",function(){var t,e,n,o,r;return r=N(0),n=L(1),o=L(2),t=g(r,w(n,o),w(o,n)),t.mount(e=x("if-ref")),h(t.node[0].textContent).to.equal("2","mount"),h(e.innerHTML).to.equal("21","mount"),r(1),t.update(),h(t.node[0].textContent).to.equal("1","update x 1"),h(e.innerHTML).to.equal("12","mount")}),it("should render if_(x, list(t2, t1), t1)",function(){var t,e,n,o,r,i;return i=N(1),o=L(1),r=L(2),t=g(i,n=w(r,o),o),t.mount(e=x("if-ref")),h(e.innerHTML).to.equal("21","mount"),i(0),t.update(),h(e.innerHTML).to.equal("1")}),it("should render if_(x, t1, list(t2, t1))",function(){var t,e,n,o,r,i;return i=N(0),o=L(1),r=L(2),t=g(i,o,n=w(r,o)),t.mount(e=x("if-ref")),h(e.innerHTML).to.equal("21","mount"),t.update(),h(e.innerHTML).to.equal("21","update"),i(1),t.update(),h(e.innerHTML).to.equal("1","update x 1"),i(0),t.update(),h(e.innerHTML).to.equal("21","update x 0")}),it("should render if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n,o,r,i;return i=N(0),o=L(1),r=L(2),t=g(i,n=C(o),w(C(r),o)),t.mount(e=x("if-ref")),h(e.innerHTML).to.equal("<p>2</p>1","mount"),i(1),t.update(),h(e.innerHTML).to.equal("<p>1</p>","update x 1"),i(0),t.update(),h(e.innerHTML).to.equal("<p>2</p>1","update x 0"),i(1),t.update(),h(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), div(t2))",function(){var t,e,n,o;return o=N(0),n=L(1),t=g(o,C(n),l(n)),t.mount(e=x("if-ref")),h(e.innerHTML).to.equal("<div>1</div>","mount"),o(1),t.update(),h(e.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),t.update(),h(e.innerHTML).to.equal("<div>1</div>","update x 0"),o(1),t.update(),h(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render p(if_(x, p(t1), list(p(t2), t1)))",function(){var t,e,n,o,r,i;return i=N(0),o=L(1),r=L(2),t=C(e=g(i,n=C(o),w(C(r),o))),t.mount(),h(t.node.innerHTML).to.equal("<p>2</p>1","mount"),t.update(),h(t.node.innerHTML).to.equal("<p>2</p>1","update"),i(1),t.update(),h(t.node.innerHTML).to.equal("<p>1</p>","update x 1"),i(0),t.update(),h(t.node.innerHTML).to.equal("<p>2</p>1","update x 0"),i(1),t.update(),h(t.node.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), p list(p(t2), t1))",function(){var t,e,n,o,r,i;return i=N(0),o=L(1),r=L(2),t=g(i,e=C(o),n=C(w(C(r),o))),t.mount(),h(n.node.innerHTML).to.equal("<p>2</p>1","mount"),i(1),t.render(),h(t.node.innerHTML).to.equal("1","update x 1"),i(0),t.render(),h(n.node.innerHTML).to.equal("<p>2</p>1","mount")}),it("should render if_(x, div(1), div(2))",function(){var t,e;return e=N(0),t=g(e,l(1),l(2)),t.mount(),h(t.node.tagName).to.equal("DIV","tagName"),h(t.node.innerHTML).to.equal("2","mount"),e(1),t.update(),h(t.node.innerHTML).to.equal("1","first update"),e(0),t.update(),h(t.node.innerHTML).to.equal("2","second update")}),it("should create and update if_ with attrs",function(){var t,e,n,o;return o=N(0),n=g({"class":"main",fakeProp:o},o,t=C(1),e=C(2)),h(n).to.be["instanceof"](r),h(n.hasActiveProperties).to.equal(!0,"hasActiveProperties before mounting"),n.mount(),h(n.node.tagName).to.equal("DIV"),h(n.node.fakeProp).to.equal(0,"mount fakeProp"),h(n.node.childNodes[0].innerHTML).to.equal("2","mount innerHTML"),h(n.node.childNodes[0].tagName).to.equal("P","mount C1 tagName"),h(n.hasActiveProperties).to.equal(!1,"hasActiveProperties after mounting"),o(1),h(n.props.fakeProp).to.equal(o,"see invalidate fakeProp"),h(n.hasActiveProperties).to.equal(!0,"hasActiveProperties"),n.update(),h(n.node.fakeProp).to.equal(1,"update fakeProp"),h(n.node.childNodes[0].innerHTML).to.equal("1","update innerHTML"),h(n.node.childNodes[0]).to.equal(t.node)}),it("should create and render if followed by other node ",function(){var t,e,n,o,r,i,u;return e=document.getElementById("demo2"),e.innerHTML="",u=N(0),t=w(i=g(u,n=C(1),o=C(2)),r=C(3)),t.mount(e),h(i.node.innerHTML).to.equal("2"),h(e.innerHTML).to.equal("<p>2</p><p>3</p>"),u(1),t.update(),h(i.node.innerHTML).to.equal("1","pif update"),h(e.innerHTML).to.equal("<p>1</p><p>3</p>","demo2Node update"),h(t.node[0].innerHTML).to.equal("1","comp update")}),it("should create and render embedded if",function(){var t,e,n,o,r;return r=N(0),o=w(T(r),t=g(r,e=l(1),n=l(2))),o.mount(),h(o.parentNode).to.equal(document.body),h(o.node[1].innerHTML).to.equal("2"),h(t.parentNode).to.equal(o.parentNode),r(1),o.update(),h(t.parentNode).to.equal(o.parentNode),h(t.node.innerHTML).to.equal("1"),h(n.node.innerHTML).to.equal("2"),h(t.node).to.equal(e.node),h(o.node[1]).to.equal(e.node)}),it("should process event in embedded if 2",function(){var t,e,n,o;return o=N(0),t=w(n=T({onchange:function(){return o(parseInt(this.value)),t.update()}},o),e=g(o,l(1),l(2))),t.mount(),h(e.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange(),h(e.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange(),h(e.node.innerHTML).to.equal("2")}),it("should process embedded if 2",function(){var t,e,n,o;return o=N(0),t=w(n=T(o),e=g(o,l(1),l(2))),t.mount(),h(e.node.innerHTML).to.equal("2"),o(1),t.update(),h(e.node.innerHTML).to.equal("1"),o(0),t.update(),h(e.node.innerHTML).to.equal("2")})}),describe("Case",function(){return it("should create and render case_",function(){var t,e;return e=N(0),t=d(e,{1:C(1),2:C(2),3:C(3)},"others"),t.mount(),h(t.node).to.be["instanceof"](window.Text),h(t.node.textContent).to.equal("others"),e(1),t.update(),h(t.node.innerHTML).to.equal("1")})}),describe("Func",function(){return it("func(->12) ",function(){var t;return t=m(function(){return 12}),t.mount(),h(t.node.textContent).to.equal("12"),t.update(),h(t.node.textContent).to.equal("12"),t.update(),h(t.node.textContent).to.equal("12")}),it("p(-> a))",function(){var t;return a=N(1),t=C(a),t.mount(),a(2),t.update(),h(t.node.innerHTML).to.equal("2","update a 2"),a(3),t.update(),a(4),t.update(),h(t.node.innerHTML).to.equal("4","update a 4")}),it("should  create func component",function(){var t,e;return e=N(1),t=m(e),t.mount(),h(t.node).to.be["instanceof"](window.Text),h(t.node.textContent).to.equal("1")}),it("should create and  render func",function(){var t,e;return e=N(0),t=m(p(e,function(){return{1:C(1),2:C(2),3:C(3)}[e()]||"others"})),t.mount(),h(t.node).to.be["instanceof"](window.Text),h(t.node.textContent).to.equal("others"),e(1),t.update(),h(t.node.innerHTML).to.equal("1"),e(2),t.update(),h(t.node.innerHTML).to.equal("2")}),it("should create and update func with  attrs",function(){var t,e;return e=N(1),t=m({"class":"main",fakeProp:e},e),t.mount(),h(t.node.tagName).to.equal("DIV"),h(t.node.fakeProp).to.equal(1),h(t.node).to.be["instanceof"](Element),h(t.node.childNodes[0].textContent).to.equal("1"),e(2),t.update(),h(t.node.fakeProp).to.equal(2),h(t.node.childNodes[0].textContent).to.equal("2")}),it("should process tag with function",function(){var t;return t=C(L(function(){return 1})),h(t.children[0]).to.be["instanceof"](i),t.mount(),h(t.node.innerHTML).to.equal("1")})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S,I,H,D;D=n(2),g=D.expect,x=D.iit,w=D.idescribe,L=D.nit,_=D.ndescribe,T=D.newDemoNode,T=n(15).newDemoNode,q=dc.isComponent,o=dc.Component,a=dc.TransformComponent,i=dc.Tag,u=dc.Text,H=dc.txt,C=dc.list,r=dc.List,y=dc.func,b=dc.if_,h=dc.case_,y=dc.func,m=dc.each,d=dc.accordionGroup,s=dc.accordion,c=dc.a,M=dc.p,S=dc.span,I=dc.text,p=dc.div,l=dc.all,v=dc.every,N=dc.nItems,f=dc.bind,P=dc.pour,k=dc.see,describe("list, each",function(){return describe("List",function(){return it("all of item in list should be  component",function(){var t;return t=C([1,2]),g(!!q(t.children[0])).to.equal(!0)}),it("should create list component",function(){var t;return t=C([S(["adf"])]),t.mount(),g(t.node[0].tagName).to.equal("SPAN")}),it("component list should have length",function(){var t;return t=C([1,2]),g(t.children.length).to.equal(2)}),it("list can be constructructed  from mulitple argumnents",function(){var t;return t=C(1,2),g(t.children.length).to.equal(2)}),it("should create list",function(){var t;return t=C(1,2),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2")}),it("should create list with attrs",function(){var t,e;return e=2,t=C({"class":"main",fakeProp:function(){return e}},1,H(function(){return e})),t.mount(),g(t.node.tagName).to.equal("DIV"),g(t.node.childNodes[0].textContent).to.equal("1"),g(t.node.childNodes[1].textContent).to.equal("2"),e=3,t.update(),g(t.node.fakeProp).to.equal(3),g(t.node.childNodes[1].textContent).to.equal("3","textContent update")}),it("list(txt(->12))",function(){var t;return t=C(H(function(){return 12})),t.mount(),g(t.node.textContent).to.equal("12")}),it("list setChildren after mounting",function(){var t;return t=new r([H(1)]),t.mount(),g(t.node[0].textContent).to.equal("1"),g(function(){var e;return t.setChildren(1,e=H(2))}).not.to["throw"]()}),it("list setChildren: similar to splitter",function(){var t,e,n;return t=new r([H(1),n=H(3)]),t.setChildren(1,e=H(2),n),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2"),g(t.node[2].textContent).to.equal("3")}),it("list(p(txt(->12))) ",function(){var t;return t=C(M(H(function(){return 12}))),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(p(->12)) ",function(){var t;return t=C(M(function(){return 12})),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(txt(1)) ",function(){var t,e;return t=new r([H(1)]),t.mount(e=T("list")),t.update(),t.setLength(0),t.update(),g(e.innerHTML).to.equal("")})}),describe("every, all, nItems",function(){return it("every ",function(){var t,e;return t=v([1,2],function(t){return t}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)}),it("all ",function(){var t,e;return t=l({a:1,b:2},function(t,e){return C(t,e)}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)}),it("nItems ",function(){var t,e;return t=N(2,function(t){return t}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)})}),describe("Each",function(){return it("should create empty each component",function(){var t,e;return t=m(e=[],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(0),t.update(),g(t.node.length).to.equal(0)}),it("should create each component with single item",function(){var t,e;return t=m(e=[1],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1"),t.update(),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1")}),it("should set childrenNextNode correctly",function(){var t,e,n;return n=[1,2],t=C(e=m(n,function(t){return M(t)}),"some other thing"),t.mount(),g(e.listComponent.childrenNextNode).to.equal(t.node[1]),n.push(3),t.render(),g(e.listComponent.children[2].nextNode).to.equal(t.node[1])}),it("should create each component with two item",function(){var t,e;return t=m(e=["each","simple"],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node[0]).to.be["instanceof"](Element),g(t.node[1].innerHTML).to.equal("simple")}),it("should mount and render each component",function(){var t,e,n;return document.getElementById("demo").innerHTML="",t=m(n=["each","simple"],function(t,e){return M(t)}),t.mount(e=T("each")),g(t.node[0].innerHTML).to.equal("each"),g(t.node[1].innerHTML).to.equal("simple"),n.setItem(0,3),t.update(),g(t.node[0].innerHTML).to.equal("3","update node 0"),n.setItem(1,4),t.update(),g(t.node[1].innerHTML).to.equal("4","update node 1"),g(e.innerHTML).to.equal("<p>3</p><p>4</p>","update innerHTML"),n.setItem(2,5),t.update(),g(t.node[2].innerHTML).to.equal("5","update list[2] = 5"),n.setLength(0),t.update(),g(t.listComponent.children.length).to.equal(0,"comp.listComponent.children.length = 0"),g(t.node.length).to.equal(0,"node.length")}),it("should process binding on item",function(){var t,e;return document.getElementById("demo").innerHTML="",t=m(e=[{text:"a"},{text:"b"}],function(t,e){return M(H(f(t,"text")))}),t.mount("#demo"),g(t.node[0].textContent).to.equal("a"),g(t.node[1].textContent).to.equal("b"),e[0].text="c",t.update(),g(t.node[0].textContent).to.equal("c","update c"),e[1].text="d",t.update(),g(t.node[1].textContent).to.equal("d","update d"),e.setItem(2,{text:"e"}),t.update(),g(t.node[2].textContent).to.equal("e"),e.setLength(0),t.update(),g(t.node.length).to.equal(0)}),it("should process items in template function",function(){var t,e;return t=m(e=["a","b"],function(t,e,n,o){return M(H(function(){return n[e]}))}),t.mount(),e.setItem(0,"c"),t.update(),g(t.node[0].textContent).to.equal("c")}),it("should process tag with each",function(){var t,e,n,o;return o=1,n=null,t=new i("div",{},[e=m([1],P(function(t){return n=H(o)}))]),t.mount(),g(t.node.innerHTML).to.equal("1"),o=2,t.update(),g(n.node.textContent).to.equal("2","update, 2"),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should create and update renew function as list of Each",function(){var t,e;return e=1,t=m(function(){return[e]},function(t){return H(t)}),t.mount(),g(t.node[0].textContent).to.equal("1"),e=2,t.update(),g(t.node[0].textContent).to.equal("2","update 2")}),it("should create and update deeper embedded each",function(){var t,e,n,o;return o=1,t=p({},n=new i("span",{},[e=m(function(){return[o]},function(t){return H(t)})])),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o=2,t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<span>2</span>")}),it("should create and update embedded each in 3 layer",function(){var t,e,n,o;return o=k(1),t=p({},p({},n=new i("span",{},[e=m([1],function(t){return H(o)})]))),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o(2),t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should create and update embedded each in 3  layer",function(){var t,e,n,o;return o=1,t=p({},p({},n=new i("span",{},[e=m(function(){return[o]},function(t){return H(t)})]))),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o=2,t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should process each under each",function(){var t,e,n,o;return o=1,n=null,t=p({},e=m([1],function(){return n=m(function(){return[o]},function(t){return t})})),t.mount(),g(e.listComponent.parentNode).to.equal(t.node),g(e.node[0][0].textContent).to.equal("1"),g(n.node[0].textContent).to.equal("1"),o=2,t.update(),g(e.listComponent.parentNode).to.equal(t.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should mount and update each",function(){var t;return t=new i("span",{},[m([1],function(t){return H(1)})]),t.mount(),g(t.node.innerHTML).to.equal("1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should push and setLength of each",function(){var t,e;return e=[1,2,3,4,5,6],t=m(e,function(t){return H(t)}),t.mount(),e.push(7),t.update(),g(t.node.length).to.equal(7,"push 7"),e.setLength(4),t.update(),g(t.node.length).to.equal(4,"setLength 4")}),it("should update each with component as the item of list 1",function(){var t,e;return t=m([H(1)],function(t){return t}),t.mount(),g(t.node[0].textContent).to.equal(e="1"),t.update(),g(t.node[0].textContent).to.equal("1")}),it("should update each with component as the item of list 2",function(){var t,e;return t=p(m([H(1)],function(t){return t})),t.mount(),g(t.node.innerHTML).to.equal(e="1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should update each with component as the item of list 3",function(){var t,e;return t=p(p(m([H(1)],function(t){return t}))),t.mount(),g(t.node.innerHTML).to.equal(e="<div>1</div>"),t.update(),g(t.node.innerHTML).to.equal("<div>1</div>")}),it("should always attach and detach each in multiple iteration",function(){var t,e,n;return n=k(!0),e=[1,2],t=b(n,m(e,function(t){return p(t)})),t.mount(),n(!1),t.render(),n(!0),t.render(),g(t.node.parentNode).to.equal(document.body),n(!1),t.render(),g(t.node.parentNode).not.to.equal(document.body)})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_;_=n(2),f=_.expect,v=_.iit,p=_.idescribe,w=_.nit,y=_.ndescribe,x=dc.see,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,N=dc.txt,g=dc.list,h=dc.func,m=dc.if_,c=dc.case_,h=dc.func,l=dc.each,s=dc.clone,a=dc.a,b=dc.p,q=dc.span,C=dc.text,d=dc.div,describe("Component.refs, clone",function(){return describe("refs",function(){return it("should throw error while constucting conflicted component list(t, t))",function(){var t;return t=N(1),f(function(){return g(t,t)}).to["throw"](Error)}),it("should throw error while constucting conflicted component list(t, p(t)))",function(){var t;return t=N(1),f(function(){return g(t,b(t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(1, t, 0))",function(){var t;return t=N(1),f(function(){return g(b(t),m(1,t,0))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(0, 2, t))",function(){var t;return t=N(1),f(function(){return g(b(t),m(0,2,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, t, t))",function(){var t,e;return t=N(1),e=0,f(function(){return g(b(t),m(function(){return e},t,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, p(t), t))",function(){var t,e;return t=N(1),e=0,f(function(){return g(b(t),m(function(){return e},b(t),t))}).to["throw"](Error)}),it("should getBaseComponent of if_((-> x), t=txt(1), t)",function(){var t,e,n;return n=x(0),t=m(n,e=N(1),e),t.mount(),t.update()})}),describe("Clone",function(){return it("should not clone node event handler",function(){var t,e;return t=document.createElement("p"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(null),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should clone TextNode",function(){var t,e;return t=document.createTextNode("afd"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(void 0),f(e.textContent).to.equal("afd"),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should process text clone component ",function(){var t,e;return t=g(e=N(1),s(e)),t.mount("#demo"),t.update(),f(t.node[1].textContent).to.equal("1")}),it("should process tag clone component ",function(){var t,e,n;return n=g(t=b(1),e=s(t)),n.mount("#demo"),n.update(),f(n.node[1].innerHTML).to.equal("1")}),it("should process if_ clone component ",function(){var t,e,n,o,r;return r=x(0),o=g(t=b(2),e=s(t)),n=m(r,t=b(3),o),n.mount("#demo"),r(1),n.update(),f(n.node.innerHTML).to.equal("3")})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_;_=n(2),h=_.expect,g=_.iit,m=_.idescribe,b=_.nit,w=_.ndescribe,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,N=dc.txt,y=dc.list,p=dc.func,v=dc.if_,d=dc.case_,p=dc.func,f=dc.each,s=dc.accordionGroup,c=dc.accordion,a=dc.a,x=dc.p,q=dc.span,C=dc.text,l=dc.div,describe("accordion",function(){return it("should update accordionGroup",function(){var t,e;return t=s({},"group head",f([1],function(t){return N(1)}),{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)}),it("should update accordion group 2",function(){var t;return t=s({},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}),t.mount(),h(t.node.innerHTML).to.equal('<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div>')}),it("should mount accordion",function(){var t;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal('<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>')}),it("should update accordion",function(){var t,e;return t=c({},[[{},"group head",N(1),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)}),it("should update accordion 2",function(){var t,e;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k;k=n(2),f=k.expect,v=k.iit,p=k.idescribe,q=k.nit,x=k.ndescribe,l=dc.duplex,N=dc.see,s=dc.classFn,L=dc.styleFrom,b=dc.model,_=dc.show,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,w=dc.list,h=dc.func,m=dc.if_,P=dc.txt,a=dc.a,C=dc.p,T=dc.span,M=dc.text,y=dc.li,d=dc.div,c=dc.button,g=dc.input,describe("component event",function(){return describe("beforeMount",function(){return it("component shoud call listeners before mounting",function(){var t,e;return e=0,t=C(),t.on("beforeMount",function(){return e=1}),t.mount(),f(e).to.equal(1)}),it("component shoud call listeners before mounting if_",function(){var t,e;return e=0,t=m(1,2,3),t.on("beforeMount",function(){return e=1}),t.mount(),f(e).to.equal(1)}),it("component shoud call then_.listeners before updating if_",function(){var t,e,n;return n=N(0),t=m(n,e=P(1),P(2)),e.on("beforeMount",function(){return n(1)}),t.mount(),f(n()).to.equal(0),n(1),t.update(),f(n()).to.equal(1)}),it("component shoud not call embeded listeners before updating if_",function(){var t,e,n;return n=N(0),t=m(n,C(e=P(1)),P(2)),e.on("beforeMount",function(){return n(1)}),t.mount(),f(n()).to.equal(0),n(1),t.update(),f(n()).to.equal(1)})}),describe("afterUnmount callback",function(){return it("component shoud call listeners after mounting",function(){var t,e;return e=N(0),t=C(),t.on("beforeMount",function(){return e(1)}),t.on("afterUnmount",function(){return e(2)}),t.mount(),f(e()).to.equal(1),t.unmount(),f(e()).to.equal(2)}),it("component shoud call listeners before mounting if_",function(){var t,e,n;return e=0,n=0,t=m(1,2,3),t.on("beforeMount",function(){return e=1}),t.on("afterMount",function(){return n=2}),t.mount(),f(e).to.equal(1),t.unmount(),f(n).to.equal(2)}),it('component shoud NOT call then_.listeners["beforeMount"] before updating if_',function(){var t,e,n,o,r;return o=N(0),r=0,t=m(o,e=P(1),n=P(2)),e.on("beforeMount",function(){return o(1)}),n.on("afterUnmount",function(){return r=2}),t.mount(),f(o()).to.equal(0,"mount"),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)}),it("component shoud NOT call embeded mountCallback before updating if_",function(){var t,e,n,o,r;return o=N(0),r=0,t=m(o,C(e=P(1)),C(n=P(2))),e.on("beforeMount",function(){return o(1)}),n.on("afterMount",function(){return r=2}),t.mount(),f(o()).to.equal(0),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m;m=n(2),r=m.expect,u=m.iit,i=m.idescribe,s=m.nit,c=m.ndescribe,l=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]*))+$/,d=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]+))/,h=/(?:\\\/)|(?:\\\()|(?:\\\))/,a=dc.isComponent,f=dc.route,p=dc.txt,o=dc.Nothing,describe("route",function(){return describe("route regexp",function(){return it("should match paramName pattern",function(){var t;return t={},f._processPiecePatterns(":dsaf",t),r(t.dsaf).to.equal(!0,":dsaf"),f._processPiecePatterns(":$",t),r(t.$).to.equal(!0,":$"),f._processPiecePatterns(":_",t),r(t._).to.equal(!0,":_")}),it("should match cureved re",function(){var t,e;return t={},e=f._processPiecePatterns("(fd+=.)",t,2),r(e[0][0].key).to.equal(2,"(fd+=.)"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string",function(){var t,e;return t={},e=f._processPiecePatterns(":a(dsaf)asdfj",t,2),r(e[0][0].key).to.equal("a"),r(e[1]).to.equal(2,"(fd+=.)")}),it("should match param and string 2",function(){var t,e;return t={},e=f._processPiecePatterns(":abc_$(dsaf)asdfj(&*^)+_",t,2),r(e[0][0].key).to.equal("abc_$"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=f._processPiecePatterns("_):_$a(dsaf)asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=f._processPiecePatterns("_):_$a(dsaf):b:c-asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should throw while wrong paramName pattern",function(){return r(function(){var t;return f._processPiecePatterns(":",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 1",function(){return r(function(){var t;return f._processPiecePatterns(":+",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 2",function(){return r(function(){var t;return f._processPiecePatterns("(dfj()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 3",function(){return r(function(){var t;return f._processPiecePatterns("()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 4",function(){return r(function(){var t;return f._processPiecePatterns(":(dsaf)",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 5",function(){return r(function(){var t;return f._processPiecePatterns("(",t={})}).to["throw"]()})}),describe("test private function",function(){return it("should _getRoutePattern",function(){var t;return t=f._getRoutePattern("a/"),r(t.endSlash).to.equal(!0)}),it("should _processPatternRouteItem",function(){var t;return t=f._processRouteItem([{absolute:!0,segmentPatterns:[],baseIndex:0},function(){return 1}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)}),it("should _getRoutePattern and _processPatternRouteItem",function(){var t;return t=f._processRouteItem([f._getRoutePattern(""),function(){return p(1)}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)})}),describe("process route",function(){return it("should route 'a'",function(){var t,e;return t=f("a",function(){return 1}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/b' on path 'a'",function(){var t,e;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a/' on path 'a'",function(){var t,e;return t=f("a/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a' on path 'a/'",function(){var t,e;return t=f("a",function(){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route '*' on path 'a'",function(){var t,e;return t=f("*",function(t){return t.segments[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("a")}),it("should route '(w+)' on path 'a'",function(){var t,e;return t=f("(\\w+)",function(t){return t.items[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.children[0].text).to.equal("a")}),it("should not route '*' on path 'a/'",function(){var t,e;return t=f("*",function(t){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route '*/' on path 'a'",function(){var t,e;return t=f("*/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route 'a/b'",function(){var t,e;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route multi item",function(){var t,e;return t=f("a/1",function(){return 1},"a/2",function(){return 2}),t.getPath=function(){return"a/2"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(2)}),it("should route multi item with otherwise",function(){var t,e;return t=f("a/1",function(){return 1},"a/2",function(){return 2},p("otherwise")),t.getPath=function(){return"a/otherwise"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("otherwise")}),it("should route 'a/**' on path a/b",function(){var t,e;return t=f("a/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/**' on path a/b",function(){var t,e;
return t=f("a/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/*/**' on path a/b",function(){var t,e;return t=f("a/*/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route embedding route",function(){var t,e,n;return t=f("a/**",function(t,e){return e("b",function(){return 2})}),t.getPath=function(){return"a/b"},n=t.getContentComponent(),n.getPath=function(){return"a/b"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(2)})}),describe("multiple level route",function(){var t;return t=f("a/*/**",function(t,e){return e(1,function(){return 1},2,function(){return 2},3,function(){return 3},{otherwise:"otherwise 2"})},"b/**",function(){return"b/**"},{otherwise:"otherwise 1"}),it("should route a/b/3",function(){var e,n;return t.getPath=function(){return"a/b/3"},n=t.getContentComponent(),n.getPath=function(){return"a/b/3"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(3)}),it("should route b/2",function(){var e;return t.getPath=function(){return"b/2"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("b/**")}),it("should route not-found",function(){var e;return t.getPath=function(){return"not-found"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 1")}),it("should route a/b/no-entry",function(){var e,n;return t.getPath=function(){return"a/b/no-entry"},n=t.getContentComponent(),n.getPath=function(){return"a/b/no-entry"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 2")})}),describe("process route.to",function(){return it("should route.to",function(){return r(f._navigateTo("a/b/c","../x",2)).to.equal("a/x"),r(f._navigateTo("a/b/c","f",2)).to.equal("a/b/f"),r(f._navigateTo("a/b/c","/f",2)).to.equal("f"),r(f._navigateTo("a/b/c","/f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","./f/",2)).to.equal("a/b/f/")}),it("should route.to 2",function(){return r(f._navigateTo("a/b/c","../../f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","../../../f/",2)).to.equal("f/")})})})},function(t,e,n){var o,r,i,u,a,c,s,d,l,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S,I,H;H=n(2),m=H.expect,x=H.iit,w=H.idescribe,T=H.nit,_=H.ndescribe,c=dc.bindings,h=dc.duplex,g=dc.flow,M=dc.see,d=dc.classFn,k=dc.styleFrom,v=dc.extendAttrs,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,N=dc.list,y=dc.func,b=dc.if_,I=dc.txt,a=dc.a,L=dc.p,P=dc.span,S=dc.text,C=dc.li,f=dc.div,s=dc.button,q=dc.input,p=dc.each,l=n(24),describe("demo",function(){return describe("sum",function(){return it("should construct and create components",function(){var t,e,n,o,r,i,u,a,s,d;return d=c({a:3,b:2}),t=d.a$,n=d.b$,e=d.a_,o=d.b_,u=S(t),a=S(n),s=L(I(i=g.add(e,o))),m(i()).to.equal(5,"sum 1"),e(1),m(i()).to.equal(3,"sum 2"),r=N(u,a,s),r.mount("#demo"),m(s.node.innerHTML).to.equal("3","mount"),u.node.value="3",a.node.value="4",u.node.onchange(),a.node.onchange(),m(e()).to.equal("3","a_"),m(o()).to.equal("4","b_"),m(i()).to.equal("34","sum"),m(!!r.valid).to.equal(!1,"comp.valid"),m(!!s.valid).to.equal(!1,"z.valid"),r.update(),m(s.node.innerHTML).to.equal("34","update")})}),describe("combobox",function(){return it("should process event property of child component",function(){var t,e,n;return n=0,e=f({},t=q({onmouseenter:function(){return n=1}}),f({},"wawa")),e.mount(),t.node.onmouseenter(),m(n).to.equal(1)}),it("should process event property of child component with model directive",function(){var t,e,n;return n=0,e=f({},t=q({$model:h({},"x"),onmouseenter:function(){return n=1}}),f({},"wawa")),e.mount(),t.node.onmouseenter(),m(n).to.equal(1)})}),describe("text model",function(){return it("should text model by value",function(){var t,e,n,o,r,i;return t=c(o={a:1}).a$,e={onchange:function(){return n.update()}},n=N(r=S(e,t),i=S(e,t)),n.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(i.node.value).to.equal("3","text2.node.value")}),it("should text model by value and onchange",function(){var t,e,n,o,r,i;return t=c(o={a:1}).a$,e={value:t,onchange:function(){return t(this.value),n.update()}},n=N(r=S(e),i=S(e)),n.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(i.node.value).to.equal("3","text2.node.value")})}),describe("combo",function(){return it("should combobox",function(){var t,e,n,o,r,i,u,a;return u=M(!1),e=null,a=M(""),i=function(){var t,n,r,i;for(r=[1,2],i=[],t=0,n=r.length;n>t;t++)o=r[t],i.push(function(t){return P({style:{display:"block",border:"1px solid blue","min-width":"40px"},onclick:function(){return a(t),e.update()}},t)}(o));return i}(),t=v(t,{onmouseleave:function(){return u(!1),e.update()}}),e=f(t,n=q({$model:a,onmouseenter:function(){return u(!0),e.update()}}),r=f({style:{display:g(u,function(){return u()?"block":"none"})}},i)),e.mount(),m(n.node.value).to.equal(""),m(u()).to.equal(!1),m(r.node.style.display).to.equal("none"),n.node.onmouseenter(),m(r.node.style.display).to.equal("block"),i[1].node.onclick(),m(n.node.value).to.equal("2")})}),describe("controls",function(){return it("should mount controls and others",function(){var t;return t=l(),t.mount("#demo"),m(t.node.length).to.equal(2),t.unmount()})}),describe("mount/unmount",function(){return it("should mount/unmount sub component",function(){var t,e,n;return n=f("toggle me"),t=N(f({onclick:function(){return n.mount()}},"mount",f({onclick:function(){return n.unmount()}},"unmount"))),e=N(t,n),n.mount(),n.unmount(),n.remount(),n.unmount(),e.mount(),e.unmount()})}),describe("todomvc",function(){var t;return it("should process class",function(){var t;return t=a({className:{selected:1},href:"#/"}),t.mount("#demo"),m(t.node.className).to.equal("selected")}),it("should construct and create components",function(){var t;return t=C(a({className:{selected:1},href:"#/"},"All")),t.mount("#demo"),m(t.children[0].node.className).to.equal("selected"),m(t.children[0].node.href).to.match(/:\/\//)}),t=function(t,e){var n,o;return e.hash="all",n=function(){return"active"===e.hash?t.filter(function(t){return t&&!t.completed}):"completed"===e.hash?t.filter(function(t){return t&&t.completed}):t},o=p(n,function(t,e){return L(I(function(){return t.title}),", ",I(function(){return t.completed?"completed":"uncompleted"}))})},it("should mount getTodos and Each with empty todos correctly",function(){var e,n,o;return o=[],e=t(o,n={hash:"all"}),e.mount(),m(e.node.length).to.equal(0)}),it("should invalidate children to listComponent",function(){var e,n,o,r;return r=[{title:"do this"}],n=t(r,o={hash:"all"}),m(n.listComponent.invalidIndexes).to.be.undefined,n.getContentComponent(),e=n.cacheChildren[0],o.hash="completed",e.transfornValid=!0,n.getContentComponent(),e.valid=!0,o.hash="all",n.getContentComponent()}),it("should process getTodos and Each correctly",function(){var e,n,o,r;return r=[{title:"do this"}],n=t(r,o={hash:"all"}),n.mount(),m(n.node.length).to.equal(1),o.hash="completed",n.update(),m(n.node.length).to.equal(0),o.hash="all",n.getContentComponent(),e=n.listComponent.children[0],n.update(),m(n.node.length).to.equal(1)}),it("should todoEditArea",function(){var t,e,n,o,r,i;return n=dc.section,i=dc.ul,e=dc.footer,r=p([1,2],function(t,e){return C(1)}),t=o=n({id:"main"},i({id:"todo-list"},r),e({id:"footer"})),t.mount(),t.update()})})})},function(t,e){var n,o,r,i,u,a;i=dc.list,n=dc.a,r=dc.checkbox,a=dc.text,u=dc.p,o=dc.bindings,t.exports=function(){var t,e,n,u,c,s,d,l;return t=o({a:1}).a$,u=i(e=r(t),n=r(t)),l=i(s=a(t),d=a(t)),t(6),c=i(u,l),dc.updateWhen([e,n,s,d],"change",c),c}}]);