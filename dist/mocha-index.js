!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="/assets/",n(0)}([/*!*********************************!*\
  !*** ./test/mocha/index.coffee ***!
  \*********************************/
function(t,n,e){e(/*! dc-util/test-util */4),e(/*! lazy-flow/test-flow */8),e(/*! lazy-flow-at/test-at */11),e(/*! ./test-property */13),e(/*! ./test-toString */14),e(/*! ./test-dc */15),e(/*! ./test-base-component */16),e(/*! ./test-component */18),e(/*! ./test-directive */1),e(/*! ./test-singleton */19),e(/*! ./test-group */20),e(/*! ./test-ref-clone */21),e(/*! ./test-accordion */22),e(/*! ./test-component-event */23),e(/*! ./test-route */24),e(/*! ./test-for-demo */25)},/*!******************************************!*\
  !*** ./test/mocha/test-directive.coffee ***!
  \******************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N;N=e(/*! bdd-test-helper */2),p=N.expect,g=N.iit,m=N.idescribe,w=N.nit,x=N.ndescribe,i=dc.Component,b=dc.list,h=dc.func,v=dc.if_,f=dc.each,a=dc.a,l=dc.div,y=dc.p,T=dc.span,L=dc.text,M=dc.select,q=dc.input,r=dc.$show,o=dc.$hide,u=dc.$splitter,d=dc.bindings,s=dc.duplex,C=dc.see,dc.directives(dc.builtinDirectives),c=d({a:1}).a$,describe("directives",function(){return describe("model ",function(){return it("should process model  directive",function(){var t;return t=L({$model:c}),t.mount(),t.node.value="2",t.node.onchange(),p(c()).to.equal("2")}),it("should process event property of component with model directive",function(){var t,n,e,o;return o=0,e=s(n={},"x"),t=q({$model:e,onmouseenter:function(){return o=1}}),t.mount(),t.node.onmouseenter(),p(o).to.equal(1)})}),describe("$show",function(){return it("should process $show directive",function(){var t;return t=l({$show:!0}),t.mount(),p(t.node.style.display).to.equal("block")}),it("should process $show directive with non block display",function(){var t;return t=l({style:{display:"inline"},$show:!0}),t.mount(),p(t.node.style.display).to.equal("inline")}),it("should process $show directive with false value",function(){var t;return t=l({$show:!1},l(1)),t.mount(),p(t.node.style.display).to.equal("none")}),it("should process $show directive with function value",function(){var t,n;return n=C(!0),t=l({$show:n}),p(t.style.display.invalidate).to.be.defined,t.mount(),p(t.node.style.display).to.equal("block",1),n(!1),p(t.hasActiveStyle).to.equal(!0),t.update(),p(t.node.style.display).to.equal("none",2)}),it("should process hide directive",function(){var t;return t=l({$hide:!0},l(1)),t.mount(),p(t.node.style.display).to.equal("none"),t=l({$hide:!1},l(1)),t.mount(),p(t.node.style.display).to.equal("block")}),it("should process show directive with true or false value",function(){var t;return t=r(!1)(l(l(1))),t.mount(),p(t.node.style.display).to.equal("none"),t=r(!0)(l(l(1))),t.mount(),p(t.node.style.display).to.equal("block")})}),x("select options",function(){return it("should constructor select with options",function(){var t;return t=M({$options:[[1,2]]}),t.mount(),p(t.node.innerHTML).to.match(/<option>1/),p(t.node.innerHTML).to.equal("<option>1</option><option>2</option>")})}),describe("splitter",function(){return it("should constructor splitter",function(){var t,n,e;return e=u("vertical")(l({style:{height:"800px",width:"200px"}},l(1),l(2))),e.mount(),t=e.node.getBoundingClientRect(),p(t.width>0).to.equal(!0),p(e.node.innerHTML).to.match(/splitbar/),n=e.children,p(n[1].node.getBoundingClientRect().top).to.equal(e.node.getBoundingClientRect().top),n[1].node.onmousedown(),e.node.onmousemove({clientX:20,clientY:30,preventDefault:function(){},stopPropagation:function(){}}),p(n[1].node.getBoundingClientRect().top).to.equal(e.node.getBoundingClientRect().top),p(n[1].node.style.top).to.equal("0px"),e.node})})})},/*!***********************************!*\
  !*** ../bdd-test-helper/index.js ***!
  \***********************************/
function(t,n,e){var o;o="undefined"==typeof window?e(/*! chai */3):window.chai,n.expect=o.expect,n.iit=it.only,n.idescribe=describe.only,n.nit=function(){},n.ndescribe=function(){}},/*!***********************!*\
  !*** external "chai" ***!
  \***********************/
function(t,n){t.exports=chai},/*!***********************************!*\
  !*** ../dc-util/test-util.coffee ***!
  \***********************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s;l=e(/*! bdd-test-helper */2),u=l.expect,a=l.iit,i=l.idescribe,d=l.nit,c=l.ndescribe,s=e(/*! ./index */5),r=s.binarySearch,o=s.binaryInsert,describe("util",function(){return describe("binarySearch",function(){return it("should binarySearch(0, [])",function(){return u(r(0,[])).to.deep.equal(0)}),it("should binarySearch(0, [0])",function(){return u(r(0,[0])).to.deep.equal(0)}),it("should binarySearch(0, [1])",function(){return u(r(0,[1])).to.deep.equal(0)}),it("should binarySearch(1, [1 2])",function(){return u(r(1,[1,2])).to.deep.equal(0)}),it("should binarySearch(2, [1 2])",function(){return u(r(2,[1,2])).to.deep.equal(1)}),it("should binarySearch(2, [1 3])",function(){return u(r(2,[1,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3])",function(){return u(r(2,[1,2,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3 4])",function(){return u(r(2,[1,2,3,4])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 4 5])",function(){return u(r(3,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5])",function(){return u(r(4,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5 6])",function(){return u(r(4,[1,2,4,5,6])).to.deep.equal(2)})}),describe("binaryInsert",function(){return it("should binaryInsert(0, [])",function(){var t;return o(0,t=[]),u(t).to.deep.equal([0])}),it("should binaryInsert(0, [0])",function(){var t;return o(0,t=[0]),u(t).to.deep.equal([0])}),it("should binaryInsert(0, [1])",function(){var t;return o(0,t=[1]),u(t).to.deep.equal([0,1])}),it("should binaryInsert(1, [1 2])",function(){var t;return o(1,t=[1,2]),u(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 2])",function(){var t;return o(2,t=[1,2]),u(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 3])",function(){var t;return o(2,t=[1,3]),u(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3])",function(){var t;return o(2,t=[1,2,3]),u(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3 4])",function(){var t;return o(2,t=[1,2,3,4]),u(t).to.deep.equal([1,2,3,4])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(3,t=[1,2,4,5]),u(t).to.deep.equal([1,2,3,4,5])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(4,t=[1,2,4,5]),u(t).to.deep.equal([1,2,4,5])}),it("should binaryInsert(2, [1 2 4 5 6])",function(){var t;return o(4,t=[1,2,4,5,6]),u(t).to.deep.equal([1,2,4,5,6])})})})},/*!*******************************!*\
  !*** ../dc-util/index.coffee ***!
  \*******************************/
function(t,n,e){var o,r,u=[].slice;n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.cloneObject=function(t){var n,e;e={};for(n in t)e[n]=t[n];return e},n.pairListDict=function(){var t,n,e,o;for(n=1<=arguments.length?u.call(arguments,0):[],1===n.length&&(n=n[0]),e=n.length,t=0,o={};e>t;)o[n[t]]=n[t+1],t+=2;return o},o=function(t,n){var e,o;for(o="",e=0;e++<n;)o+=t;return o},n.newLine=function(t,n,e){return e?"\n"+o(" ",n)+t:t},n.funcString=function(t){var n,e;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return n=o,t.toString()}}return e=t.toString(),t.invalidate?e:(e="function (){"===e.slice(0,12)?e.slice(12,e.length-1):"function () {"===e.slice(0,13)?e.slice(13,e.length-1):e.slice(9),e=e.trim(),"return "===e.slice(0,7)&&(e=e.slice(7)),";"===e[e.length-1]&&(e=e.slice(0,e.length-1)),"fn:"+e)},r=1,n.newDcid=function(){return r++},n.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},n.matchCurvedString=function(t,n){var e,o;if("("===t[n])for(o=0;e=t[++n];)if("\\"===e){if(!(e=t[++n]))return}else if("("===e)o++;else if(")"===e){if(0===o)return++n;o--}},n.intersect=function(t){var n,e,o,r,u,i,a,c;u={},o=t[0];for(e in o){for(n=!0,c=t.slice(1),i=0,a=c.length;a>i;i++)if(r=c[i],!r[e]){n=!1;break}n&&(u[e]=o[e])}return u},n.substractSet=function(t,n){var e;for(e in n)delete t[e];return t},n.binarySearch=function(t,n){var e,o,r,u;if(r=n.length,!r)return 0;if(1===r)return n[0]>=t?0:1;for(u=0,e=r-1;;){if(o=u+Math.floor((e-u)/2),u===e)return n[o]>=t?o:o+1;if(t===n[o])return o;if(t===n[o+1])return o+1;if(t<n[o])e=o;else{if(!(t>n[o+1]))return o+1;u=o+1}}},n.binaryInsert=function(t,n){var e,o,r,u;if(r=n.length,!r)return n[0]=t,0;if(1===r)return n[0]===t?0:n[0]>t?(n[1]=n[0],n[0]=t,0):(n[1]=t,1);for(u=0,e=r-1;;){if(o=u+Math.floor((e-u)/2),u===e)return n[o]===t?o:n[o]>t?(n.splice(o,0,t),o):(n.splice(o+1,0,t),o+1);if(t===n[o])return o;if(t===n[o+1])return o+1;if(t<n[o])e=o;else{if(!(t>n[o+1]))return n.splice(o+1,0,t),o+1;u=o+1}}},n.numbers=function(t){var n,o,r;if(n=e(/*! lazy-flow */6),"function"==typeof t)return n(t,function(){var n,e,o;for(n=0,o=[],e=t();e>n;)o.push(n),n++;return o});for(o=0,r=[];t>o;)r.push(o),o++;return r}},/*!*****************************!*\
  !*** ../lazy-flow/index.js ***!
  \*****************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s=[].slice;l=e(/*! dc-util */7),i=l.newLine,u=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(n){var e;if("function"!=typeof n)throw new Error("call back should be a function");return e=t.invalidateCallbacks||(t.invalidateCallbacks=[]),e.push(n)},t.offInvalidate=function(n){var e,o;return o=t.invalidateCallbacks,!o||(e=o.indexOf(n),0>e)?void 0:(o.splice(e,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var n,e,o,r;if(t.valid&&t.invalidateCallbacks){for(r=t.invalidateCallbacks,e=0,o=r.length;o>e;e++)(n=r[e])();t.valid=!1}},t)},c=function(t){var n;return n=function(){var e;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return e=t(),n.valid=!0,n.invalidate(),e},n.toString=function(){return"renew: "+u(t)},a(n)},o=function(t){var n,e;return n=null,e=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return e.valid?n:(e.valid=!0,n=t())},e.toString=function(){return"dependent: "+u(t)},a(e)},t.exports=r=function(){var t,n,e,o,r,i,c,d,l,f;for(o=2<=arguments.length?s.call(arguments,0,i=arguments.length-1):(i=0,[]),n=arguments[i++],c=0,l=o.length;l>c;c++)if(e=o[c],"function"==typeof e&&!e.invalidate)return r=a(function(){return r.invalidate(),n()});for(t=null,r=a(function(e){return arguments.length?e===t?e:(t=e,n(e),r.invalidate(),t):r.valid?t:(r.valid=!0,t=n())}),d=0,f=o.length;f>d;d++)e=o[d],e&&e.onInvalidate&&e.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,n,r;for(r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(e.toString());return r}().join(",")+"] --> "+u(n)},r},r.pipe=function(){var t,n,e,o,r,u,i,c,d;for(e=2<=arguments.length?s.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],u=0,c=e.length;c>u;u++)if(n=e[u],"function"==typeof n&&!n.invalidate)return o=a(function(){var r,u,i;if(argumnets.length)throw new Error("flow.pipe is not allow to have arguments");for(o.invalidate(),r=[],u=0,i=e.length;i>u;u++)n=e[u],"function"==typeof n?r.push(n()):r.push(n);return t.apply(null,r)});for(o=a(function(){var o,r,u;for(o=[],r=0,u=e.length;u>r;r++)n=e[r],"function"==typeof n?o.push(n()):o.push(n);return t.apply(null,o)}),i=0,d=e.length;d>i;i++)n=e[i],n&&n.onInvalidate&&n.onInvalidate(o.invalidate);return o},r.react=a,r.renew=c,r.dependent=o,r.flow=r,r.see=d=function(t,n){var e,o;return e=t,o=function(t){return arguments.length?(t=n?n(t):t,t!==e&&(e=t,o.invalidate()),t):(o.valid=!0,e)},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},r.seeN=function(){var t,n,e,o,r;for(n=1<=arguments.length?s.call(arguments,0):[],r=[],e=0,o=n.length;o>e;e++)t=n[e],r.push(d(t));return r},Object.defineProperty?(r.bind=function(t,n,e){var o,r,u,i;return o=Object.getOwnPropertyDescriptor(t,n),o&&(r=o.get,u=o.set),r&&r.invalidate||(r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue},r.cacheValue=t[n],i=function(e){return e!==t[n]?(u&&u(e),r.invalidate(),r.cacheValue=e):void 0},a(r),r.toString=function(){return""+(e||"m")+"["+n+"]"},Object.defineProperty(t,n,{get:r,set:i})),r},r.duplex=function(t,n,e){var o,r,u,i;return o=Object.getOwnPropertyDescriptor(t,n),o&&(r=o.get,i=o.set),i&&i.invalidate?i:(u=function(e){return arguments.length?e!==t[n]?(i&&i(e),r&&r.invalidate&&r.invalidate(),u.invalidate(),u.cacheValue=e):void 0:(u.valid=!0,u.cacheValue)},u.cacheValue=t[n],a(u),u.isDuplex=!0,u.toString=function(){return""+(e||"m")+"["+n+"]"},Object.defineProperty(t,n,{get:u,set:u}),u)}):(r.bind=function(t,n,e){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(n,e){var o;return e!==t[n]?(r&&r[n]&&r[n].invalidate(),(o=this._dcDuplexMethodMap)&&o[n]&&o[n].invalidate()):void 0}),o=r[n],o||(o=r[n]=function(){return o.valid=!0,t[n]},o.toString=function(){return""+(e||"m")+"["+n+"]"},a(o)),o},r.duplex=function(t,n,e){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(n,e){var o;return e!==t[n]&&((o=this._dcBindMethodMap)&&o[n]&&o[n].invalidate(),r&&r[n]&&r[n].invalidate()),e}),o=r[n],o||(o=r[n]=function(e){return arguments.length?t.dcSet$(n,e):(o.valid=!0,t[n])},o.isDuplex=!0,o.toString=function(){return""+(e||"m")+"["+n+"]"},a(o)),o}),r.unary=function(t,n){return"function"!=typeof t?n(t):t.invalidate?r(t,function(){return n(t())}):function(){return n(t())}},r.binary=function(t,n,e){return"function"==typeof t&&"function"==typeof n?t.invalidate&&n.invalidate?r(t,n,function(){return e(t(),n())}):function(){return e(t(),n())}:"function"==typeof t?t.invalidate?r(t,function(){return e(t(),n)}):function(){return e(t(),n)}:"function"==typeof n?n.invalidate?r(n,function(){return e(t,n())}):function(){return e(t,n())}:e(t,n)}},/*!***************************!*\
  !*** ../dc-util/index.js ***!
  \***************************/
function(t,n,e){var o,r,u=[].slice;n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.cloneObject=function(t){var n,e;e={};for(n in t)e[n]=t[n];return e},n.pairListDict=function(){var t,n,e,o;for(n=1<=arguments.length?u.call(arguments,0):[],1===n.length&&(n=n[0]),e=n.length,t=0,o={};e>t;)o[n[t]]=n[t+1],t+=2;return o},o=function(t,n){var e,o;for(o="",e=0;e++<n;)o+=t;return o},n.newLine=function(t,n,e){return e?"\n"+o(" ",n)+t:t},n.funcString=function(t){var n,e;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return n=o,t.toString()}}return e=t.toString(),t.invalidate?e:(e="function (){"===e.slice(0,12)?e.slice(12,e.length-1):"function () {"===e.slice(0,13)?e.slice(13,e.length-1):e.slice(9),e=e.trim(),"return "===e.slice(0,7)&&(e=e.slice(7)),";"===e[e.length-1]&&(e=e.slice(0,e.length-1)),"fn:"+e)},r=1,n.newDcid=function(){return r++},n.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},n.matchCurvedString=function(t,n){var e,o;if("("===t[n])for(o=0;e=t[++n];)if("\\"===e){if(!(e=t[++n]))return}else if("("===e)o++;else if(")"===e){if(0===o)return++n;o--}},n.intersect=function(t){var n,e,o,r,u,i,a,c;u={},o=t[0];for(e in o){for(n=!0,c=t.slice(1),i=0,a=c.length;a>i;i++)if(r=c[i],!r[e]){n=!1;break}n&&(u[e]=o[e])}return u},n.substractSet=function(t,n){var e;for(e in n)delete t[e];return t},n.binarySearch=function(t,n){var e,o,r,u;if(r=n.length,!r)return 0;if(1===r)return n[0]>=t?0:1;for(u=0,e=r-1;;){if(o=u+Math.floor((e-u)/2),u===e)return n[o]>=t?o:o+1;if(t===n[o])return o;if(t===n[o+1])return o+1;if(t<n[o])e=o;else{if(!(t>n[o+1]))return o+1;u=o+1}}},n.binaryInsert=function(t,n){var e,o,r,u;if(r=n.length,!r)return n[0]=t,0;if(1===r)return n[0]===t?0:n[0]>t?(n[1]=n[0],n[0]=t,0):(n[1]=t,1);for(u=0,e=r-1;;){if(o=u+Math.floor((e-u)/2),u===e)return n[o]===t?o:n[o]>t?(n.splice(o,0,t),o):(n.splice(o+1,0,t),o+1);if(t===n[o])return o;if(t===n[o+1])return o+1;if(t<n[o])e=o;else{if(!(t>n[o+1]))return n.splice(o+1,0,t),o+1;u=o+1}}},n.numbers=function(t){var n,o,r;if(n=e(/*! lazy-flow */6),"function"==typeof t)return n(t,function(){var n,e,o;for(n=0,o=[],e=t();e>n;)o.push(n),n++;return o});for(o=0,r=[];t>o;)r.push(o),o++;return r}},/*!*************************************!*\
  !*** ../lazy-flow/test-flow.coffee ***!
  \*************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g;m=e(/*! bdd-test-helper */2),i=m.expect,d=m.iit,c=m.idescribe,s=m.nit,l=m.ndescribe,v=e(/*! ./index */9),p=v.see,o=v.bind,u=v.duplex,f=v.renew,a=v.flow,g=e(/*! ./addon */10),r=g.bindings,h=g.seeAttrs,describe("reactive flow",function(){return it("should see",function(){var t;return t=p(1),i(t()).to.equal(1),i(t(2)).to.equal(2),i(t()).to.equal(2)}),it("should renew",function(){var t,n;return n=1,t=f(function(){return n},!0),i(t()).to.equal(1),i(function(){return t(2)}).to["throw"](),n=2,i(t()).to.equal(2)}),it("should flow",function(){var t,n,e;return t=p(1),n=p(2),e=a(t,n,function(){return t()+n()}),i(e()).to.equal(3),t(2),i(e()).to.equal(4)}),it("should flow unary",function(){var t,n,e,o;return o=r({a:4,b:2}),t=o.a_,n=o.b_,e=a.neg(t),i(e()).to.equal(-4,"neg"),e=a.no(t),i(e()).to.equal(!1,"not"),e=a.abs(a.neg(t)),i(e()).to.equal(4,"abs neg"),e=a.bitnot(t),i(e()).to.equal(-5,"bitnot")}),it("should flow binary",function(){var t,n,e,o;return o=r({a:4,b:2}),t=o.a_,n=o.b_,e=a.add(t,n),i(e()).to.equal(6,"add"),e=a.sub(t,n),i(e()).to.equal(2,"sub"),e=a.mul(t,n),i(e()).to.equal(8,"mul"),e=a.div(t,n),i(e()).to.equal(2,"div")}),it("should invalidate flow binary",function(){var t,n,e;return t=p(1),n=p(2),e=a.add(t,n),i(e()).to.equal(3,"add"),t(3),i(e()).to.equal(5,"add 2")}),it("should invalidate bind flow binary",function(){var t,n,e,r;return e={a:1,b:2},t=o(e,"a","m"),n=o(e,"b","m"),r=a.add(t,n),i(r()).to.equal(3,"add"),i(function(){return t(3)}).to["throw"](),i(r()).to.equal(3,"add 2")}),it("should bind",function(){var t,n,e;return e={a:1},t=o(e,"a"),n=o(e,"a"),i(t()).to.equal(1),i(n()).to.equal(1,"a2"),i(function(){return t(3)}).to["throw"](),i(t()).to.equal(1,"a again"),i(n()).to.equal(1,"a2 again")}),it("should process bindings",function(){var t,n,e;return e=r({a:1}),t=e.a$,n=e.a_,t(3),i(n()).to.equal(3)}),it("should process multiple bind and duplex on same object and attr",function(){var t,n,e,o,r,c;return r={a:1,b:2},t=u(r,"a"),e=u(r,"b"),n=u(r,"a"),o=u(r,"b"),c=a.add(t,e),i(c()).to.equal(3,"sum 1"),i(c.valid).to.equal(!0,"valid 1"),n(3),i(c.valid).to.equal(!1,"valid 2"),i(c()).to.equal(5,"sum 2"),c=a.add(n,o),i(c()).to.equal(5,"sum 3"),i(c.valid).to.equal(!0,"valid 3"),n(1),i(c.valid).to.equal(!1,"valid 4"),i(c()).to.equal(3,"sum 4")}),it("should seeAttrs",function(){var t,n;return t={},n={x:1},h(t,n),i(typeof t.x).to.equal("function"),i(t.x()).to.equal(1),n={x:2},h(t,n),i(typeof t.x).to.equal("function"),i(t.x()).to.equal(2)})})},/*!*********************************!*\
  !*** ../lazy-flow/index.coffee ***!
  \*********************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s=[].slice;l=e(/*! dc-util */7),i=l.newLine,u=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(n){var e;if("function"!=typeof n)throw new Error("call back should be a function");return e=t.invalidateCallbacks||(t.invalidateCallbacks=[]),e.push(n)},t.offInvalidate=function(n){var e,o;return o=t.invalidateCallbacks,!o||(e=o.indexOf(n),0>e)?void 0:(o.splice(e,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var n,e,o,r;if(t.valid&&t.invalidateCallbacks){for(r=t.invalidateCallbacks,e=0,o=r.length;o>e;e++)(n=r[e])();t.valid=!1}},t)},c=function(t){var n;return n=function(){var e;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return e=t(),n.valid=!0,n.invalidate(),e},n.toString=function(){return"renew: "+u(t)},a(n)},o=function(t){var n,e;return n=null,e=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return e.valid?n:(e.valid=!0,n=t())},e.toString=function(){return"dependent: "+u(t)},a(e)},t.exports=r=function(){var t,n,e,o,r,i,c,d,l,f;for(o=2<=arguments.length?s.call(arguments,0,i=arguments.length-1):(i=0,[]),n=arguments[i++],c=0,l=o.length;l>c;c++)if(e=o[c],"function"==typeof e&&!e.invalidate)return r=a(function(){return r.invalidate(),n()});for(t=null,r=a(function(e){return arguments.length?e===t?e:(t=e,n(e),r.invalidate(),t):r.valid?t:(r.valid=!0,t=n())}),d=0,f=o.length;f>d;d++)e=o[d],e&&e.onInvalidate&&e.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,n,r;for(r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(e.toString());return r}().join(",")+"] --> "+u(n)},r},r.pipe=function(){var t,n,e,o,r,u,i,c,d;for(e=2<=arguments.length?s.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],u=0,c=e.length;c>u;u++)if(n=e[u],"function"==typeof n&&!n.invalidate)return o=a(function(){var r,u,i;if(argumnets.length)throw new Error("flow.pipe is not allow to have arguments");for(o.invalidate(),r=[],u=0,i=e.length;i>u;u++)n=e[u],"function"==typeof n?r.push(n()):r.push(n);return t.apply(null,r)});for(o=a(function(){var o,r,u;for(o=[],r=0,u=e.length;u>r;r++)n=e[r],"function"==typeof n?o.push(n()):o.push(n);return t.apply(null,o)}),i=0,d=e.length;d>i;i++)n=e[i],n&&n.onInvalidate&&n.onInvalidate(o.invalidate);return o},r.react=a,r.renew=c,r.dependent=o,r.flow=r,r.see=d=function(t,n){var e,o;return e=t,o=function(t){return arguments.length?(t=n?n(t):t,t!==e&&(e=t,o.invalidate()),t):(o.valid=!0,e)},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},r.seeN=function(){var t,n,e,o,r;for(n=1<=arguments.length?s.call(arguments,0):[],r=[],e=0,o=n.length;o>e;e++)t=n[e],r.push(d(t));return r},Object.defineProperty?(r.bind=function(t,n,e){var o,r,u,i;return o=Object.getOwnPropertyDescriptor(t,n),o&&(r=o.get,u=o.set),r&&r.invalidate||(r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue},r.cacheValue=t[n],i=function(e){return e!==t[n]?(u&&u(e),r.invalidate(),r.cacheValue=e):void 0},a(r),r.toString=function(){return""+(e||"m")+"["+n+"]"},Object.defineProperty(t,n,{get:r,set:i})),r},r.duplex=function(t,n,e){var o,r,u,i;return o=Object.getOwnPropertyDescriptor(t,n),o&&(r=o.get,i=o.set),i&&i.invalidate?i:(u=function(e){return arguments.length?e!==t[n]?(i&&i(e),r&&r.invalidate&&r.invalidate(),u.invalidate(),u.cacheValue=e):void 0:(u.valid=!0,u.cacheValue)},u.cacheValue=t[n],a(u),u.isDuplex=!0,u.toString=function(){return""+(e||"m")+"["+n+"]"},Object.defineProperty(t,n,{get:u,set:u}),u)}):(r.bind=function(t,n,e){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(n,e){var o;return e!==t[n]?(r&&r[n]&&r[n].invalidate(),(o=this._dcDuplexMethodMap)&&o[n]&&o[n].invalidate()):void 0}),o=r[n],o||(o=r[n]=function(){return o.valid=!0,t[n]},o.toString=function(){return""+(e||"m")+"["+n+"]"},a(o)),o},r.duplex=function(t,n,e){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(n,e){var o;return e!==t[n]&&((o=this._dcBindMethodMap)&&o[n]&&o[n].invalidate(),r&&r[n]&&r[n].invalidate()),e}),o=r[n],o||(o=r[n]=function(e){return arguments.length?t.dcSet$(n,e):(o.valid=!0,t[n])},o.isDuplex=!0,o.toString=function(){return""+(e||"m")+"["+n+"]"},a(o)),o}),r.unary=function(t,n){return"function"!=typeof t?n(t):t.invalidate?r(t,function(){return n(t())}):function(){return n(t())}},r.binary=function(t,n,e){return"function"==typeof t&&"function"==typeof n?t.invalidate&&n.invalidate?r(t,n,function(){return e(t(),n())}):function(){return e(t(),n())}:"function"==typeof t?t.invalidate?r(t,function(){return e(t(),n)}):function(){return e(t(),n)}:"function"==typeof n?n.invalidate?r(n,function(){return e(t,n())}):function(){return e(t,n())}:e(t,n)}},/*!*********************************!*\
  !*** ../lazy-flow/addon.coffee ***!
  \*********************************/
function(t,n,e){var o,r,u,i,a,c,d;d=e(/*! ./index */9),a=d.see,r=d.bind,u=d.duplex,i=d.flow,c=d.unary,o=d.binary,t.exports=i,i.bindings=function(t,n){var e,o;o={};for(e in t)o[e+"$"]=u(t,e,n),o[e+"_"]=r(t,e,n);return o},i.seeAttrs=function(t,n){var e,o,r;for(o in n)r=n[o],e=t[o],"function"==typeof e?e(r):t[o]=a(r);return t},i.neg=function(t){return c(t,function(t){return-t})},i.no=function(t){return c(t,function(t){return!t})},i.bitnot=function(t){return c(t,function(t){return~t})},i.reciprocal=function(t){return c(t,function(t){return 1/t})},i.abs=function(t){return c(t,Math.abs)},i.floor=function(t){return c(t,Math.floor)},i.ceil=function(t){return c(t,Math.ceil)},i.round=function(t){return c(t,Math.round)},i.add=function(t,n){return o(t,n,function(t,n){return t+n})},i.sub=function(t,n){return o(t,n,function(t,n){return t-n})},i.mul=function(t,n){return o(t,n,function(t,n){return t*n})},i.div=function(t,n){return o(t,n,function(t,n){return t/n})},i.min=function(t,n){return o(t,n,function(t,n){return Math.min(t,n)})},i.funcAttr=function(t,n){return i(t,n,function(e){var o;return o=t(),null==o?o:arguments.length?o[n]=e:o[n]})},i.toggle=function(t){return t(!t())},i.if_=function(t,n,e){return"function"!=typeof t?t?n:e:t.invalidate?"function"==typeof n&&"function"==typeof e?n.invalidate&&e.invalidate?i(t,n,e,function(){return t()?n():e()}):function(){return t()?n():e()}:"function"==typeof n?n.invalidate?i(t,n,function(){return t()?n():e}):function(){return t()?n():e}:"function"==typeof e?e.invalidate?i(e,function(){return t()?n:e()}):function(){return t()?n:e()}:i(t,function(){return t()?n:e}):"function"==typeof n&&"function"==typeof e?function(){return t()?n():e()}:"function"===n?function(){return t()?n():e}:"function"===e?function(){return t()?n:e()}:t()?n:e}},/*!**************************************!*\
  !*** ../lazy-flow-at/test-at.coffee ***!
  \**************************************/
function(t,n,e){(function(t){var n,o,r,u,i,a,c;c=e(/*! bdd-test-helper */2),n=c.expect,u=c.iit,r=c.idescribe,a=c.nit,i=c.ndescribe,o=e(/*! ./index */12),describe("lazy-flow-at",function(){return it("should process flow.at",function(){var t,e,r;return e={},r=o.at(e,"x.y"),n(r()).to.equal(void 0),t=!1,r.onInvalidate(function(){return t=!0}),r(1),n(t).to.equal(!0),n(r()).to.equal(1),n(e.x.y).to.equal(1),t=!1,e.x={},n(t).to.equal(!0),n(e.x.y).to.equal(void 0)}),it("should process flow.at without root",function(){var e,r;return window.x=void 0,e=o.at("x.y"),n(e()).to.equal(void 0),e(1),n(e()).to.equal(1),r="undefined"!=typeof window?window:t,n(r.x.y).to.equal(1)})})}).call(n,function(){return this}())},/*!************************************!*\
  !*** ../lazy-flow-at/index.coffee ***!
  \************************************/
function(t,n,e){(function(n){var o,r,u,i,a,c,d,l,s,f;s=e(/*! dc-util */7),d=s.newLine,a=s.funcString,f=i=e(/*! lazy-flow */6),r=f.bind,u=f.duplex,l=f.react,t.exports=i,o=function(t){return function(e,o){var r,i;if(1===arguments.length&&(o=e,e="undefined"!=typeof window?window:n),"string"==typeof o&&(o=o.split(/\.\s*/)),!o.length)return e;if("object"!=typeof e)throw new Error("expect an object as the root of flow.at");return r=o.length,0===r?e:(i=l(function(t){var n,u,a;if(arguments.length){for(n=0,a=e;r-1>n;){if(u=a[o[n]],null==u)u=a[o[n]]={};else if("object"!=typeof a)throw new Error("expect an object");a=u,n++}return a[o[n]]=t,i.cacheValue!==t&&(i.cacheValue=t,i.invalidate(),i.valid=!1),t}for(i.valid=!0,n=0,u=e;r>n;){if(!u)return;u=u[o[n]],n++}return i.cacheValue=u}),t===u&&(i.isDuplex=!0),c(e,o,i,t))}},c=function(t,n,e,o){var r,u,i,a,d;if(a=n.length,!a)return e;for(d=t,i=0;a>i;){if(!d)return;r=n[i],u=o(d,r),u.onInvalidate(function(){return c(d[r],n.slice(i+1),e),e.invalidate()}),i++}return e},i.at=o(r),i.at2=o(u)}).call(n,function(){return this}())},/*!*****************************************!*\
  !*** ./test/mocha/test-property.coffee ***!
  \*****************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N,k,_,H,P,S;S=e(/*! bdd-test-helper */2),s=S.expect,g=S.iit,m=S.idescribe,y=S.nit,w=S.ndescribe,P=dc.util,i=dc.bind,l=dc.duplex,T=dc.see,c=dc.classFn,_=dc.styleFrom,u=dc.attrToPropName,f=dc.extendAttrs,o=dc.Component,b=dc.list,p=dc.func,v=dc.if_,r=dc.a,M=dc.p,N=dc.span,H=dc.text,q=dc.li,d=dc.div,a=dc.checkbox,x=dc.model,L=dc.show,h=dc.hide,k=dc.splitter,C=dc.options,describe("domcom/properties/utilities",function(){return it("styleFrom",function(){var t;return t=_("display:none; zIndex:100; backgroundColor:white;"),s(t).to.deep.equal({display:"none",zIndex:"100",backgroundColor:"white"})}),it("attrToPropName",function(){var t;return t=u("background-color"),s(t).to.equal("backgroundColor")}),it("cssAdd 1",function(){var t,n;return t=M({style:{width:"1px"}}),n=t.cssAdd("width",2),s(n).to.equal(t),s(t.css("width")).to.equal("3px")}),it("cssAdd 2",function(){var t,n;return t=M({style:{width:"0.5%"}}),n=t.cssAdd("width",3.6),s(n).to.equal(t),s(t.css("width")).to.equal("4.1%")}),it("cssMul",function(){var t,n;return t=M({style:{width:"2px"}}),n=t.cssMul("width",3),s(n).to.equal(t),s(t.css("width")).to.equal("6px")})}),describe("domcom/properties/extendAttrs",function(){return it("extendAttrs({class{a:1}}, className({b:1})",function(){var t;return t=f({"class":{a:1}},{className:{b:1}}),s(c(t.className)()).to.equal("a b")}),it("extendAttrs({style:{width:1}}, {style:{height:2}})",function(){var t;return t=f({style:{width:1}},{style:{height:2}}),s(t.style.width).to.equal(1),s(t.style.height).to.equal(2)})}),describe("domcom/properties/classFn",function(){return it("get value of classFn",function(){var t,n;return t=T(!0),n=c(["a",{b:t}]),s(n()).to.equal("a b"),t(!1),s(n()).to.equal("a")}),it("should compute valid",function(){var t;return t=c(["a"]),s(t.valid).to.equal(!1),s(t()).to.equal("a"),s(t.valid).to.equal(!0),t.extend("a"),s(t.valid).to.equal(!0),s(t()).to.equal("a"),t.extend("b"),s(t.valid).to.equal(!1),s(t()).to.equal("a b"),t.extend("!b"),s(t.valid).to.equal(!1),s(t()).to.equal("a")}),it("should get class property in component",function(){var t,n;return t=T(!0),n=d({"class":{a:1,b:t}}),s(n.className()).to.equal("a b"),n.className=c({a:1,b:t}),s(n.className.valid).to.equal(!1,"className.valid 1"),s(n.hasActiveProperties).to.equal(!0,"hasActiveProperties 1"),n.mount(),s(n.className.valid).to.equal(!0,"className.valid 2"),s(n.hasActiveProperties).to.equal(!1,"hasActiveProperties 2"),s(n.node.className).to.equal("a b"),t(!1),s(n.className.valid).to.equal(!1,"className.valid 3"),s(n.hasActiveProperties).to.equal(!0,"hasActiveProperties 3"),n.update(),s(n.node.className).to.equal("a")})}),describe("domcom/properties/create",function(){return it("should create properties",function(){var t;return t=M({value:i({a:1},"a")}),s(t.className.valid).to.equal(!0,"className.valid"),s(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),t.mount(),s(t.node.value).to.equal(1)})}),describe("domcom/properties/event",function(){return it("click event ",function(){var t,n;return n=1,t=r({onclick:function(){return n=2}},"click me"),t.mount("#demo"),t.node.click(),s(n).to.equal(2)}),it("multiple handlers for one event",function(){var t,n,e,o;return t=l(o={a:1},"a"),e=sinon.spy(),n=H({onchange:e,$model:t}),n.mount(),n.node.value=2,n.node.onchange(),s(e.called).to.equal(!0),s(o.a).to.equal("2")}),it("multiple handlers for one event, with bind value",function(){var t,n,e,o;return t=l(o={a:1},"a"),e=sinon.spy(),n=H({onchange:e},t),n.mount(),n.node.value=2,n.node.onchange(),s(e.called).to.equal(!0),s(o.a).to.equal("2")})}),describe("domcom/properties/style",function(){return it("should set style property with string value",function(){var t,n;return t=r({style:"border:red 1px solid"},"red 1px solid"),s(t.className.valid).to.equal(!0,"className.valid"),s(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),n=t.mount("#demo"),s(t.node.style.border).to.equal("1px solid red")}),it("should set style property",function(){var t,n;return t=r({style:{border:"red 1px solid"}},"red 1px solid"),n=t.mount("#demo"),s(t.node.style.border).to.equal("1px solid red")}),it("value of property of style could be dc expression",function(){var t,n;return t=r({style:{border:function(){return"red 1px solid"}}},"red 1px solid"),n=t.mount("#demo"),s(t.node.style.border).to.equal("1px solid red")}),y("change style dynamically",function(){var t,n,e,o,u,i,a;return i=function(t){if(!t.match(/^\d/))return t;for(;t.length<6;)t="0"+t;return"#"+t},t=T("red"),o=T(u=0),n=r({style:{borderWidth:flow(o,function(){return o()+"px"}),borderStyle:"solid",borderColor:flow(t,function(){return i(t().toString(16))})}},"dynamic property"),n.mount("#demo"),t=0,a=function(){return t+=1118481,o(u++),n.render(),50===u?clearInterval(e):void 0},e=setInterval(a,5)})}),describe("domcom/properties/bind checkbox",function(){return it("bidirectional bind checkbox",function(){var t,n,e;return dc.directives({$model:dc.$model}),e={a:1},t=l(e,"a"),n=a({$model:t}),n.mount("#demo"),s(n.node.onchange).to.be.defined,n.node.checked=!0,n.node.onchange(),s(e.a).to.equal(!0)})})},/*!*****************************************!*\
  !*** ./test/mocha/test-toString.coffee ***!
  \*****************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,w,y,C,M,T,L,N,k;k=e(/*! bdd-test-helper */2),h=k.expect,b=k.iit,g=k.idescribe,C=k.nit,y=k.ndescribe,m=dc.flow,l=dc.bindings,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,u=dc.Text,N=dc.txt,w=dc.list,v=dc.func,q=dc.if_,s=dc.case_,v=dc.func,p=dc.each,d=dc.accordionGroup,c=dc.accordion,a=dc.a,M=dc.p,T=dc.span,L=dc.text,f=dc.div,describe("toString",function(){return it("should toString list of if(tag)",function(){var t,n,e,o;return o=0,t=w(e=L({onchange:function(){return o=parseInt(this.value),t.update()}},o),n=q(function(){return o},f(1),f(2))),h(t.toString()).to.match(/<List>\n  <input type="text" value=0>/)}),it("should toString  tag with props",function(){var t,n;return n=0,t=f({value:1},1),h(t.toString()).to.equal("<div value=1>1</div>")}),it("should case.toString",function(){var t;return t=s(function(){return x},{1:M(1),2:M(2),3:M(3)},"others"),h(t.toString()).to.equal('<Case renew: fn:x>\n  1: <p>1</p>\n  2: <p>2</p>\n  3: <p>3</p>\n  "others"\n</Case>')}),it("should flow.add(a_, b_).toString",function(){var t,n,e,o;return o=l({a:1,b:2}),t=o.a_,n=o.b_,e=m.add(t,n),h(e.toString()).to.equal("flow: [m[a],m[b]] --> fn:binaryFn(x(), y())")})})},/*!***********************************!*\
  !*** ./test/mocha/test-dc.coffee ***!
  \***********************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s;s=e(/*! bdd-test-helper */2),o=s.expect,u=s.iit,r=s.idescribe,c=s.nit,a=s.ndescribe,l=s.rtimeout,d=s.rinterval,i=dc.isComponent,describe("test dc",function(){return describe("dc(document)",function(){return it("dc(document) should be Component",function(){return o(!i(dc(document))).to.equal(!0)}),it("should cache DomComponent",function(){return o(dc(document)).to.equal(dc(document))}),it("dc(document).bind should be a function",function(){var t;return t=0,dc(document).bind("onclick",function(){return t=1})})})})},/*!***********************************************!*\
  !*** ./test/mocha/test-base-component.coffee ***!
  \***********************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M;M=e(/*! bdd-test-helper */2),f=M.expect,m=M.iit,h=M.idescribe,b=M.nit,g=M.ndescribe,q=M.newDemoNode,q=e(/*! ./helper */17).newDemoNode,d=dc.bindings,w=dc.see,i=dc.Tag,a=dc.Text,r=dc.List,C=dc.txt,v=dc.list,x=dc.p,s=dc.div,o=dc.Html,p=dc.html,l=dc.classFn,y=dc.styleFrom,u=dc.Nothing,c=d({a:1,b:2}).a_,describe("test base component",function(){return describe("getBaseComponent",function(){return it("should get baseComponent of List",function(){var t;return t=v([1,2]),f(t.baseComponent).to.equal(t)}),it("should have correct children",function(){var t;return t=x(0),f(t.children[0].text).to.equal(0)})}),describe("process get baseComponent of Tag",function(){return it("should getBaseComponent of two tags",function(){var t,n;return n=new i("p",{},[]),t=new i("div",{},[n]),f(t.baseComponent).to.equal(t),f(t.children[0]).to.be["instanceof"](i),t.mount(),f(t.baseComponent.baseComponent).to.equal(t)}),it("should text.valid to be true",function(){var t;return t=C(1),t.mount(),f(!!t.valid).to.equal(!0)})}),describe("process creatDom",function(){return it("should creatDom of p(1)",function(){var t;return t=x(1),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(->1)",function(){var t;return t=x(function(){return 1}),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(p(p(t=txt(->1))))",function(){var t,n;return t=x(x(x(n=C(function(){return 1})))),t.mount(),f(t.node.innerHTML).to.equal("<p><p>1</p></p>")}),it("should mount Text with text is 0",function(){var t;return t=new a(0),t.mount(),f(t.node.textContent).to.equal("0")}),it("should mount tag",function(){return x=new i("p",{},[]),x.mount(),f(x.node.tagName).to.equal("P")}),it("should mount  tag with attribute",function(){return x=new i("p",{className:l("some class"),style:y("width:1px;")},[]),x.mount(),f(x.node.className).to.equal("some class"),f(x.node.getAttribute("className")).to.equal(null)}),it("process bind as value",function(){var t;return t=new i("input",{type:"text",value:c},[new a(c)]),t.mount(),f(t.node.value).to.equal("1")}),it("tag shoud mount with multiple children ",function(){var t,n,e,o;return t=new i("p",{},[n=new a(1),e=new a(2),o=new a(3)]),f(t.children.length).to.equal(3),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("tag shoud mount with Nothing child",function(){var t,n,e,o,r;return t=new i("p",{},[n=new a(1),e=new a(2),o=new a(3),r=new u]),f(t.children.length).to.equal(4),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("should create tag with children",function(){var t;return t=new i("p",{className:l("some class"),style:y("width:1px;")},[new i("span",{},[new a("adf")])]),t.mount(),f(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t;return t=new i("p",{className:l("some class"),style:y("width:1px;")},[new i("span",{},[new a("adf")])]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount for tag with children",function(){var t;return t=new i("p",{className:l("some class"),style:y("width:1px;")},[new i("span",{},[new a("adf")]),new a(function(){})]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount list with children",function(){var t;return t=new r([new i("span",{},[new a("adf")]),new a(function(){return void 0})]),t.mount(),f(t.node[0].tagName).to.equal("SPAN")})}),describe("process Html",function(){return it("should mount html",function(){var t,n,e;return t=new o(e="<div>1</div><p>2</p>"),t.mount(n=q()),f(n.innerHTML).to.equal(e)}),it("should mount html component with transform",function(){var t,n,e;return t=new o(e="<div>1</div><p>2</p>",function(t){return t+"a"}),t.mount(n=q()),f(n.innerHTML).to.equal(e+"a")}),it("should mount html component with reative function",function(){var t,n,e,r;return r=w(e="<div>1</div><p>2</p>"),t=new o(r,function(t){return t+"a"}),t.mount(n=q()),r("x"),t.update(),f(n.innerHTML).to.equal("xa"),t.update(),f(n.innerHTML).to.equal("xa")})})})},/*!**********************************!*\
  !*** ./test/mocha/helper.coffee ***!
  \**********************************/
function(t,n){n.newDemoNode=function(t){var n;return n=document.createElement("div"),document.body.appendChild(n),t&&n.setAttribute("id",t),n}},/*!******************************************!*\
  !*** ./test/mocha/test-component.coffee ***!
  \******************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N,k,_;_=e(/*! bdd-test-helper */2),p=_.expect,q=_.iit,v=_.idescribe,C=_.nit,y=_.ndescribe,c=dc.bindings,f=dc.duplex,h=dc.flow,l=dc.classFn,L=dc.styleFrom,u=dc.Tag,i=dc.Text,r=dc.List,o=dc.Component,w=dc.list,m=dc.func,g=dc.if_,k=dc.txt,a=dc.a,M=dc.p,T=dc.span,N=dc.text,x=dc.li,s=dc.div,d=dc.button,b=dc.input,describe("component  ",function(){return describe("construct component",function(){return it("component shoud have children",function(){var t;return t=M({},[1,2]),p(t.children.length).to.equal(2)}),it("should construct component",function(){var t,n;return n=new u("p",{},[]),t=new u("div",{},[n]),p(t.children[0]).to.equal(n)}),it("tag shoud have children 1",function(){var t;return t=new u("span",{},[new i("adf")]),p(t.children[0].text).to.equal("adf")}),it("tag shoud have children 2",function(){var t,n;return n=new u("span",{},[new i("adf")]),t=new u("div",{className:l("some class"),style:L("width:1px;")},[n]),p(t.children[0]).to.equal(n)})}),describe("component.append",function(){return C("should append tag.children",function(){var t,n;return t=s(),n=M(),t.append(n),p(t.children).to.equal(n)})}),describe("component.create",function(){return it("should create tag",function(){var t;return t=M(),t.mount(),p(t.node.tagName).to.equal("P"),p(t.node.innerHTML).to.equal("")}),it("should mount tag 1",function(){var t;return t=new u("div",{},[]),t.mount(),p(t.node.tagName).to.equal("DIV")}),it("should correctly create TextNode with 0 as content",function(){var t;return t=k(0),t.mount(),p(t.node.textContent).to.equal("0")}),it("should correctly create tag with 0 as content",function(){var t;return t=M(0),t.mount(),p(t.node.innerHTML).to.equal("0")}),it("should mount Text with flow value",function(){var t,n,e,o;return o=c({a:1,b:2}),t=o.a_,n=o.b_,e=k(h.add(t,n)),e.mount("#demo"),p(e.node.textContent).to.equal("3","mount")}),it("should not run event hanlder while creating tag",function(){var t,n;return n=sinon.spy(),t=M({onclick:n}),t.mount(),p(n.called).to.equal(!1),t.node.onclick(),p(n.called).to.equal(!0)}),it("should process event name without on",function(){var t,n;return n=sinon.spy(),t=M({onclick:n}),t.mount(),p(n.called).to.equal(!1),t.node.onclick(),p(n.called).to.equal(!0)}),it("should not run event hanlder while rendering tag",function(){var t,n;return n=sinon.spy(),t=M({onclick:n}),t.mount(),p(n.called).to.equal(!1),t.node.onclick(),p(n.called).to.equal(!0)}),it("should not run event hanlder while rendering button tag",function(){var t,n;return n=sinon.spy(),t=d({id:"search-ok",type:"submit",onclick:n}),t.mount(),p(n.called).to.equal(!1),t.node.onclick(),p(n.called).to.equal(!0)}),it("should not run event hanlder while rendering div > button tag",function(){var t,n;return n=sinon.spy(),t=s(d({id:"search-ok",type:"submit",onclick:n})),t.mount(),p(n.called).to.equal(!1),t.children[0].node.onclick(),p(n.called).to.equal(!0)}),it("should create tag with attribute",function(){var t,n;return t=M({className:"some class",style:"width:1px;"},[]),t.mount(),n=t.node,p(n.className).to.equal("some class"),p(n.getAttribute("className")).to.equal(null)}),it("should process function value of text",function(){var t,n,e;return t=c({a:1}).a_,n=N(t),e=n.mount(),e=n.node,p(e.value).to.equal("1")}),it("component shoud have children 2",function(){var t;return t=T("adf"),p(t.children[0].text).to.equal("adf")}),it("should create tag with children",function(){var t,n;return t=M({className:"some class",style:"width:1px;"},n=T(["adf"])),p(t.children[0]).to.equal(n),t.mount(),p(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t,n;return t=M({className:"some class",style:"width:1px;"},[T(["adf"])]),n=t.mount("#demo"),p(t.parentNode.id).to.equal("demo"),p(t.node.parentNode.id).to.equal("demo")}),it("should mount tag with undefined as child",function(){var t;return t=M({className:"some class",style:"width:1px;"},T(["adf"]),k(function(){})),t.mount("#demo"),p(t.parentNode.id).to.equal("demo"),p(t.node.parentNode.id).to.equal("demo")}),it("should mount list with undefined as child",function(){var t,n;return t=w(T(["adf"]),k(function(){return void 0})),n=t.mount("#demo"),p(t.parentNode.id).to.equal("demo"),p(t.node[0].parentNode.id).to.equal("demo")})}),describe("component update",function(){return it("should render tag 1",function(){var t,n;return n=1,t=new u("p",{},[new i(function(){return n})]),t.mount(),p(t.node.innerHTML).to.equal("1"),++n,t.update(),p(t.node.innerHTML).to.equal("2"),++n,t.update(),p(t.node.innerHTML).to.equal("3")}),it("should update bidirectional bind",function(){var t,n;return t=c({a:1}).a$,n=new u("input",{value:t},[]),n.mount(),p(n.node.value).to.equal("1")}),it("should render tag 2",function(){var t,n,e;return n=1,t=M(k(function(){return n})),t.mount(),e=t.node,p(e.innerHTML).to.equal("1"),++n,t.update(),p(e.innerHTML).to.equal("2"),++n,t.update(),p(e.innerHTML).to.equal("3")}),it("should process text with bind",function(){var t,n,e,o;return o=c({a:1,b:2}),t=o.a_,n=o.b_,e=M(k(h.add(t,n))),e.mount("#demo"),p(e.node.innerHTML).to.equal("3","mount"),t(3),n(4),p(t()).to.equal(3,"a_"),p(n()).to.equal(4,"b_"),e.update(),p(e.node.innerHTML).to.equal("7","update")}),it("should process bidirectional bind",function(){var t,n;return t=c({a:1}).a$,n=N(t),n.mount("#demo"),p(n.node.value).to.equal("1"),n.node.value="2",n.node.onchange(),p(t()).to.equal("2")}),it("should render div(2) component",function(){var t;return t=s(2),t.mount(),p(t.node.innerHTML).to.equal("2")}),it("should execute component.unmount",function(){var t;return t=s(2),t.mount(),t.unmount()}),it("p(->12) ",function(){var t;return t=M(function(){return 12}),t.mount(),p(t.node.innerHTML).to.equal("12"),t.update(),p(t.node.innerHTML).to.equal("12"),t.update(),p(t.node.innerHTML).to.equal("12")})})})},/*!******************************************!*\
  !*** ./test/mocha/test-singleton.coffee ***!
  \******************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L;L=e(/*! bdd-test-helper */2),l=L.expect,m=L.iit,p=L.idescribe,b=L.nit,g=L.ndescribe,q=L.newDemoNode,q=e(/*! ./helper */17).newDemoNode,y=dc.see,s=dc.flow,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,u=dc.Text,T=dc.txt,v=dc.list,f=dc.func,h=dc.if_,c=dc.case_,f=dc.func,w=dc.pick,a=dc.a,x=dc.p,C=dc.span,M=dc.text,d=dc.div,describe("singleton component: If, Case, Func, Pick, ...",function(){return describe("If",function(){return it("should optimize if_",function(){var t,n;return t=T(1),n=0,l(h(function(){return n},t,t)).to.equal(t),l(h(0,1,t)).to.equal(t),l(h(1,t,0)).to.equal(t)}),it("should compute if_((-> x), p(t), t).family",function(){var t,n;return t=T(1),n=0,l(h(function(){return n},x(t),t).family[t.dcid]).to.equal(!0)}),it("should construct if_(x, p(t1), list(p(t2), t1))",function(){var t,n,e,o;return o=y(0),n=T(1),e=T(2),t=h(o,x(n),v(e,x(n)))}),it("should render if_(see something, txt(1), txt(2))",function(){var t,n;return n=y(0),t=h(n,T(1),T(2)),t.mount(),l(t.node.textContent).to.equal("2","mount"),t.update(),l(t.node.textContent).to.equal("2","update"),n(1),t.update(),l(t.node.textContent).to.equal("1","update x 1"),n(0),t.update(),l(t.node.textContent).to.equal("2","update x 0")}),it("should render if_(x, list(t1, t2), list(t2, t1))",function(){var t,n,e,o,r;return r=y(0),e=T(1),o=T(2),t=h(r,v(e,o),v(o,e)),t.mount(n=q("if-ref")),l(t.node[0].textContent).to.equal("2","mount"),l(n.innerHTML).to.equal("21","mount"),r(1),t.update(),l(t.node[0].textContent).to.equal("1","update x 1"),l(n.innerHTML).to.equal("12","mount")}),it("should render if_(x, list(t2, t1), t1)",function(){var t,n,e,o,r,u;return u=y(1),o=T(1),r=T(2),t=h(u,e=v(r,o),o),t.mount(n=q("if-ref")),l(n.innerHTML).to.equal("21","mount"),u(0),t.update(),l(n.innerHTML).to.equal("1")}),it("should render if_(x, t1, list(t2, t1))",function(){var t,n,e,o,r,u;return u=y(0),o=T(1),r=T(2),t=h(u,o,e=v(r,o)),t.mount(n=q("if-ref")),l(n.innerHTML).to.equal("21","mount"),t.update(),l(n.innerHTML).to.equal("21","update"),u(1),t.update(),l(n.innerHTML).to.equal("1","update x 1"),u(0),t.update(),l(n.innerHTML).to.equal("21","update x 0")}),it("should render if_(x, p(t1), list(p(t2), t1))",function(){var t,n,e,o,r,u;return u=y(0),o=T(1),r=T(2),t=h(u,e=x(o),v(x(r),o)),t.mount(n=q("if-ref")),l(n.innerHTML).to.equal("<p>2</p>1","mount"),u(1),t.update(),l(n.innerHTML).to.equal("<p>1</p>","update x 1"),u(0),t.update(),l(n.innerHTML).to.equal("<p>2</p>1","update x 0"),u(1),t.update(),l(n.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), div(t2))",function(){var t,n,e,o;return o=y(0),e=T(1),t=h(o,x(e),d(e)),t.mount(n=q("if-ref")),l(n.innerHTML).to.equal("<div>1</div>","mount"),o(1),t.update(),l(n.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),t.update(),l(n.innerHTML).to.equal("<div>1</div>","update x 0"),o(1),t.update(),l(n.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render p(if_(x, p(t1), list(p(t2), t1)))",function(){var t,n,e,o,r,u;return u=y(0),o=T(1),r=T(2),t=x(n=h(u,e=x(o),v(x(r),o))),t.mount(),l(t.node.innerHTML).to.equal("<p>2</p>1","mount"),t.update(),l(t.node.innerHTML).to.equal("<p>2</p>1","update"),u(1),t.update(),l(t.node.innerHTML).to.equal("<p>1</p>","update x 1"),u(0),t.update(),l(t.node.innerHTML).to.equal("<p>2</p>1","update x 0"),u(1),t.update(),l(t.node.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), p list(p(t2), t1))",function(){var t,n,e,o,r,u;return u=y(0),o=T(1),r=T(2),t=h(u,n=x(o),e=x(v(x(r),o))),t.mount(),l(e.node.innerHTML).to.equal("<p>2</p>1","mount"),u(1),t.render(),l(t.node.innerHTML).to.equal("1","update x 1"),u(0),t.render(),l(e.node.innerHTML).to.equal("<p>2</p>1","mount")}),it("should render if_(x, div(1), div(2))",function(){var t,n;return n=y(0),t=h(n,d(1),d(2)),t.mount(),l(t.node.tagName).to.equal("DIV","tagName"),l(t.node.innerHTML).to.equal("2","mount"),n(1),t.update(),l(t.node.innerHTML).to.equal("1","first update"),n(0),t.update(),l(t.node.innerHTML).to.equal("2","second update")}),it("should create and update if_ with attrs",function(){var t,n,e,o;return o=y(0),e=h({"class":"main",fakeProp:o},o,t=x(1),n=x(2)),l(e).to.be["instanceof"](r),l(e.hasActiveProperties).to.equal(!0,"hasActiveProperties before mounting"),e.mount(),l(e.node.tagName).to.equal("DIV"),l(e.node.fakeProp).to.equal(0,"mount fakeProp"),l(e.node.childNodes[0].innerHTML).to.equal("2","mount innerHTML"),l(e.node.childNodes[0].tagName).to.equal("P","mount C1 tagName"),l(e.hasActiveProperties).to.equal(!1,"hasActiveProperties after mounting"),o(1),l(e.props.fakeProp).to.equal(o,"see invalidate fakeProp"),l(e.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e.update(),l(e.node.fakeProp).to.equal(1,"update fakeProp"),l(e.node.childNodes[0].innerHTML).to.equal("1","update innerHTML"),l(e.node.childNodes[0]).to.equal(t.node)}),it("should create and render if followed by other node ",function(){var t,n,e,o,r,u,i;return n=document.getElementById("demo2"),n.innerHTML="",i=y(0),t=v(u=h(i,e=x(1),o=x(2)),r=x(3)),t.mount(n),l(u.node.innerHTML).to.equal("2"),l(n.innerHTML).to.equal("<p>2</p><p>3</p>"),i(1),t.update(),l(u.node.innerHTML).to.equal("1","pif update"),l(n.innerHTML).to.equal("<p>1</p><p>3</p>","demo2Node update"),l(t.node[0].innerHTML).to.equal("1","comp update")}),it("should create and render embedded if",function(){var t,n,e,o,r;return r=y(0),o=v(M(r),t=h(r,n=d(1),e=d(2))),o.mount(),l(o.parentNode).to.equal(document.body),l(o.node[1].innerHTML).to.equal("2"),l(t.parentNode).to.equal(o.parentNode),r(1),o.update(),l(t.parentNode).to.equal(o.parentNode),l(t.node.innerHTML).to.equal("1"),l(e.node.innerHTML).to.equal("2"),l(t.node).to.equal(n.node),l(o.node[1]).to.equal(n.node)}),it("should process event in embedded if 2",function(){var t,n,e,o;return o=y(0),t=v(e=M({onchange:function(){return o(parseInt(this.value)),t.update()}},o),n=h(o,d(1),d(2))),t.mount(),l(n.node.innerHTML).to.equal("2"),e.node.value=1,e.node.onchange(),l(n.node.innerHTML).to.equal("1"),e.node.value=0,e.node.onchange(),l(n.node.innerHTML).to.equal("2")}),it("should process embedded if 2",function(){var t,n,e,o;return o=y(0),t=v(e=M(o),n=h(o,d(1),d(2))),t.mount(),l(n.node.innerHTML).to.equal("2"),o(1),t.update(),l(n.node.innerHTML).to.equal("1"),o(0),t.update(),l(n.node.innerHTML).to.equal("2")}),it("should process two list with same children",function(){var t,n,e,o,r,u,i;return i=y(1),e=T(1),o=T(2),r=T(3),u=T(4),t=h(i,v(e,o,r,u),v(u,e,o,r)),t.mount(n=q("list")),l(n.innerHTML).to.equal("1234"),i(0),t.update(),l(n.innerHTML).to.equal("4123"),i(1),t.update(),l(n.innerHTML).to.equal("1234")})}),describe("Case",function(){return it("should create and render case_",function(){var t,n;return n=y(0),t=c(n,{1:x(1),2:x(2),3:x(3)},"others"),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("others"),n(1),t.update(),l(t.node.innerHTML).to.equal("1")})}),describe("Func",function(){return it("func(->12) ",function(){var t;return t=f(function(){return 12}),t.mount(),l(t.node.textContent).to.equal("12"),t.update(),l(t.node.textContent).to.equal("12"),t.update(),l(t.node.textContent).to.equal("12")}),it("p(-> a))",function(){var t;return a=y(1),t=x(a),t.mount(),a(2),t.update(),l(t.node.innerHTML).to.equal("2","update a 2"),a(3),t.update(),a(4),t.update(),l(t.node.innerHTML).to.equal("4","update a 4")}),it("should  create func component",function(){var t,n;return n=y(1),t=f(n),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("1")}),it("should create and  render func",function(){var t,n;return n=y(0),t=f(s(n,function(){return{1:x(1),2:x(2),3:x(3)}[n()]||"others"})),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("others"),n(1),t.update(),l(t.node.innerHTML).to.equal("1"),n(2),t.update(),l(t.node.innerHTML).to.equal("2")}),it("should create and update func with  attrs",function(){var t,n;return n=y(1),t=f({"class":"main",fakeProp:n},n),t.mount(),l(t.node.tagName).to.equal("DIV"),l(t.node.fakeProp).to.equal(1),l(t.node).to.be["instanceof"](Element),l(t.node.childNodes[0].textContent).to.equal("1"),n(2),t.update(),l(t.node.fakeProp).to.equal(2),l(t.node.childNodes[0].textContent).to.equal("2")}),it("should process tag with function",function(){var t;return t=x(T(function(){return 1})),l(t.children[0]).to.be["instanceof"](u),t.mount(),l(t.node.innerHTML).to.equal("1")}),it("should create and update func with a closure variable",function(){var t,n;return n=y(1),t=f(function(){return T(n)}),t.mount(),l(t.node.textContent).to.equal("1"),n(2),t.update(),l(t.node.textContent).to.equal("2")})}),describe("Pick",function(){return it("pick(host)",function(){var t,n,e;return n={content:1},t=w(n),e=0,t.onSetContent=function(t){return e="called"},t.mount(),l(t.node.textContent).to.equal("1"),n.content=2,l(e).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "content", 1) by setContent',function(){var t,n,e;return n={content:1},t=w(n),e=0,t.onSetContent=function(t){return e="called"},t.mount(),l(t.node.textContent).to.equal("1"),t.setContent(2),l(e).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1)',function(){var t,n,e;return n={},t=w(n,"activeContent",1),e=0,t.onSetContent=function(t){return e="called"},t.mount(),l(t.node.textContent).to.equal("1"),n.activeContent=2,l(e).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1) by setContent',function(){var t,n,e;return n={},t=w(n,"activeContent",1),e=0,t.onSetContent=function(t){return e="called"},t.mount(),l(t.node.textContent).to.equal("1"),t.setContent(2),l(e).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")})})})},/*!**************************************!*\
  !*** ./test/mocha/test-group.coffee ***!
  \**************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N,k,_,H,P,S,I,$;$=e(/*! bdd-test-helper */2),g=$.expect,w=$.iit,b=$.idescribe,N=$.nit,T=$.ndescribe,L=$.newDemoNode,L=e(/*! ./helper */17).newDemoNode,y=dc.isComponent,o=dc.Component,a=dc.TransformComponent,u=dc.Tag,i=dc.Text,I=dc.txt,C=dc.list,r=dc.List,q=dc.func,x=dc.if_,p=dc.case_,q=dc.func,m=dc.each,l=dc.accordionGroup,d=dc.accordion,c=dc.a,k=dc.p,P=dc.span,S=dc.text,h=dc.div,s=dc.all,v=dc.every,M=dc.nItems,f=dc.bind,_=dc.pour,H=dc.see,describe("group component: List, Each",function(){return describe("List",function(){return it("all of item in list should be  component",function(){var t;return t=C([1,2]),g(!!y(t.children[0])).to.equal(!0)}),it("should create list component",function(){var t;return t=C([P(["adf"])]),t.mount(),g(t.node[0].tagName).to.equal("SPAN")}),it("component list should have length",function(){var t;return t=C([1,2]),g(t.children.length).to.equal(2)}),it("list can be constructructed  from mulitple argumnents",function(){var t;return t=C(1,2),g(t.children.length).to.equal(2)}),it("should create list",function(){var t;return t=C(1,2),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2")}),it("should create list with attrs",function(){var t,n;return n=2,t=C({"class":"main",fakeProp:function(){return n}},1,I(function(){return n})),t.mount(),g(t.node.tagName).to.equal("DIV"),g(t.node.childNodes[0].textContent).to.equal("1"),g(t.node.childNodes[1].textContent).to.equal("2"),n=3,t.update(),g(t.node.fakeProp).to.equal(3),g(t.node.childNodes[1].textContent).to.equal("3","textContent update")}),it("list(txt(->12))",function(){var t;return t=C(I(function(){return 12})),t.mount(),g(t.node.textContent).to.equal("12")}),it("list setChildren after mounting",function(){var t;return t=new r([I(1)]),t.mount(),g(t.node[0].textContent).to.equal("1"),g(function(){var n;return t.setChildren(1,n=I(2))}).not.to["throw"]()}),it("list setChildren: similar to splitter",function(){var t,n,e;return t=new r([I(1),e=I(3)]),t.setChildren(1,n=I(2),e),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2"),g(t.node[2].textContent).to.equal("3")}),it("list(p(txt(->12))) ",function(){var t;return t=C(k(I(function(){return 12}))),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(p(->12)) ",function(){var t;return t=C(k(function(){return 12})),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(txt(1)) ",function(){var t,n;return t=new r([I(1)]),t.mount(n=L("list")),t.update(),t.setLength(0),t.update(),g(n.innerHTML).to.equal("")}),it("list(txt(1), txt(2), txt(3)) and move child",function(){var t,n,e,o;return t=C(e=I(1),o=I(2),o=I(3)),t.mount(n=L("list")),g(n.innerHTML).to.equal("123"),t.removeChild(0),t.pushChild(e),t.renderDom(),g(n.innerHTML).to.equal("231")})}),describe("every, all, nItems",function(){return it("every ",function(){var t,n;return t=v([1,2],function(t){return t}),t.mount(n=L("list")),t.update(),g(t.node.length).to.equal(2)}),it("all ",function(){var t,n;return t=s({a:1,b:2},function(t,n){return C(t,n)}),t.mount(n=L("list")),t.update(),g(t.node.length).to.equal(2)}),it("nItems ",function(){var t,n;return t=M(2,function(t){return t}),t.mount(n=L("list")),t.update(),g(t.node.length).to.equal(2)})}),describe("Each",function(){return it("should create empty each component",function(){var t,n;return t=m(n=[],function(t,n){return k(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(0),t.update(),g(t.node.length).to.equal(0)}),it("should create each component with single item",function(){var t,n;return t=m(n=[1],function(t,n){return k(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1"),t.update(),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1")}),it("should set childrenNextNode correctly",function(){var t,n,e;return e=[1,2],t=C(n=m(e,function(t){return k(t)}),"some other thing"),t.mount(),g(n.listComponent.childrenNextNode).to.equal(t.node[1]),e.push(3),t.render(),g(n.listComponent.children[2].nextNode).to.equal(t.node[1])}),it("should create each component with two item",function(){var t,n;return t=m(n=["each","simple"],function(t,n){return k(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node[0]).to.be["instanceof"](Element),g(t.node[1].innerHTML).to.equal("simple")}),it("should mount and render each component",function(){var t,n,e;return document.getElementById("demo").innerHTML="",t=m(e=["each","simple"],function(t,n){return k(t)}),t.mount(n=L("each")),g(t.node[0].innerHTML).to.equal("each"),g(t.node[1].innerHTML).to.equal("simple"),e.setItem(0,3),t.update(),g(t.node[0].innerHTML).to.equal("3","update node 0"),e.setItem(1,4),t.update(),g(t.node[1].innerHTML).to.equal("4","update node 1"),g(n.innerHTML).to.equal("<p>3</p><p>4</p>","update innerHTML"),e.setItem(2,5),t.update(),g(t.node[2].innerHTML).to.equal("5","update list[2] = 5"),e.setLength(0),t.update(),g(t.listComponent.children.length).to.equal(0,"comp.listComponent.children.length = 0"),g(t.node.length).to.equal(0,"node.length")}),it("should process binding on item",function(){var t,n;return document.getElementById("demo").innerHTML="",t=m(n=[{text:"a"},{text:"b"}],function(t,n){return k(I(f(t,"text")))}),t.mount("#demo"),g(t.node[0].textContent).to.equal("a"),g(t.node[1].textContent).to.equal("b"),n[0].text="c",t.update(),g(t.node[0].textContent).to.equal("c","update c"),n[1].text="d",t.update(),g(t.node[1].textContent).to.equal("d","update d"),n.setItem(2,{text:"e"}),t.update(),g(t.node[2].textContent).to.equal("e"),n.setLength(0),t.update(),g(t.node.length).to.equal(0)}),it("should process items in template function",function(){var t,n;return t=m(n=["a","b"],function(t,n,e,o){return k(I(function(){return e[n]}))}),t.mount(),n.setItem(0,"c"),t.update(),g(t.node[0].textContent).to.equal("c")}),it("should process tag with each",function(){var t,n,e,o;return o=1,e=null,t=new u("div",{},[n=m([1],_(function(t){return e=I(o)}))]),t.mount(),g(t.node.innerHTML).to.equal("1"),o=2,t.update(),g(e.node.textContent).to.equal("2","update, 2"),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should create and update renew function as list of Each",function(){var t,n;return n=1,t=m(function(){return[n]},function(t){return I(t)}),t.mount(),g(t.node[0].textContent).to.equal("1"),n=2,t.update(),g(t.node[0].textContent).to.equal("2","update 2")}),it("should create and update deeper embedded each",function(){var t,n,e,o;return o=1,t=h({},e=new u("span",{},[n=m(function(){return[o]},function(t){return I(t)})])),t.mount(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("1"),o=2,t.update(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<span>2</span>")}),it("should create and update each where item return a closure variable",function(){var t,n;return n=H(1),t=m([1],function(){return I(n)}),t.mount(),g(t.node[0].textContent).to.equal("1"),n(2),t.update(),g(t.node[0].textContent).to.equal("2")}),it("should create and update embedded each where item return a closure variable",function(){var t,n,e;return e=H(1),t=new u("span",{},[n=m([1],function(t){return I(e)})]),t.mount(),g(n.listComponent.parentNode).to.equal(t.node),g(n.node[0].textContent).to.equal("1"),e(2),t.update(),g(n.listComponent.parentNode).to.equal(t.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should create and update embedded each in 3 layer",function(){var t,n,e,o;return o=H(1),t=h({},h({},e=new u("span",{},[n=m([1],function(t){return I(o)})]))),t.mount(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("1"),o(2),t.update(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should create and update embedded each in 3  layer",function(){var t,n,e,o;return o=1,t=h({},h({},e=new u("span",{},[n=m(function(){return[o]},function(t){return I(t)})]))),t.mount(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("1"),o=2,t.update(),g(n.listComponent.parentNode).to.equal(e.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should process each with function as items",function(){var t,n,e;return e=1,n=null,t=m(function(){return[e]},function(t){return t}),t.mount(),g(t.node[0].textContent).to.equal("1"),e=2,t.render(),g(t.node[0].textContent).to.equal("2","after x = 2")}),it("should process each under each and with function as items",function(){var t,n,e,o;return o=1,e=null,t=h({},n=m([1],function(){return e=m(function(){return[o]},function(t){return t})})),t.mount(),g(n.listComponent.parentNode).to.equal(t.node),g(n.node[0][0].textContent).to.equal("1"),g(e.node[0].textContent).to.equal("1"),o=2,t.render(),g(n.listComponent.parentNode).to.equal(t.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2","after x = 2")}),it("should mount and update each",function(){var t;return t=new u("span",{},[m([1],function(t){return I(1)})]),t.mount(),g(t.node.innerHTML).to.equal("1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should push and setLength of each",function(){var t,n;return n=[1,2,3,4,5,6],t=m(n,function(t){return I(t)}),t.mount(),n.push(7),t.update(),g(t.node.length).to.equal(7,"push 7"),n.setLength(4),t.update(),g(t.node.length).to.equal(4,"setLength 4")}),it("should update each with component as the item of list 1",function(){var t,n;return t=m([I(1)],function(t){return t}),t.mount(),g(t.node[0].textContent).to.equal(n="1"),t.update(),g(t.node[0].textContent).to.equal("1")}),it("should update each with component as the item of list 2",function(){var t,n;return t=h(m([I(1)],function(t){return t})),t.mount(),g(t.node.innerHTML).to.equal(n="1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should update each with component as the item of list 3",function(){var t,n;return t=h(h(m([I(1)],function(t){return t}))),t.mount(),g(t.node.innerHTML).to.equal(n="<div>1</div>"),t.update(),g(t.node.innerHTML).to.equal("<div>1</div>")}),it("should always attach and detach each in multiple iteration",function(){var t,n,e;return e=H(!0),n=[1,2],t=x(e,m(n,function(t){return h(t)})),t.mount(),e(!1),t.render(),e(!0),t.render(),g(t.node.parentNode).to.equal(document.body),e(!1),t.render(),g(t.node.parentNode).not.to.equal(document.body)})})})},/*!******************************************!*\
  !*** ./test/mocha/test-ref-clone.coffee ***!
  \******************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T;T=e(/*! bdd-test-helper */2),f=T.expect,v=T.iit,h=T.idescribe,b=T.nit,q=T.ndescribe,w=dc.see,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,u=dc.Text,M=dc.txt,g=dc.list,p=dc.func,m=dc.if_,c=dc.case_,p=dc.func,s=dc.each,d=dc.clone,a=dc.a,x=dc.p,y=dc.span,C=dc.text,l=dc.div,describe("Component.refs, clone",function(){return describe("refs",function(){return it("should throw error while constucting conflicted component list(t, t))",function(){var t;return t=M(1),f(function(){return g(t,t)}).to["throw"](Error)}),it("should throw error while constucting conflicted component list(t, p(t)))",function(){var t;return t=M(1),f(function(){return g(t,x(t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(1, t, 0))",function(){var t;return t=M(1),f(function(){return g(x(t),m(1,t,0))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(0, 2, t))",function(){var t;return t=M(1),f(function(){return g(x(t),m(0,2,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, t, t))",function(){var t,n;return t=M(1),n=0,f(function(){return g(x(t),m(function(){return n},t,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, p(t), t))",function(){var t,n;return t=M(1),n=0,f(function(){return g(x(t),m(function(){return n},x(t),t))}).to["throw"](Error)}),it("should getBaseComponent of if_((-> x), t=txt(1), t)",function(){var t,n,e;return e=w(0),t=m(e,n=M(1),n),t.mount(),t.update()})}),describe("Clone",function(){return it("should not clone node event handler",function(){var t,n;return t=document.createElement("p"),t.value=1,t.fakeProp=2,t.onclick=function(){},n=t.cloneNode(),f(n.onclick).to.equal(null),f(n.value).to.equal(void 0),f(n.fakeProp).to.equal(void 0)}),it("should clone TextNode",function(){var t,n;return t=document.createTextNode("afd"),t.value=1,t.fakeProp=2,t.onclick=function(){},n=t.cloneNode(),f(n.onclick).to.equal(void 0),f(n.textContent).to.equal("afd"),f(n.value).to.equal(void 0),f(n.fakeProp).to.equal(void 0)}),it("should process text clone component ",function(){var t,n;return t=g(n=M(1),d(n)),t.mount("#demo"),t.update(),f(t.node[1].textContent).to.equal("1")}),it("should process tag clone component ",function(){var t,n,e;return e=g(t=x(1),n=d(t)),e.mount("#demo"),e.update(),f(e.node[1].innerHTML).to.equal("1")}),it("should process if_ clone component ",function(){var t,n,e,o,r;return r=w(0),o=g(t=x(2),n=d(t)),e=m(r,t=x(3),o),e.mount("#demo"),r(1),e.update(),f(e.node.innerHTML).to.equal("3")})})})},/*!******************************************!*\
  !*** ./test/mocha/test-accordion.coffee ***!
  \******************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T;T=e(/*! bdd-test-helper */2),p=T.expect,g=T.iit,m=T.idescribe,x=T.nit,b=T.ndescribe,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,u=dc.Text,M=dc.txt,q=dc.list,h=dc.func,v=dc.if_,l=dc.case_,h=dc.func,f=dc.each,d=dc.accordionGroup,c=dc.accordion,a=dc.a,w=dc.p,y=dc.span,C=dc.text,s=dc.div,describe("accordion",function(){return it("should update accordionGroup",function(){var t,n;return t=d({},"group head",f([1],function(t){return M(1)}),{}),t.mount(),p(t.node.innerHTML).to.equal(n='<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div>'),t.update(),p(t.node.innerHTML).to.equal(n)}),it("should update accordion group 2",function(){var t;return t=d({},"group head",new r("span",{},[f([1],function(t){return M(1)})]),{}),t.mount(),p(t.node.innerHTML).to.equal('<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div>')}),it("should mount accordion",function(){var t;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return M(1)})]),{}]],{}),t.mount(),p(t.node.innerHTML).to.equal('<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>')}),it("should update accordion",function(){var t,n;return t=c({},[[{},"group head",M(1),{}]],{}),t.mount(),p(t.node.innerHTML).to.equal(n='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div></div>'),t.update(),p(t.node.innerHTML).to.equal(n)}),it("should update accordion 2",function(){var t,n;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return M(1)})]),{}]],{}),t.mount(),p(t.node.innerHTML).to.equal(n='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>'),t.update(),p(t.node.innerHTML).to.equal(n)})})},/*!************************************************!*\
  !*** ./test/mocha/test-component-event.coffee ***!
  \************************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N,k,_,H;H=e(/*! bdd-test-helper */2),f=H.expect,v=H.iit,h=H.idescribe,y=H.nit,w=H.ndescribe,s=dc.duplex,M=dc.see,d=dc.classFn,N=dc.styleFrom,x=dc.model,T=dc.show,u=dc.Tag,i=dc.Text,r=dc.List,o=dc.Component,b=dc.list,p=dc.func,m=dc.if_,_=dc.txt,a=dc.a,C=dc.p,L=dc.span,k=dc.text,q=dc.li,l=dc.div,c=dc.button,g=dc.input,describe("component event",function(){return describe("beforeMount",function(){return it("component shoud call listeners before mounting",function(){var t,n;return n=0,t=C(),t.on("beforeMount",function(){return n=1}),t.mount(),f(n).to.equal(1)}),it("component shoud call listeners before mounting if_",function(){var t,n;return n=0,t=m(1,2,3),t.on("beforeMount",function(){return n=1}),t.mount(),f(n).to.equal(1)}),it("component shoud call then_.listeners before updating if_",function(){var t,n,e;return e=M(0),t=m(e,n=_(1),_(2)),n.on("beforeMount",function(){return e(1)}),t.mount(),f(e()).to.equal(0),e(1),t.update(),f(e()).to.equal(1)}),it("component shoud not call embeded listeners before updating if_",function(){var t,n,e;return e=M(0),t=m(e,C(n=_(1)),_(2)),n.on("beforeMount",function(){return e(1)}),t.mount(),f(e()).to.equal(0),e(1),t.update(),f(e()).to.equal(1)})}),describe("afterUnmount callback",function(){return it("component shoud call listeners after mounting",function(){var t,n;return n=M(0),t=C(),t.on("beforeMount",function(){return n(1)}),t.on("afterUnmount",function(){return n(2)}),t.mount(),f(n()).to.equal(1),t.unmount(),f(n()).to.equal(2)}),it("component shoud call listeners before mounting if_",function(){var t,n,e;return n=0,e=0,t=m(1,2,3),t.on("beforeMount",function(){return n=1}),t.on("afterMount",function(){return e=2}),t.mount(),f(n).to.equal(1),t.unmount(),f(e).to.equal(2)}),it('component shoud NOT call then_.listeners["beforeMount"] before updating if_',function(){var t,n,e,o,r;return o=M(0),r=0,t=m(o,n=_(1),e=_(2)),n.on("beforeMount",function(){return o(1)}),e.on("afterUnmount",function(){return r=2}),t.mount(),f(o()).to.equal(0,"mount"),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)}),it("component shoud NOT call embeded mountCallback before updating if_",function(){var t,n,e,o,r;return o=M(0),r=0,t=m(o,C(n=_(1)),C(e=_(2))),n.on("beforeMount",function(){return o(1)}),e.on("afterMount",function(){return r=2}),t.mount(),f(o()).to.equal(0),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)})})})},/*!**************************************!*\
  !*** ./test/mocha/test-route.coffee ***!
  \**************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m;m=e(/*! bdd-test-helper */2),r=m.expect,i=m.iit,u=m.idescribe,d=m.nit,c=m.ndescribe,s=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]*))+$/,l=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]+))/,p=/(?:\\\/)|(?:\\\()|(?:\\\))/,a=dc.isComponent,f=dc.route,h=dc.txt,o=dc.Nothing,describe("route",function(){return describe("route regexp",function(){return it("should match paramName pattern",function(){var t;return t={},f._processPiecePatterns(":dsaf",t),r(t.dsaf).to.equal(!0,":dsaf"),f._processPiecePatterns(":$",t),r(t.$).to.equal(!0,":$"),f._processPiecePatterns(":_",t),r(t._).to.equal(!0,":_")}),it("should match cureved re",function(){var t,n;return t={},n=f._processPiecePatterns("(fd+=.)",t,2),r(n[0][0].key).to.equal(2,"(fd+=.)"),r(n[1]).to.equal(3,"(fd+=.)")}),it("should match param and string",function(){var t,n;return t={},n=f._processPiecePatterns(":a(dsaf)asdfj",t,2),r(n[0][0].key).to.equal("a"),r(n[1]).to.equal(2,"(fd+=.)")}),it("should match param and string 2",function(){var t,n;return t={},n=f._processPiecePatterns(":abc_$(dsaf)asdfj(&*^)+_",t,2),r(n[0][0].key).to.equal("abc_$"),r(n[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,n;return t={},n=f._processPiecePatterns("_):_$a(dsaf)asdfj(&*^)+_",t,2),r(n[0][1].key).to.equal("_$a"),r(n[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,n;return t={},n=f._processPiecePatterns("_):_$a(dsaf):b:c-asdfj(&*^)+_",t,2),r(n[0][1].key).to.equal("_$a"),r(n[1]).to.equal(3,"(fd+=.)")}),it("should throw while wrong paramName pattern",function(){return r(function(){var t;return f._processPiecePatterns(":",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 1",function(){return r(function(){var t;return f._processPiecePatterns(":+",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 2",function(){return r(function(){var t;return f._processPiecePatterns("(dfj()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 3",function(){return r(function(){var t;return f._processPiecePatterns("()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 4",function(){return r(function(){var t;return f._processPiecePatterns(":(dsaf)",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 5",function(){return r(function(){var t;return f._processPiecePatterns("(",t={})}).to["throw"]()})}),describe("test private function",function(){return it("should _getRoutePattern",function(){var t;return t=f._getRoutePattern("a/"),r(t.endSlash).to.equal(!0)}),it("should _processPatternRouteItem",function(){var t;return t=f._processRouteItem([{absolute:!0,segmentPatterns:[],baseIndex:0},function(){return 1}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)}),it("should _getRoutePattern and _processPatternRouteItem",function(){var t;return t=f._processRouteItem([f._getRoutePattern(""),function(){return h(1)}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)})}),describe("process route",function(){return it("should route 'a'",function(){var t,n;return t=f("a",function(){return 1}),t.getPath=function(){return"a"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal(1)}),it("should route 'a/b' on path 'a'",function(){var t,n;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a/' on path 'a'",function(){var t,n;return t=f("a/",function(){return 1}),t.getPath=function(){return"a"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a' on path 'a/'",function(){var t,n;return t=f("a",function(){return 1}),t.getPath=function(){return"a/"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route '*' on path 'a'",function(){var t,n;return t=f("*",function(t){return t.segments[0]}),t.getPath=function(){return"a"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal("a")}),it("should route '(w+)' on path 'a'",function(){var t,n;return t=f("(\\w+)",function(t){return t.items[0]}),t.getPath=function(){return"a"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.children[0].text).to.equal("a")}),it("should not route '*' on path 'a/'",function(){var t,n;return t=f("*",function(t){return 1}),t.getPath=function(){return"a/"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route '*/' on path 'a'",function(){var t,n;return t=f("*/",function(){return 1}),t.getPath=function(){return"a"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route 'a/b'",function(){var t,n;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal(1)}),it("should route multi item",function(){var t,n;return t=f("a/1",function(){return 1},"a/2",function(){return 2}),t.getPath=function(){return"a/2"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal(2)}),it("should route multi item with otherwise",function(){var t,n;return t=f("a/1",function(){return 1},"a/2",function(){return 2},h("otherwise")),t.getPath=function(){return"a/otherwise"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal("otherwise")}),it("should route 'a/**' on path a/b",function(){var t,n;return t=f("a/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal(1)}),it("should route 'a/*/**' on path a/b",function(){var t,n;return t=f("a/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(n=t.getContentComponent())).to.equal(!0),r(n.text).to.equal(1)}),it("should route 'a/*/*/**' on path a/b",function(){var t,n;return t=f("a/*/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r((n=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route embedding route",function(){var t,n,e;return t=f("a/**",function(t,n){return n("b",function(){return 2})}),t.getPath=function(){return"a/b"},e=t.getContentComponent(),e.getPath=function(){return"a/b"},n=e.getContentComponent(),r(!!n).to.equal(!0),r(n.text).to.equal(2)})}),describe("multiple level route",function(){var t;return t=f("a/*/**",function(t,n){return n(1,function(){return 1},2,function(){return 2},3,function(){return 3},{otherwise:"otherwise 2"})},"b/**",function(){return"b/**"},{otherwise:"otherwise 1"}),it("should route a/b/3",function(){var n,e;return t.getPath=function(){return"a/b/3"},e=t.getContentComponent(),e.getPath=function(){return"a/b/3"},n=e.getContentComponent(),r(!!n).to.equal(!0),r(n.text).to.equal(3)}),it("should route b/2",function(){var n;return t.getPath=function(){return"b/2"},n=t.getContentComponent(),r(!!n).to.equal(!0),r(n.text).to.equal("b/**")}),it("should route not-found",function(){var n;return t.getPath=function(){return"not-found"},n=t.getContentComponent(),r(!!n).to.equal(!0),r(n.text).to.equal("otherwise 1")}),it("should route a/b/no-entry",function(){var n,e;return t.getPath=function(){return"a/b/no-entry"},e=t.getContentComponent(),e.getPath=function(){return"a/b/no-entry"},n=e.getContentComponent(),r(!!n).to.equal(!0),r(n.text).to.equal("otherwise 2")})}),describe("process route.to",function(){return it("should route.to",function(){return r(f._navigateTo("a/b/c","../x",2)).to.equal("a/x"),r(f._navigateTo("a/b/c","f",2)).to.equal("a/b/f"),r(f._navigateTo("a/b/c","/f",2)).to.equal("f"),r(f._navigateTo("a/b/c","/f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","./f/",2)).to.equal("a/b/f/")}),it("should route.to 2",function(){return r(f._navigateTo("a/b/c","../../f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","../../../f/",2)).to.equal("f/")})})})},/*!*****************************************!*\
  !*** ./test/mocha/test-for-demo.coffee ***!
  \*****************************************/
function(t,n,e){var o,r,u,i,a,c,d,l,s,f,p,h,m,v,g,q,b,x,w,y,C,M,T,L,N,k,_,H,P,S,I;I=e(/*! bdd-test-helper */2),m=I.expect,w=I.iit,b=I.idescribe,L=I.nit,T=I.ndescribe,c=dc.bindings,p=dc.duplex,g=dc.flow,k=dc.see,l=dc.classFn,H=dc.styleFrom,v=dc.extendAttrs,u=dc.Tag,i=dc.Text,r=dc.List,o=dc.Component,M=dc.list,q=dc.func,x=dc.if_,S=dc.txt,a=dc.a,N=dc.p,_=dc.span,P=dc.text,C=dc.li,f=dc.div,d=dc.button,y=dc.input,h=dc.each,s=e(/*! domcom/demo/demo-controls */26),describe("demo",function(){return describe("sum",function(){return it("should construct and create components",function(){var t,n,e,o,r,u,i,a,d,l;return l=c({a:3,b:2}),t=l.a$,e=l.b$,n=l.a_,o=l.b_,i=P(t),a=P(e),d=N(S(u=g.add(n,o))),m(u()).to.equal(5,"sum 1"),n(1),m(u()).to.equal(3,"sum 2"),r=M(i,a,d),r.mount("#demo"),m(d.node.innerHTML).to.equal("3","mount"),i.node.value="3",a.node.value="4",i.node.onchange(),a.node.onchange(),m(n()).to.equal("3","a_"),m(o()).to.equal("4","b_"),m(u()).to.equal("34","sum"),m(!!r.valid).to.equal(!1,"comp.valid"),m(!!d.valid).to.equal(!1,"z.valid"),r.update(),m(d.node.innerHTML).to.equal("34","update")})}),describe("combobox",function(){return it("should process event property of child component",function(){var t,n,e;return e=0,n=f({},t=y({onmouseenter:function(){return e=1}}),f({},"wawa")),n.mount(),t.node.onmouseenter(),m(e).to.equal(1)}),it("should process event property of child component with model directive",function(){var t,n,e;return e=0,n=f({},t=y({$model:p({},"x"),onmouseenter:function(){return e=1}}),f({},"wawa")),n.mount(),t.node.onmouseenter(),m(e).to.equal(1)})}),describe("text model",function(){return it("should text model by value",function(){var t,n,e,o,r,u;return t=c(o={a:1}).a$,n={onchange:function(){return e.update()}},e=M(r=P(n,t),u=P(n,t)),e.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(u.node.value).to.equal("3","text2.node.value")}),it("should text model by value and onchange",function(){var t,n,e,o,r,u;return t=c(o={a:1}).a$,n={value:t,onchange:function(){return t(this.value),e.update()}},e=M(r=P(n),u=P(n)),e.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(u.node.value).to.equal("3","text2.node.value")})}),describe("combo",function(){return it("should combobox",function(){var t,n,e,o,r,u,i,a;return i=k(!1),n=null,a=k(""),u=function(){var t,e,r,u;for(r=[1,2],u=[],t=0,e=r.length;e>t;t++)o=r[t],u.push(function(t){return _({style:{display:"block",border:"1px solid blue","min-width":"40px"},onclick:function(){return a(t),n.update()}},t)}(o));return u}(),t=v(t,{onmouseleave:function(){return i(!1),n.update()}}),n=f(t,e=y({$model:a,onmouseenter:function(){return i(!0),n.update()}}),r=f({style:{display:g(i,function(){return i()?"block":"none"})}},u)),n.mount(),m(e.node.value).to.equal(""),m(i()).to.equal(!1),m(r.node.style.display).to.equal("none"),e.node.onmouseenter(),m(r.node.style.display).to.equal("block"),u[1].node.onclick(),m(e.node.value).to.equal("2")})}),describe("controls",function(){return it("should mount controls and others",function(){var t;return t=s(),t.mount("#demo"),m(t.node.length).to.equal(2),t.unmount()})}),describe("mount/unmount",function(){return it("should mount/unmount sub component",function(){var t,n,e;return e=f("toggle me"),t=M(f({onclick:function(){return e.mount()}},"mount",f({onclick:function(){return e.unmount()}},"unmount"))),n=M(t,e),e.mount(),e.unmount(),e.remount(),e.unmount(),n.mount(),n.unmount()})}),describe("todomvc",function(){var t;return it("should process class",function(){var t;return t=a({className:{selected:1},href:"#/"}),t.mount("#demo"),m(t.node.className).to.equal("selected")}),it("should construct and create components",function(){var t;return t=C(a({className:{selected:1},href:"#/"},"All")),t.mount("#demo"),m(t.children[0].node.className).to.equal("selected"),m(t.children[0].node.href).to.match(/:\/\//)}),t=function(t,n){var e,o;return n.hash="all",e=function(){return"active"===n.hash?t.filter(function(t){return t&&!t.completed}):"completed"===n.hash?t.filter(function(t){return t&&t.completed}):t},o=h(e,function(t,n){return N(S(function(){return t.title}),", ",S(function(){return t.completed?"completed":"uncompleted"}))})},it("should mount getTodos and Each with empty todos correctly",function(){var n,e,o;return o=[],n=t(o,e={hash:"all"}),n.mount(),m(n.node.length).to.equal(0)}),it("should invalidate children to listComponent",function(){var n,e,o,r;return r=[{title:"do this"}],e=t(r,o={hash:"all"}),m(e.listComponent.invalidIndexes).to.be.undefined,e.getContentComponent(),n=e.cacheChildren[0],o.hash="completed",n.transfornValid=!0,e.getContentComponent(),n.valid=!0,o.hash="all",e.getContentComponent()}),it("should process getTodos and Each correctly",function(){var n,e,o,r;return r=[{title:"do this"}],e=t(r,o={hash:"all"}),e.mount(),m(e.node.length).to.equal(1),o.hash="completed",e.update(),m(e.node.length).to.equal(0),o.hash="all",e.getContentComponent(),n=e.listComponent.children[0],e.update(),m(e.node.length).to.equal(1)}),it("should todoEditArea",function(){var t,n,e,o,r,u;return e=dc.section,u=dc.ul,n=dc.footer,r=h([1,2],function(t,n){return C(1)}),t=o=e({id:"main"},u({id:"todo-list"},r),n({id:"footer"})),t.mount(),t.update()})})})},/*!***********************************!*\
  !*** ./demo/demo-controls.coffee ***!
  \***********************************/
function(t,n){var e,o,r,u,i,a;u=dc.list,e=dc.a,r=dc.checkbox,a=dc.text,i=dc.p,o=dc.bindings,t.exports=function(){var t,n,e,i,c,d,l,s;return t=o({a:1}).a$,i=u(n=r(t),e=r(t)),s=u(d=a(t),l=a(t)),t(6),c=u(i,s),dc.updateWhen([n,e,d,l],"change",c),c}}]);