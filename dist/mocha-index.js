!function(t){function e(o){if(n[o])return n[o].exports;var u=n[o]={exports:{},id:o,loaded:!1};return t[o].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e,n){dc.alwaysUpdate=!0,n(4),n(5),n(9),n(11),n(12),n(13),n(14),n(17),n(1),n(18),n(19),n(20),n(21),n(22),n(23),n(24)},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H;H=n(2),p=H.expect,q=H.iit,m=H.idescribe,w=H.nit,b=H.ndescribe,d=H.ddescribe,r=dc.Component,x=dc.list,h=dc.func,v=dc.if_,f=dc.each,a=dc.a,l=dc.div,y=dc.p,M=dc.span,L=dc.text,C=dc.select,g=dc.input,u=dc.$show,o=dc.$hide,c=dc.bindings,s=dc.duplex,T=dc.see,dc.directives(dc.builtinDirectives),i=c({a:1}).a$,describe("directives",function(){return describe("model ",function(){return it("should process model  directive",function(){var t;return t=L({$model:i}),t.mount(),t.node.value="2",t.node.onchange({type:"change"}),p(i()).to.equal("2")}),it("should process event property of component with model directive",function(){var t,e,n,o;return o=0,n=s(e={},"x"),t=g({$model:n,onmouseenter:function(){return o=1}}),t.mount(),t.node.onmouseenter({type:"mouseenter"}),p(o).to.equal(1)})}),describe("$show",function(){return it("should process $show directive",function(){var t;return t=l({$show:!0}),t.mount(),p(t.node.style.display).to.equal("block")}),it("should process $show directive with non block display",function(){var t;return t=l({style:{display:"inline"},$show:!0}),t.mount(),p(t.node.style.display).to.equal("inline")}),it("should process $show directive with false value",function(){var t;return t=l({$show:!1},l(1)),t.mount(),p(t.node.style.display).to.equal("none")}),it("should process $show directive with function value",function(){var t,e;return e=T(!0),t=l({$show:e}),p(t.style.display.invalidate).to.be.defined,t.mount(),p(t.node.style.display).to.equal("block",1),e(!1),p(t.hasActiveStyle).to.equal(!0),dc.update(),p(t.node.style.display).to.equal("none",2)}),it("should process hide directive",function(){var t;return t=l({$hide:!0},l(1)),t.mount(),p(t.node.style.display).to.equal("none"),t=l({$hide:!1},l(1)),t.mount(),p(t.node.style.display).to.equal("block")}),it("should process show directive with true or false value",function(){var t;return t=u(!1)(l(l(1))),t.mount(),p(t.node.style.display).to.equal("none"),t=u(!0)(l(l(1))),t.mount(),p(t.node.style.display).to.equal("block")})}),b("select options",function(){return it("should constructor select with options",function(){var t;return t=C({$options:[[1,2]]}),t.mount(),p(t.node.innerHTML).to.match(/<option>1/),p(t.node.innerHTML).to.equal("<option>1</option><option>2</option>")})})})},function(t,e,n){var o;o="undefined"==typeof window?n(3):window.chai,e.expect=o.expect,e.iit=it.only,e.idescribe=describe.only,e.nit=function(){},e.ndescribe=function(){},e.ddescribe=function(t,e){return e()}},function(t,e){t.exports=chai},function(t,e,n){var o,u,r,a,i,c,d;d=n(2),u=d.expect,a=d.iit,r=d.idescribe,c=d.nit,i=d.ndescribe,o=d.ddescribe,describe("dc-util/index",function(){})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g;v=n(2),i=v.expect,l=v.iit,d=v.idescribe,f=v.nit,s=v.ndescribe,r=v.ddescribe,q=n(6),h=q.see,o=q.bind,a=q.duplex,p=q.renew,c=q.flow,g=n(8),u=g.bindings,m=g.seeAttrs,describe("reactive flow",function(){return it("should see",function(){var t;return t=h(1),i(t()).to.equal(1),i(t(2)).to.equal(2),i(t()).to.equal(2)}),it("should renew",function(){var t,e;return e=1,t=p(function(){return e},!0),i(t()).to.equal(1),i(function(){return t(2)}).to["throw"](),e=2,i(t()).to.equal(2)}),it("should flow",function(){var t,e,n;return t=h(1),e=h(2),n=c(t,e,function(){return t()+e()}),i(n()).to.equal(3),t(2),i(n()).to.equal(4)}),it("should flow unary",function(){var t,e,n,o;return o=u({a:4,b:2}),t=o.a_,e=o.b_,n=c.neg(t),i(n()).to.equal(-4,"neg"),n=c.no(t),i(n()).to.equal(!1,"not"),n=c.abs(c.neg(t)),i(n()).to.equal(4,"abs neg"),n=c.bitnot(t),i(n()).to.equal(-5,"bitnot")}),it("should flow binary",function(){var t,e,n,o;return o=u({a:4,b:2}),t=o.a_,e=o.b_,n=c.add(t,e),i(n()).to.equal(6,"add"),n=c.sub(t,e),i(n()).to.equal(2,"sub"),n=c.mul(t,e),i(n()).to.equal(8,"mul"),n=c.div(t,e),i(n()).to.equal(2,"div")}),it("should invalidate flow binary",function(){var t,e,n;return t=h(1),e=h(2),n=c.add(t,e),i(n()).to.equal(3,"add"),t(3),i(n()).to.equal(5,"add 2")}),it("should invalidate bind flow binary",function(){var t,e,n,u;return n={a:1,b:2},t=o(n,"a","m"),e=o(n,"b","m"),u=c.add(t,e),i(u()).to.equal(3,"add"),i(function(){return t(3)}).to["throw"](),i(u()).to.equal(3,"add 2")}),it("should bind",function(){var t,e,n;return n={a:1},t=o(n,"a"),e=o(n,"a"),i(t()).to.equal(1),i(e()).to.equal(1,"a2"),i(function(){return t(3)}).to["throw"](),i(t()).to.equal(1,"a again"),i(e()).to.equal(1,"a2 again")}),it("should process bindings",function(){var t,e,n;return n=u({a:1}),t=n.a$,e=n.a_,t(3),i(e()).to.equal(3)}),it("should process multiple bind and duplex on same object and attr",function(){var t,e,n,o,u,r;return u={a:1,b:2},t=a(u,"a"),n=a(u,"b"),e=a(u,"a"),o=a(u,"b"),r=c.add(t,n),i(r()).to.equal(3,"sum 1"),i(r.valid).to.equal(!0,"valid 1"),e(3),i(r.valid).to.equal(!1,"valid 2"),i(r()).to.equal(5,"sum 2"),r=c.add(e,o),i(r()).to.equal(5,"sum 3"),i(r.valid).to.equal(!0,"valid 3"),e(1),i(r.valid).to.equal(!1,"valid 4"),i(r()).to.equal(3,"sum 4")}),it("should seeAttrs",function(){var t,e;return t={},e={x:1},m(t,e),i(typeof t.x).to.equal("function"),i(t.x()).to.equal(1),e={x:2},m(t,e),i(typeof t.x).to.equal("function"),i(t.x()).to.equal(2)})})},function(t,e,n){var o,u,r,a,i,c,d,l,s=[].slice;l=n(7),a=l.newLine,u=l.funcString,i=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;if("function"!=typeof e)throw new Error("call back should be a function");return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,o;return o=t.invalidateCallbacks,!o||(n=o.indexOf(e),0>n)?void 0:(o.splice(n,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var e,n,o,u;if(t.valid&&t.invalidateCallbacks){for(u=t.invalidateCallbacks,n=0,o=u.length;o>n;n++)(e=u[n])();t.valid=!1}},t)},c=function(t){var e;return e=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=t.call(this),e.valid=!0,e.invalidate(),n},e.toString=function(){return"renew: "+u(t)},i(e)},r=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.lazy is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t.call(this))},n.toString=function(){return"lazy: "+u(t)},i(n)},t.exports=o=function(){var t,e,n,o,r,a,c,d,l,f;if(o=2<=arguments.length?s.call(arguments,0,a=arguments.length-1):(a=0,[]),e=arguments[a++],!o.length)return i(e);for(c=0,l=o.length;l>c;c++)if(n=o[c],"function"==typeof n&&!n.invalidate)return r=i(function(){return r.invalidate(),e.call(this)});for(t=null,r=i(function(n){return arguments.length?n===t?n:(t=e.call(this,n),r.invalidate(),t):r.valid?t:(r.valid=!0,t=e.call(this))}),d=0,f=o.length;f>d;d++)n=o[d],n&&n.onInvalidate&&n.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,e,u;for(u=[],t=0,e=o.length;e>t;t++)n=o[t],u.push(n.toString());return u}().join(",")+"] --> "+u(e)},r},o.pipe=function(){var t,e,n,o,u,r,a,c,d;for(n=2<=arguments.length?s.call(arguments,0,u=arguments.length-1):(u=0,[]),t=arguments[u++],r=0,c=n.length;c>r;r++)if(e=n[r],"function"==typeof e&&!e.invalidate)return o=i(function(){var u,r,a;if(argumnets.length)throw new Error("flow.pipe is not allow to have arguments");for(o.invalidate(),u=[],r=0,a=n.length;a>r;r++)e=n[r],"function"==typeof e?u.push(e()):u.push(e);return t.apply(this,u)});for(o=i(function(){var o,u,r;for(o=[],u=0,r=n.length;r>u;u++)e=n[u],"function"==typeof e?o.push(e()):o.push(e);return t.apply(this,o)}),a=0,d=n.length;d>a;a++)e=n[a],e&&e.onInvalidate&&e.onInvalidate(o.invalidate);return o},o.react=i,o.lazy=r,o.renew=c,o.lazy=r,o.flow=o,o.see=d=function(t,e){var n,o;return n=t,o=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,o.invalidate()),t):(o.valid=!0,n)},o.isDuplex=!0,o.toString=function(){return"see: "+t},i(o)},o.seeN=function(){var t,e,n,o,u;for(e=1<=arguments.length?s.call(arguments,0):[],u=[],n=0,o=e.length;o>n;n++)t=e[n],u.push(d(t));return u},Object.defineProperty?(o.bind=function(t,e,n){var o,u,r,a;return o=Object.getOwnPropertyDescriptor(t,e),o&&(u=o.get,r=o.set),u&&u.invalidate||(u=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return u.valid=!0,u.cacheValue},u.cacheValue=t[e],a=function(n){return n!==t[e]?(r&&r(n),u.invalidate(),u.cacheValue=n):void 0},i(u),u.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:u,set:a})),u},o.duplex=function(t,e,n){var o,u,r,a;return o=Object.getOwnPropertyDescriptor(t,e),o&&(u=o.get,a=o.set),a&&a.invalidate?a:(r=function(n){return arguments.length?n!==t[e]?(a&&a(n),u&&u.invalidate&&u.invalidate(),r.invalidate(),r.cacheValue=n):void 0:(r.valid=!0,r.cacheValue)},r.cacheValue=t[e],i(r),r.isDuplex=!0,r.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:r,set:r}),r)}):(o.bind=function(t,e,n){var o,u;return u=t._dcBindMethodMap,u||(u=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]?(u&&u[e]&&u[e].invalidate(),(o=this._dcDuplexMethodMap)&&o[e]&&o[e].invalidate()):void 0}),o=u[e],o||(o=u[e]=function(){return o.valid=!0,t[e]},o.toString=function(){return""+(n||"m")+"["+e+"]"},i(o)),o},o.duplex=function(t,e,n){var o,u;return u=t._dcDuplexMethodMap,u||(u=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]&&((o=this._dcBindMethodMap)&&o[e]&&o[e].invalidate(),u&&u[e]&&u[e].invalidate()),n}),o=u[e],o||(o=u[e]=function(n){return arguments.length?t.dcSet$(e,n):(o.valid=!0,t[e])},o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},i(o)),o}),o.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?o(t,function(){return e(t())}):function(){return e(t())}},o.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?o(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?o(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?o(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},function(t,e){var n,o,u,r,a=[].slice;e.isArray=r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,o;for(e=1<=arguments.length?a.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,o={};n>t;)o[e[t]]=e[t+1],t+=2;return o},n=function(t,e){var n,o;for(o="",n=0;n++<e;)o+=t;return o},e.newLine=function(t,e,o){return o?"\n"+n(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return e=o,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},o=1,e.newDcid=function(){return o++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,o;if("("===t[e])for(o=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++e;o--}},e.intersect=function(t){var e,n,o,u,r,a,i,c;r={},o=t[0];for(n in o){for(e=!0,c=t.slice(1),a=0,i=c.length;i>a;a++)if(u=c[a],!u[n]){e=!1;break}e&&(r[n]=o[n])}return r},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.foreach=function(t,e){var n,o,u,a,i,c;if(t){if(r(t))for(a=[],n=i=0,c=t.length;c>i;n=++i)o=t[n],a.push(e(o,n));else{a={};for(u in t)o=t[u],a[u]=e(o,u)}return a}},u=Object.hasOwnProperty,e.mixin=function(t,e){var n,o;for(n in e)o=e[n],u.call(t,n)||(t[n]=o);return t},e.makeReactMap=function(t){var e,n,o,u,r,a,i,c,d,l,s;for(a={},o=t.split(/\s*,\s*/),i=0,d=o.length;d>i;i++)if(n=o[i],u=n.trim().split(/\s*:\s*/),1===u.length)a[u[0]]="";else for(r=u[1],s=u[0].split(/\s+/),c=0,l=s.length;l>c;c++)e=s[c],a[e]=r;return a}},function(t,e,n){var o,u,r,a,i,c,d,l;l=n(6),i=l.react,c=l.see,u=l.bind,r=l.duplex,a=l.flow,d=l.unary,o=l.binary,t.exports=a,a.bindings=function(t,e){var n,o;o={};for(n in t)o[n+"$"]=r(t,n,e),o[n+"_"]=u(t,n,e);return o},a.seeAttrs=function(t,e){var n,o,u;for(o in e)u=e[o],n=t[o],"function"==typeof n?n(u):t[o]=c(u);return t},a.neg=function(t){return d(t,function(t){return-t})},a.no=a.not=a.not_=function(t){return d(t,function(t){return!t})},a.bitnot=function(t){return d(t,function(t){return~t})},a.reciprocal=function(t){return d(t,function(t){return 1/t})},a.abs=function(t){return d(t,Math.abs)},a.floor=function(t){return d(t,Math.floor)},a.ceil=function(t){return d(t,Math.ceil)},a.round=function(t){return d(t,Math.round)},a.add=function(t,e){return o(t,e,function(t,e){return t+e})},a.sub=function(t,e){return o(t,e,function(t,e){return t-e})},a.mul=function(t,e){return o(t,e,function(t,e){return t*e})},a.div=function(t,e){return o(t,e,function(t,e){return t/e})},a.min=function(t,e){return o(t,e,function(t,e){return Math.min(t,e)})},a.and=function(t,e){return o(t,e,function(t,e){return t&&e})},a.or=function(t,e){return o(t,e,function(t,e){return t||e})},a.funcAttr=function(t,e){return a(t,e,function(n){var o;return o=t(),null==o?o:arguments.length?o[e]=n:o[e]})},a.toggle=function(t){return t(!t())},a.if_=function(t,e,n){return"function"!=typeof t?t?e:n:t.invalidate?"function"==typeof e&&"function"==typeof n?e.invalidate&&n.invalidate?a(t,e,n,function(){return t()?e():n()}):function(){return t()?e():n()}:"function"==typeof e?e.invalidate?a(t,e,function(){return t()?e():n}):function(){return t()?e():n}:"function"==typeof n?n.invalidate?a(n,function(){return t()?e:n()}):function(){return t()?e:n()}:a(t,function(){return t()?e:n}):"function"==typeof e&&"function"==typeof n?function(){return t()?e():n()}:"function"===e?function(){return t()?e():n}:"function"===n?function(){return t()?e:n()}:t()?e:n},a.thisBind=function(t){var e;return e=i(function(){return this[t]}),e.bindComponent=function(n){var o;return o=a.bind(n,t),o.onInvalidate(function(){return e.valid=!0,e.invalidate()}),e},e}},function(t,e,n){(function(t){var e,o,u,r,a,i,c,d;d=n(2),o=d.expect,a=d.iit,r=d.idescribe,c=d.nit,i=d.ndescribe,e=d.ddescribe,u=n(10),describe("lazy-flow-at",function(){return it("should process flow.at",function(){var t,e,n;return e={},n=u.at(e,"x.y"),o(n()).to.equal(void 0),t=!1,n.onInvalidate(function(){return t=!0}),n(1),o(t).to.equal(!0),o(n()).to.equal(1),o(e.x.y).to.equal(1),t=!1,e.x={},o(t).to.equal(!0),o(e.x.y).to.equal(void 0)}),it("should process flow.at without root",function(){var e,n;return window.x=void 0,e=u.at("x.y"),o(e()).to.equal(void 0),e(1),o(e()).to.equal(1),n="undefined"!=typeof window?window:t,o(n.x.y).to.equal(1)})})}).call(e,function(){return this}())},function(t,e,n){(function(e){var o,u,r,a,i,c,d,l,s,f;s=n(7),d=s.newLine,i=s.funcString,f=a=n(6),u=f.bind,r=f.duplex,l=f.react,t.exports=a,o=function(t){return function(n,o){var u,a;if(1===arguments.length&&(o=n,n="undefined"!=typeof window?window:e),"string"==typeof o&&(o=o.split(/\.\s*/)),!o.length)return n;if("object"!=typeof n)throw new Error("expect an object as the root of flow.at");return u=o.length,0===u?n:(a=l(function(t){var e,r,i;if(arguments.length){for(e=0,i=n;u-1>e;){if(r=i[o[e]],null==r)r=i[o[e]]={};else if("object"!=typeof i)throw new Error("expect an object");i=r,e++}return i[o[e]]=t,a.cacheValue!==t&&(a.cacheValue=t,a.invalidate(),a.valid=!1),t}for(a.valid=!0,e=0,r=n;u>e;){if(!r)return;r=r[o[e]],e++}return a.cacheValue=r}),t===r&&(a.isDuplex=!0),c(n,o,a,t))}},c=function(t,e,n,o){var u,r,a,i,d;if(i=e.length,!i)return n;for(d=t,a=0;i>a;){if(!d)return;u=e[a],r=o(d,u),r.onInvalidate(function(){return c(d[u],e.slice(a+1),n),n.invalidate()}),a++}return n},a.at=o(u),a.at2=o(r),a.paths=function(t,e){var n,o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w;for(r=e.split(/\s*\.\s*/),d=[],s=0,m=r.length;m>s;s++)if(u=r[s],"["===u[0]){if(a=u.length,"]"!==u[u.length-1])throw new Error("wrong format of pathPattern for flow.paths, expect string like 'x.y, '[x, y].z', 'x.[y,z]' ...");u=u.slice(1,a-1),d.push(u.split(/\s*\.\s*|\s+/))}else d.push([u]);for(i=d[0],w=d.slice(1),f=0,v=w.length;v>f;f++){for(u=w[f],c=[],p=0,q=i.length;q>p;p++)for(o=i[p],h=0,g=path.length;g>h;h++)l=path[h],c.push(o.concat([l]));i=c}for(n=[],b=0,x=i.length;x>b;b++)u=i[b],n.push(at(t,u));return n}}).call(e,function(){return this}())},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N,_,P,I,$;$=n(2),f=$.expect,g=$.iit,v=$.idescribe,T=$.nit,y=$.ndescribe,d=$.ddescribe,I=dc.util,a=dc.bind,s=dc.duplex,L=dc.see,c=dc.classFn,_=dc.styleFrom,r=dc.attrToPropName,p=dc.extendAttrs,o=dc.Component,b=dc.list,h=dc.func,q=dc.if_,u=dc.a,M=dc.p,k=dc.span,P=dc.text,x=dc.li,l=dc.div,i=dc.checkbox,w=dc.model,H=dc.show,m=dc.hide,N=dc.splitter,C=dc.options,describe("domcom/properties/utilities",function(){return it("styleFrom",function(){var t;return t=_("display:none; zIndex:100; backgroundColor:white;"),f(t).to.deep.equal({display:"none",zIndex:"100",backgroundColor:"white"})}),it("attrToPropName",function(){var t;return t=r("background-color"),f(t).to.equal("backgroundColor")}),it("cssAdd 1",function(){var t,e;return t=M({style:{width:"1px"}}),e=t.cssAdd("width",2),f(e).to.equal(t),f(t.css("width")).to.equal("3px")}),it("cssAdd 2",function(){var t,e;return t=M({style:{width:"0.5%"}}),e=t.cssAdd("width",3.6),f(e).to.equal(t),f(t.css("width")).to.equal("4.1%")}),it("cssMul",function(){var t,e;return t=M({style:{width:"2px"}}),e=t.cssMul("width",3),f(e).to.equal(t),f(t.css("width")).to.equal("6px")})}),describe("domcom/properties/extendAttrs",function(){return it("extendAttrs({class{a:1}}, className({b:1})",function(){var t;return t=p({"class":{a:1}},{className:{b:1}}),f(c(t.className).call()).to.equal("a b")}),it("extendAttrs({style:{width:1}}, {style:{height:2}})",function(){var t;return t=p({style:{width:1}},{style:{height:2}}),f(t.style.width).to.equal(1),f(t.style.height).to.equal(2)})}),describe("domcom/properties/classFn",function(){return it("get value of classFn",function(){var t,e;return t=L(!0),e=c(["a",{b:t}]),f(e()).to.equal("a b"),t(!1),f(e()).to.equal("a")}),it("should compute valid",function(){var t;return t=c(["a"]),f(t.valid).to.equal(!1),f(t()).to.equal("a"),f(t.valid).to.equal(!0),t.extend("a"),f(t.valid).to.equal(!0),f(t()).to.equal("a"),t.extend("b"),f(t.valid).to.equal(!1),f(t()).to.equal("a b"),t.extend("!b"),f(t.valid).to.equal(!1),f(t()).to.equal("a")}),it("should get class property in component",function(){var t,e;return t=L(!0),e=l({"class":{a:1,b:t}}),f(e.className.call(e)).to.equal("a b","first"),e.className=c({a:1,b:t}),f(e.className.valid).to.equal(!1,"className.valid 1"),f(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 1"),e.mount(),f(e.className.valid).to.equal(!0,"className.valid 2"),f(e.hasActiveProperties).to.equal(!1,"hasActiveProperties 2"),f(e.node.className).to.equal("a b","second"),t(!1),f(e.className.valid).to.equal(!1,"className.valid 3"),f(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 3"),dc.update(),f(e.node.className).to.equal("a","3")})}),describe("domcom/properties/create",function(){return it("should create properties",function(){var t;return t=M({value:a({a:1},"a")}),f(t.className.valid).to.equal(!0,"className.valid"),f(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),t.mount(),f(t.node.value).to.equal(1)})}),describe("domcom/properties/event",function(){return it("click event ",function(){var t,e;return e=1,t=u({onclick:function(){return e=2}},"click me"),t.mount("#demo"),t.node.onclick({type:"click"}),f(e).to.equal(2)}),it("multiple handlers for one event",function(){var t,e,n,o;return t=s(o={a:1},"a"),n=sinon.spy(),e=P({onchange:n,$model:t}),e.mount(),e.node.value=2,e.node.onchange({type:"change"}),f(n.called).to.equal(!0),f(o.a).to.equal("2")}),it("multiple handlers for one event, with bind value",function(){var t,e,n,o;return t=s(o={a:1},"a"),n=sinon.spy(),e=P({onchange:n},t),e.mount(),e.node.value=2,e.node.onchange({type:"change"}),f(n.called).to.equal(!0),f(o.a).to.equal("2")})}),describe("domcom/properties/style",function(){return it("should set style property with string value",function(){var t,e;return t=u({style:"border:red 1px solid"},"red 1px solid"),f(t.className.valid).to.equal(!0,"className.valid"),f(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e=t.mount("#demo"),f(t.node.style.border).to.equal("1px solid red")}),it("should set style property",function(){var t,e;return t=u({style:{border:"red 1px solid"}},"red 1px solid"),e=t.mount("#demo"),f(t.node.style.border).to.equal("1px solid red")}),it("value of property of style could be dc expression",function(){var t,e;return t=u({style:{border:function(){return"red 1px solid"}}},"red 1px solid"),e=t.mount("#demo"),f(t.node.style.border).to.equal("1px solid red")}),T("change style dynamically",function(){var t,e,n,o,r,a,i;return a=function(t){if(!t.match(/^\d/))return t;for(;t.length<6;)t="0"+t;return"#"+t},t=L("red"),r=L(o=0),e=u({style:{borderWidth:flow(r,function(){return r()+"px"}),borderStyle:"solid",borderColor:flow(t,function(){return a(t().toString(16))})}},"dynamic property"),e.mount("#demo"),t=0,i=function(){return t+=1118481,r(o++),dc.update(),50===o?clearInterval(n):void 0},n=setInterval(i,5)})}),describe("domcom/properties/bind checkbox",function(){return it("bidirectional bind checkbox",function(){var t,e,n;return dc.directives({$model:dc.$model}),n={a:1},t=s(n,"a"),e=i({$model:t}),e.mount("#demo"),f(e.node.onchange).to.be.defined,e.node.checked=!0,e.node.onchange({type:"change"}),f(n.a).to.equal(!0)})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,b,w,y,T,C,M,L,H,k,N;N=n(2),m=N.expect,w=N.iit,g=N.idescribe,C=N.nit,T=N.ndescribe,f=N.ddescribe,v=dc.flow,l=dc.bindings,o=dc.Component,a=dc.TransformComponent,u=dc.Tag,r=dc.Text,k=dc.txt,y=dc.list,q=dc.func,b=dc.if_,s=dc.case_,q=dc.func,h=dc.each,d=dc.accordionGroup,c=dc.accordion,i=dc.a,M=dc.p,L=dc.span,H=dc.text,p=dc.div,describe("toString",function(){return it("should toString list of if(tag)",function(){var t,e,n,o;return o=0,t=y(n=H({onchange:function(){return o=parseInt(this.value),dc.update()}},o),e=b(function(){return o},p(1),p(2))),m(t.toString()).to.match(/<List>\n  <input type="text" value=0>/)}),it("should toString  tag with props",function(){var t,e;return e=0,t=p({value:1},1),m(t.toString()).to.equal("<div value=1>1</div>")}),it("should case.toString",function(){var t;return t=s(function(){return x},{1:M(1),2:M(2),3:M(3)},"others"),m(t.toString()).to.equal('<Case renew: fn:x>\n  1: <p>1</p>\n  2: <p>2</p>\n  3: <p>3</p>\n  "others"\n</Case>')}),it("should flow.add(a_, b_).toString",function(){var t,e,n,o;return o=l({a:1,b:2}),t=o.a_,e=o.b_,n=v.add(t,e),m(n.toString()).to.equal("flow: [m[a],m[b]] --> fn:binaryFn(x(), y())")})})},function(t,e,n){var o,u,r,a,i,c,d,l,s;s=n(2),o=s.expect,r=s.iit,u=s.idescribe,c=s.nit,i=s.ndescribe,l=s.rtimeout,d=s.rinterval,a=dc.isComponent,describe("test dc",function(){return describe("dc(document)",function(){return it("dc(document) should be Component",function(){return o(!a(dc(document))).to.equal(!0)}),c("should cache DomComponent",function(){return o(dc(document)).to.equal(dc(document))}),it("dc(document).bind should be a function",function(){var t;return t=0,dc(document).bind("onclick",function(){return t=1})})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C;C=n(2),f=C.expect,m=C.iit,h=C.idescribe,x=C.nit,q=C.ndescribe,g=C.newDemoNode,g=n(15).newDemoNode,d=dc.bindings,w=dc.see,a=dc.Tag,i=dc.Text,u=dc.List,T=dc.txt,v=dc.list,b=dc.p,s=dc.div,o=dc.Html,p=dc.html,l=dc.classFn,y=dc.styleFrom,r=dc.Nothing,c=d({a:1,b:2}).a_,describe("test base component",function(){return afterEach(function(){return dc.reset()}),describe("update baseComponent",function(){return it("should get baseComponent of List",function(){var t;return t=v([1,2]),f(t.baseComponent).to.equal(t)}),it("should have correct children",function(){var t;return t=b(0),f(t.children[0].text).to.equal(0)})}),describe("process get baseComponent of Tag",function(){return it("should get baseComponent of two tags",function(){var t,e;return e=new a("p",{},[]),t=new a("div",{},[e]),f(t.baseComponent).to.equal(t),f(t.children[0]).to.be["instanceof"](a),t.mount(),f(t.baseComponent.baseComponent).to.equal(t)}),it("should text.valid to be true",function(){var t;return t=T(1),t.mount(),f(!!t.valid).to.equal(!0)})}),describe("process creatDom",function(){return it("should creatDom of p(1)",function(){var t;return t=b(1),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(->1)",function(){var t;return t=b(function(){return 1}),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(p(p(t=txt(->1))))",function(){var t,e;return t=b(b(b(e=T(function(){return 1})))),t.mount(),f(t.node.innerHTML).to.equal("<p><p>1</p></p>")}),it("should mount Text with text is 0",function(){var t;return t=new i(0),t.mount(),f(t.node.textContent).to.equal("0")}),it("should mount tag",function(){return b=new a("p",{},[]),b.mount(),f(b.node.tagName).to.equal("P")}),it("should mount pre with property",function(){var t;return t=new a("pre",{attr_space:""},[]),t.mount(),f(t.node.tagName).to.equal("PRE"),f(t.node.getAttribute("space")).to.equal("")}),it("should mount  tag with attribute",function(){return b=new a("p",{className:l("some class"),style:y("width:1px;")},[]),b.mount(),f(b.node.className).to.equal("some class"),f(b.node.getAttribute("className")).to.equal(null)}),it("process bind as value",function(){var t;return t=new a("input",{type:"text",value:c},[new i(c)]),t.mount(),f(t.node.value).to.equal("1")}),it("tag shoud mount with multiple children ",function(){var t,e,n,o;return t=new a("p",{},[e=new i(1),n=new i(2),o=new i(3)]),f(t.children.length).to.equal(3),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("tag shoud mount with Nothing child",function(){var t,e,n,o,u;return t=new a("p",{},[e=new i(1),n=new i(2),o=new i(3),u=new r]),f(t.children.length).to.equal(4),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("should create tag with children",function(){var t;return t=new a("p",{className:l("some class"),style:y("width:1px;")},[new a("span",{},[new i("adf")])]),t.mount(),f(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t;return t=new a("p",{className:l("some class"),style:y("width:1px;")},[new a("span",{},[new i("adf")])]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount for tag with children",function(){var t;return t=new a("p",{className:l("some class"),style:y("width:1px;")},[new a("span",{},[new i("adf")]),new i(function(){})]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount list with children",function(){var t;return t=new u([new a("span",{},[new i("adf")]),new i(function(){return void 0})]),t.mount(),f(t.node[0].tagName).to.equal("SPAN")})}),describe("process Html",function(){return it("should process Html.node.component",function(){var t,e,n;return n=w(""),t=p(n),t.mount(e=g()),f(e.innerHTML).to.equal("<div></div>"),f(t.node.component).to.equal(t)}),it("should mount html component",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>"),t.mount(e=g()),f(e.innerHTML).to.equal("<div><div>1</div><p>2</p></div>")}),it("should mount html component with transform",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>",function(t){return t+"a"}),t.mount(e=g()),f(e.innerHTML).to.equal("<div><div>1</div><p>2</p>a</div>")}),it("should mount html component with reactive function",function(){var t,e,n;return n=w("<div>1</div><p>2</p>"),t=new o(n,function(t){return t+"a"}),t.mount(e=g()),f(e.innerHTML).to.equal("<div><div>1</div><p>2</p>a</div>"),n("x"),dc.update(),f(e.innerHTML).to.equal("<div>xa</div>","update 1"),dc.update(),f(e.innerHTML).to.equal("<div>xa</div>","update 2")}),it("should Html.bind",function(){var t,e,n,o;return n=w(""),t=p(n),t.mount(e=g()),o=1,t.bind("click",function(){return o=2}),t.node.onclick({type:"click"}),f(o).to.equal(2)}),it("should Html.text setter",function(){var t,e;return e=w(""),t=p(e),t.mount(),t.text="x",dc.update(),f(t.node.innerHTML).to.equal("x")})})})},function(t,e,n){var o;o=n(16),e.newDemoNode=function(t){var e;return e=document.createElement("div"),document.body.appendChild(e),t&&e.setAttribute("id",t),e},e.fakeEvent=function(t,e,n){return null==e&&(e="click"),"number"==typeof n?{target:t,type:e,keyCode:n,preventDefault:function(){},stopPropagation:function(){}}:o({target:t,type:e,preventDefault:function(){},stopPropagation:function(){}},n)}},function(t,e){var n,o=Object.prototype.hasOwnProperty,u=Object.prototype.toString,r=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===u.call(t)},a=function(t){"use strict";if(!t||"[object Object]"!==u.call(t))return!1;var e=o.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!r)return!1;var a;for(a in t);return a===n||o.call(t,a)};t.exports=function i(){"use strict";var t,e,o,u,c,d,l=arguments[0],s=1,f=arguments.length,p=!1;for("boolean"==typeof l?(p=l,l=arguments[1]||{},s=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});f>s;++s)if(t=arguments[s],null!=t)for(e in t)o=l[e],u=t[e],l!==u&&(p&&u&&(a(u)||(c=r(u)))?(c?(c=!1,d=o&&r(o)?o:[]):d=o&&a(o)?o:{},l[e]=i(p,d,u)):u!==n&&(l[e]=u));return l}},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N,_,P;P=n(2),h=P.expect,x=P.iit,q=P.idescribe,M=P.nit,T=P.ndescribe,s=P.ddescribe,C=n(15).newDemoNode,c=dc.bindings,p=dc.duplex,m=dc.flow,l=dc.classFn,k=dc.styleFrom,r=dc.Tag,a=dc.Text,u=dc.List,o=dc.Component,y=dc.list,v=dc.func,g=dc.if_,_=dc.txt,i=dc.a,L=dc.p,H=dc.span,N=dc.text,w=dc.li,f=dc.div,d=dc.button,b=dc.input,describe("component  ",function(){return afterEach(function(){return dc.reset()}),describe("construct component",function(){return it("component shoud have children",function(){var t;return t=L({},[1,2]),h(t.children.length).to.equal(2)}),it("should construct component",function(){var t,e;return e=new r("p",{},[]),t=new r("div",{},[e]),h(t.children[0]).to.equal(e)}),it("tag shoud have children 1",function(){var t;return t=new r("span",{},[new a("adf")]),h(t.children[0].text).to.equal("adf")}),it("tag shoud have children 2",function(){var t,e;return e=new r("span",{},[new a("adf")]),t=new r("div",{className:l("some class"),style:k("width:1px;")},[e]),h(t.children[0]).to.equal(e)})}),describe("component.create",function(){return it("should create tag",function(){var t;return t=L(),t.mount(),h(t.node.tagName).to.equal("P"),h(t.node.innerHTML).to.equal("")}),it("should mount tag 1",function(){var t;return t=new r("div",{},[]),t.mount(),h(t.node.tagName).to.equal("DIV")}),it("should correctly create TextNode with 0 as content",function(){var t;return t=_(0),t.mount(),h(t.node.textContent).to.equal("0")}),it("should correctly create tag with 0 as content",function(){var t;return t=L(0),t.mount(),h(t.node.innerHTML).to.equal("0")}),it("should mount Text with flow value",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=_(m.add(t,e)),n.mount("#demo"),h(n.node.textContent).to.equal("3","mount")}),it("should not run event hanlder while creating tag",function(){var t,e;return e=sinon.spy(),t=L({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick({type:"click"}),h(e.called).to.equal(!0)}),it("should process event name without on",function(){
var t,e;return e=sinon.spy(),t=L({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick({type:"click"}),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering tag",function(){var t,e;return e=sinon.spy(),t=L({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick({type:"click"}),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering button tag",function(){var t,e;return e=sinon.spy(),t=d({id:"search-ok",type:"submit",onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick({type:"click"}),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering div > button tag",function(){var t,e;return e=sinon.spy(),t=f(d({id:"search-ok",type:"submit",onclick:e})),t.mount(),h(e.called).to.equal(!1),t.children[0].node.onclick({type:"click"}),h(e.called).to.equal(!0)}),it("should create tag with attribute",function(){var t,e;return t=L({className:"some class",style:"width:1px;"},[]),t.mount(),e=t.node,h(e.className).to.equal("some class"),h(e.getAttribute("className")).to.equal(null)}),it("should process function value of text",function(){var t,e,n;return t=c({a:1}).a_,e=N(t),n=e.mount(),n=e.node,h(n.value).to.equal("1")}),it("component shoud have children 2",function(){var t;return t=H("adf"),h(t.children[0].text).to.equal("adf")}),it("should create tag with children",function(){var t,e;return t=L({className:"some class",style:"width:1px;"},e=H(["adf"])),h(t.children[0]).to.equal(e),t.mount(),h(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t,e;return t=L({className:"some class",style:"width:1px;"},[H(["adf"])]),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount tag with undefined as child",function(){var t;return t=L({className:"some class",style:"width:1px;"},H(["adf"]),_(function(){})),t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount list with undefined as child",function(){var t,e;return t=y(H(["adf"]),_(function(){return void 0})),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node[0].parentNode.id).to.equal("demo")})}),describe("component update",function(){return it("should render tag 1",function(){var t,e;return e=1,t=new r("p",{},[new a(function(){return e})]),t.mount(),h(t.node.innerHTML).to.equal("1"),++e,dc.update(),h(t.node.innerHTML).to.equal("2","update 2"),++e,dc.update(),h(t.node.innerHTML).to.equal("3","update 3")}),it("should update bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=new r("input",{value:t},[]),e.mount(),h(e.node.value).to.equal("1")}),it("should render tag 2",function(){var t,e,n;return e=1,t=L(_(function(){return e})),t.mount(),n=t.node,h(n.innerHTML).to.equal("1"),++e,dc.update(),h(n.innerHTML).to.equal("2"),++e,dc.update(),h(n.innerHTML).to.equal("3")}),it("should process text with bind",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=L(_(m.add(t,e))),n.mount("#demo"),h(n.node.innerHTML).to.equal("3","mount"),t(3),e(4),h(t()).to.equal(3,"a_"),h(e()).to.equal(4,"b_"),dc.update(),h(n.node.innerHTML).to.equal("7","update")}),it("should process bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=N(t),e.mount("#demo"),h(e.node.value).to.equal("1"),e.node.value="2",e.node.onchange({type:"change"}),h(t()).to.equal("2")}),it("should render div(2) component",function(){var t;return t=f(2),t.mount(),h(t.node.innerHTML).to.equal("2")}),it("should execute component.unmount",function(){var t;return t=f(2),t.mount(),t.unmount()}),it("should execute component.remove",function(){var t;return t=f(1),t.mount(C("replace-demo3")),t.remove(),h(document.getElementById("replace-demo3").innerHTML).to.equal("")}),it("should execute component.remove child component",function(){var t,e;return t=f(e=f(3)),t.mount(C("replace-demo4")),e.remove(),h(document.getElementById("replace-demo4").innerHTML).to.equal("<div></div>")}),it("should execute component.replace",function(){var t,e;return t=f(1),t.mount(C("replace-demo")),e=f(2),e.replace(t),h(document.getElementById("replace-demo").innerHTML).to.equal("<div>2</div>")}),it("should execute component.replace child component",function(){var t,e,n;return t=f(n=f(3)),t.mount(C("replace-demo2")),e=f(2),e.replace(n),h(document.getElementById("replace-demo2").innerHTML).to.equal("<div><div>2</div></div>")}),it("p(->12) ",function(){var t;return t=L(function(){return 12}),t.mount(),h(t.node.innerHTML).to.equal("12"),dc.update(),h(t.node.innerHTML).to.equal("12"),dc.update(),h(t.node.innerHTML).to.equal("12")})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N;N=n(2),s=N.expect,g=N.iit,v=N.idescribe,y=N.nit,b=N.ndescribe,w=N.newDemoNode,w=n(15).newDemoNode,M=dc.see,f=dc.flow,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,a=dc.Text,k=dc.txt,x=dc.list,m=dc.func,q=dc.if_,h=dc.forceIf,u=dc.If,d=dc.case_,p=dc.forceCase,m=dc.func,C=dc.pick,c=dc.a,T=dc.p,L=dc.span,H=dc.text,l=dc.div,describe("singleton component: If, Case, Func, Pick, ...",function(){return afterEach(function(){return dc.reset()}),describe("If",function(){return it("should optimize if_",function(){var t,e;return t=k(1),e=0,s(q(function(){return e},t,t)).to.equal(t),s(q(0,1,t)).to.equal(t),s(q(1,t,0)).to.equal(t)}),it("should NOT optimize forceIf",function(){var t,e;return e=k(1),t=h(0,1,e),s(t).to.not.equal(e),s(t.else_).to.equal(e)}),it("should compute if_((-> x), p(t), t).family",function(){var t,e;return t=k(1),e=0,s(q(function(){return e},T(t),t).family[t.dcid]).to.equal(!0)}),it("should construct if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n;return n=M(0),t=k(1),e=k(2),q(n,T(t),x(e,T(t)))}),it("should render if_(see something, txt(1), txt(2))",function(){var t,e;return e=M(0),t=q(e,k(1),k(2)),t.mount(),s(t.node.textContent).to.equal("2","mount"),dc.update(),s(t.node.textContent).to.equal("2","update"),e(1),dc.update(),s(t.node.textContent).to.equal("1","update x 1"),e(0),dc.update(),s(t.node.textContent).to.equal("2","update x 0")}),it("should render forceIf(0, txt(1), txt(2))",function(){var t;return t=h(0,k(1),k(2)),t.mount(),s(t.node.textContent).to.equal("2","mount"),dc.update(),s(t.node.textContent).to.equal("2","update"),t.test=1,dc.update(),s(t.node.textContent).to.equal("1","update x 1"),t.test=0,dc.update(),s(t.node.textContent).to.equal("2","update x 0")}),it("should render if_(x, list(t1, t2), list(t2, t1))",function(){var t,e,n,o,u;return u=M(0),n=k(1),o=k(2),t=q(u,x(n,o),x(o,n)),t.mount(e=w("if-ref")),s(t.node[0].textContent).to.equal("2","mount"),s(e.innerHTML).to.equal("21","mount"),u(1),dc.update(),s(t.node[0].textContent).to.equal("1","update x 1"),s(e.innerHTML).to.equal("12","mount")}),it("should render if_(x, list(t2, t1), t1)",function(){var t,e,n,o,u,r;return r=M(1),o=k(1),u=k(2),t=q(r,n=x(u,o),o),t.mount(e=w("if-ref")),s(e.innerHTML).to.equal("21","mount"),r(0),dc.update(),s(e.innerHTML).to.equal("1","update")}),it("should render if_(x, t1, list(t2, t1))",function(){var t,e,n,o,u,r;return r=M(0),o=k(1),u=k(2),t=q(r,o,n=x(u,o)),t.mount(e=w("if-ref")),s(e.innerHTML).to.equal("21","mount"),dc.update(),s(e.innerHTML).to.equal("21","update"),r(1),dc.update(),s(e.innerHTML).to.equal("1","update x 1"),r(0),dc.update(),s(e.innerHTML).to.equal("21","update x 0")}),it("should render if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n,o,u;return u=M(0),n=k(1),o=k(2),t=q(u,T(n),x(T(o),n)),t.mount(e=w("if-ref")),s(e.innerHTML).to.equal("<p>2</p>1","mount"),u(1),dc.update(),s(e.innerHTML).to.equal("<p>1</p>","update x 1"),u(0),dc.update(),s(e.innerHTML).to.equal("<p>2</p>1","update x 0"),u(1),dc.update(),s(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), div(t2))",function(){var t,e,n,o;return o=M(0),n=k(1),t=q(o,T(n),l(n)),t.mount(e=w("if-ref")),s(e.innerHTML).to.equal("<div>1</div>","mount"),o(1),dc.update(),s(e.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),dc.update(),s(e.innerHTML).to.equal("<div>1</div>","update x 0"),o(1),dc.update(),s(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render p(if_(x, p(t1), list(p(t2), t1)))",function(){var t,e,n,o,u,r;return r=M(0),o=k(1),u=k(2),t=T(e=q(r,n=T(o),x(T(u),o))),t.mount(),s(t.node.innerHTML).to.equal("<p>2</p>1","mount"),dc.update(),s(t.node.innerHTML).to.equal("<p>2</p>1","update"),r(1),dc.update(),s(t.node.innerHTML).to.equal("<p>1</p>","update x 1"),r(0),dc.update(),s(t.node.innerHTML).to.equal("<p>2</p>1","update x 0"),r(1),dc.update(),s(t.node.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), p list(p(t2), t1))",function(){var t,e,n,o,u,r;return r=M(0),o=k(1),u=k(2),t=q(r,e=T(o),n=T(x(T(u),o))),t.mount(),s(n.node.innerHTML).to.equal("<p>2</p>1","mount"),r(1),dc.update(),s(t.node.innerHTML).to.equal("1","update x 1"),r(0),dc.update(),s(n.node.innerHTML).to.equal("<p>2</p>1","mount")}),it("should render if_(x, div(1), div(2))",function(){var t,e;return e=M(0),t=q(e,l(1),l(2)),t.mount(),s(t.node.tagName).to.equal("DIV","tagName"),s(t.node.innerHTML).to.equal("2","mount"),e(1),dc.update(),s(t.node.innerHTML).to.equal("1","first update"),e(0),dc.update(),s(t.node.innerHTML).to.equal("2","second update")}),it("should create and update if_ with attrs",function(){var t,e,n;return n=M(0),e=q({"class":"main",fakeProp:n},n,t=T(1),T(2)),s(e).to.be["instanceof"](r),s(e.hasActiveProperties).to.equal(!0,"hasActiveProperties before mounting"),e.mount(),s(e.node.tagName).to.equal("DIV"),s(e.node.fakeProp).to.equal(0,"mount fakeProp"),s(e.node.childNodes[0].innerHTML).to.equal("2","mount innerHTML"),s(e.node.childNodes[0].tagName).to.equal("P","mount C1 tagName"),s(e.hasActiveProperties).to.equal(!1,"hasActiveProperties after mounting"),n(1),s(e.props.fakeProp).to.equal(n,"see invalidate fakeProp"),s(e.hasActiveProperties).to.equal(!0,"hasActiveProperties"),dc.update(),s(e.node.fakeProp).to.equal(1,"update fakeProp"),s(e.node.childNodes[0].innerHTML).to.equal("1","update innerHTML"),s(e.node.childNodes[0]).to.equal(t.node)}),it("should create and render if followed by other node ",function(){var t,e,n,o,u,r,a;return e=document.getElementById("demo2"),e.innerHTML="",a=M(0),t=x(r=q(a,n=T(1),o=T(2)),u=T(3)),t.mount(e),s(r.node.innerHTML).to.equal("2"),s(e.innerHTML).to.equal("<p>2</p><p>3</p>"),a(1),dc.update(),s(r.node.innerHTML).to.equal("1","pif update"),s(e.innerHTML).to.equal("<p>1</p><p>3</p>","demo2Node update"),s(t.node[0].innerHTML).to.equal("1","comp update")}),it("should create and render embedded if",function(){var t,e,n,o,u,r;return u=document.getElementById("demo2"),u.innerHTML="",r=M(0),o=x(k(r),t=q(r,e=T(1),n=T(2))),o.mount(u),s(u.innerHTML).to.equal("0<p>2</p>"),s(o.parentNode).to.equal(u),s(o.node[1].innerHTML).to.equal("2"),s(t.parentNode).to.equal(o.parentNode),r(1),dc.update(),s(t.parentNode).to.equal(o.parentNode),s(t.node.innerHTML).to.equal("1"),s(n.node.innerHTML).to.equal("2"),s(t.node).to.equal(e.node),s(o.node[1]).to.equal(e.node)}),it("should process embedded if 2-1",function(){var t,e,n,o;return o=M(0),t=x(n=H(1),e=q(o,l(1),l(2))),t.mount(),s(e.node.innerHTML).to.equal("2"),o(1),dc.update(),s(e.node.innerHTML).to.equal("1"),o(0),dc.update(),s(e.node.innerHTML).to.equal("2")}),it("should process embedded if 2-2",function(){var t,e,n,o;return o=M(0),e=q(o,l(1),l(2)),t=x(n=H(o),e),t.mount(),s(e.node.innerHTML).to.equal("2"),o(1),dc.update(),s(e.node.innerHTML).to.equal("1"),o(0),dc.update(),s(e.node.innerHTML).to.equal("2")}),it("should process embedded if 2-3",function(){var t,e,n;return n=M(0),t=x(window.t1=k(n),e=q(n,k(1),k(2))),t.mount(),s(e.node.textContent).to.equal("2"),n(1),dc.update(),s(e.node.textContent).to.equal("1"),n(0),dc.update(),s(e.node.textContent).to.equal("2")}),it("should process event in embedded if 2-4",function(){var t,e,n,o;return o=M(0),e=q(o,l(1),l(2)),t=x(n=H({onchange:function(){return o(parseInt(this.value)),dc.update()}},o),e),t.mount(),s(e.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("2")}),it("should process event in embedded if 2-5",function(){var t,e,n,o;return o=M(0),t=x(n=H({onchange:function(){return o(parseInt(this.value)),dc.update()}},1),e=q(o,l(1),l(2))),t.mount(),s(e.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("2")}),it("should process event in embedded if 2-6",function(){var t,e,n,o;return o=M(0),t=x(n=H({onchange:function(){return o(parseInt(this.value)),dc.update()}},o),e=q(o,l(1),l(2))),t.mount(),s(e.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),s(e.node.innerHTML).to.equal("2")}),it("should process two list with same children",function(){var t,e,n,o,u,r,a;return a=M(1),n=k(1),o=k(2),u=k(3),r=k(4),t=q(a,x(n,o,u,r),x(r,n,o,u)),t.mount(e=w("list")),s(e.innerHTML).to.equal("1234"),a(0),dc.update(),s(e.innerHTML).to.equal("4123"),a(1),dc.update(),s(e.innerHTML).to.equal("1234")})}),describe("Case",function(){return it("should create and render case_",function(){var t,e;return e=M(0),t=d(e,{1:T("a"),2:T("b"),3:T("c")},"others"),t.mount(),s(t.node).to.be["instanceof"](window.Text),s(t.node.textContent).to.equal("others"),e(1),dc.update(),s(t.node.innerHTML).to.equal("a")}),it("should create and render forceCase",function(){var t;return t=p(0,{1:T("a"),2:T("b"),3:T("c")},"others"),t.mount(),s(t.node).to.be["instanceof"](window.Text),s(t.node.textContent).to.equal("others"),t.test=1,dc.update(),s(t.node.innerHTML).to.equal("a")}),it("should create and render array case_",function(){var t,e;return e=M(3),t=d(e,[T("a"),T("b"),T("c")],"others"),t.mount(),s(t.node).to.be["instanceof"](window.Text),s(t.node.textContent).to.equal("others"),e(1),dc.update(),s(t.node.innerHTML).to.equal("b")})}),describe("Func",function(){return it("func(->12) ",function(){var t;return t=m(function(){return 12}),t.mount(),s(t.node.textContent).to.equal("12"),dc.update(),s(t.node.textContent).to.equal("12"),dc.update(),s(t.node.textContent).to.equal("12")}),it("p(-> a))",function(){var t;return c=M(1),t=T(c),t.mount(),c(2),dc.update(),s(t.node.innerHTML).to.equal("2","update a 2"),c(3),dc.update(),c(4),dc.update(),s(t.node.innerHTML).to.equal("4","update a 4")}),it("should  create func component",function(){var t,e;return e=M(1),t=m(e),t.mount(),s(t.node).to.be["instanceof"](window.Text),s(t.node.textContent).to.equal("1")}),it("should create and  render func",function(){var t,e;return e=M(0),t=m(f(e,function(){return{1:T(1),2:T(2),3:T(3)}[e()]||"others"})),t.mount(),s(t.node).to.be["instanceof"](window.Text),s(t.node.textContent).to.equal("others"),e(1),dc.update(),s(t.node.innerHTML).to.equal("1"),e(2),dc.update(),s(t.node.innerHTML).to.equal("2")}),it("should create and update func with  attrs",function(){var t,e;return e=M(1),t=m({"class":"main",fakeProp:e},e),t.mount(),s(t.node.tagName).to.equal("DIV"),s(t.node.fakeProp).to.equal(1),s(t.node).to.be["instanceof"](Element),s(t.node.childNodes[0].textContent).to.equal("1"),e(2),dc.update(),s(t.node.fakeProp).to.equal(2),s(t.node.childNodes[0].textContent).to.equal("2")}),it("should process tag with function",function(){var t;return t=T(k(function(){return 1})),s(t.children[0]).to.be["instanceof"](a),t.mount(),s(t.node.innerHTML).to.equal("1")}),it("should create and update func with a closure variable",function(){var t,e;return e=M(1),t=m(function(){return k(e)}),t.mount(),s(t.node.textContent).to.equal("1"),e(2),dc.update(),s(t.node.textContent).to.equal("2")})}),describe("Pick",function(){return it("pick(host)",function(){var t,e,n;return e={content:1},t=C(e),n=0,t.onSetContent=function(t){return n="called"},t.mount(),s(t.node.textContent).to.equal("1"),e.content=2,s(n).to.equal("called"),dc.update(),s(t.node.textContent).to.equal("2")}),it('pick(host, "content", 1) by setContent',function(){var t,e,n;return e={content:1},t=C(e),n=0,t.onSetContent=function(t){return n="called"},t.mount(),s(t.node.textContent).to.equal("1"),t.setContent(2),s(n).to.equal("called"),dc.update(),s(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1)',function(){var t,e,n;return e={},t=C(e,"activeContent",1),n=0,t.onSetContent=function(t){return n="called"},t.mount(),s(t.node.textContent).to.equal("1"),e.activeContent=2,s(n).to.equal("called"),dc.update(),s(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1) by setContent',function(){var t,e,n;return e={},t=C(e,"activeContent",1),n=0,t.onSetContent=function(t){return n="called"},t.mount(),s(t.node.textContent).to.equal("1"),t.setContent(2),s(n).to.equal("called"),dc.update(),s(t.node.textContent).to.equal("2")})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L;L=n(2),l=L.expect,m=L.iit,p=L.idescribe,b=L.nit,g=L.ndescribe,x=L.newDemoNode,x=n(15).newDemoNode,y=dc.see,s=dc.flow,o=dc.Component,a=dc.Tag,i=dc.Text,r=dc.List,u=dc.If,M=dc.txt,v=dc.list,f=dc.func,h=dc.if_,q=dc.mergeIf,c=dc.a,w=dc.p,T=dc.span,C=dc.text,d=dc.div,describe("domcom/mergeIf",function(){return afterEach(function(){return dc.reset()}),it("should construct mergeIf(x, t1, t2)",function(){var t,e,n,o;return o=y(0),e=M(1),n=M(2),t=q(o,e,n),l(t.isText).to.equal(!0),t.mount(),l(t.node.textContent).to.equal("2"),o(1),dc.update(),l(t.node.textContent).to.equal("1")}),it("should render mergeIf(x, list(t1, t2), list(t2, t1))",function(){var t,e,n,o,u;return u=y(0),n=M(1),o=M(2),t=q(u,v(n,o),v(o,n)),l(t.isList).to.equal(!0),t.mount(e=x("if-ref")),l(t.node[0].textContent).to.equal("2","mount"),l(e.innerHTML).to.equal("21","mount"),u(1),dc.update(),l(t.node[0].textContent).to.equal("1","update x 1"),l(e.innerHTML).to.equal("12","update")}),it("should render if_(x, list(t2, t1), new List([t1]))",function(){var t,e,n,o,u,a;return a=y(1),o=M(1),u=M(2),t=q(a,n=v(u,o),new r([o])),l(t.isList).to.equal(!0),t.mount(e=x("if-ref")),l(e.innerHTML).to.equal("21","mount"),a(0),dc.update(),l(e.innerHTML).to.equal("1")}),it("should render mergeIf(x, new List([t1]), list(t2, t1))",function(){var t,e,n,o,u,a;return a=y(1),o=M(1),u=M(2),t=q(a,new r([o]),n=v(u,o)),l(t.isList).to.equal(!0),t.mount(e=x("if-ref")),l(e.innerHTML).to.equal("1","mount"),a(0),dc.update(),l(e.innerHTML).to.equal("21")}),it("should render mergeIf(x, p(t1), p(t2))",function(){var t,e,n,o,u;return u=y(0),n=M(1),o=M(2),t=q(u,w(n),w(o)),l(t.isTag).to.equal(!0),t.mount(e=x("if-ref")),l(e.innerHTML).to.equal("<p>2</p>","mount"),u(1),dc.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1")}),it("should render mergeIf(x, p(t1), p(t2, t1))",function(){var t,e,n,o,u;return u=y(0),n=M(1),o=M(2),t=q(u,w(n),w(o,n)),l(t.isTag).to.equal(!0),t.mount(e=x("if-ref")),l(e.innerHTML).to.equal("<p>21</p>","mount"),u(1),dc.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1"),u(0),dc.update(),l(e.innerHTML).to.equal("<p>21</p>","update x 0"),u(1),dc.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render mergeIf(x, p(t1), div(t2))",function(){var t,e,n;return n=y(0),e=M(1),t=q(n,w(e),d(e)),l(t instanceof u).to.equal(!0)}),it("should render mergeIf(x, div(1), div(2))",function(){var t,e;return e=y(0),t=q(e,d(1),d(2)),t.mount(),l(t.isTag).to.equal(!0),l(t.children[0].isText).to.equal(!0),l(t.node.tagName).to.equal("DIV","tagName"),l(t.node.innerHTML).to.equal("2","mount"),e(1),dc.update(),l(t.node.innerHTML).to.equal("1","first update")}),it("should render mergeIf(x, div(1), div(p(2)))",function(){var t,e;return e=y(0),t=q(e,d(1),d(w(2))),t.mount(),l(t.isTag).to.equal(!0),l(t.children[0]instanceof u).to.equal(!0),l(t.node.tagName).to.equal("DIV","tagName"),l(t.node.innerHTML).to.equal("<p>2</p>","mount")}),it("should render mergeIf(x, div({class}, 1), div({class}, 2))",function(){var t,e;return e=y(0),t=q(e,d({"class":"a"},1),d({"class":"b"},2)),t.mount(),l(t.isTag).to.equal(!0),l(t.node.className).to.equal("b"),e(1),dc.update(),l(t.node.className).to.equal("a")}),it("should render mergeIf(x, div({a:1}, 1), div({b:2}, 2))",function(){var t,e;return e=y(0),t=q(e,d({a:1},1),d({b:2},2)),t.mount(),l(t.isTag).to.equal(!0),l(t.node.a).to.equal(""),l(t.node.b).to.equal(2),e(1),dc.update(),l(t.node.a).to.equal(1),l(t.node.b).to.equal("","x 1")}),it("should render mergeIf(x, div({onclick}, 1), div({onclick}, 2))",function(){var t,e;return e=y(0),c=0,t=q(e,d({onclick:function(){return c=1}},1),d({onclick:function(){return c=2}},2)),t.mount(),t.node.onclick({type:"click"}),l(c).to.equal(2,"first click"),e(1),dc.update(),t.node.onclick({type:"click"}),l(c).to.equal(1,"second click")}),it("should NOT merge If(0, div({onclick}, 1), div({onclick}, 2), true, false, true)",function(){var t;return c=0,t=new u(0,d({onclick:function(){return c=1}},1),d({onclick:function(){return c=2}},2),!0,!1,!0),t.mount(),t.node.onclick({type:"click"}),l(c).to.equal(2,"first click"),t.test=1,dc.update(),t.node.onclick({type:"click"}),l(c).to.equal(1,"second click")}),it("should render mergeIf(x, div({style}, 1), div({style}, 2))",function(){var t,e;return e=y(0),t=q(e,d({style:{width:"100px"}},1),d({style:{width:"200px"}},2)),t.mount(),l(t.node.style.width).to.equal("200px"),e(1),dc.update(),l(t.node.style.width).to.equal("100px")})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N,_,P,I,$,E,D,A;A=n(2),x=A.expect,C=A.iit,y=A.idescribe,N=A.nit,H=A.ndescribe,k=A.newDemoNode,k=n(15).newDemoNode,M=dc.isComponent,o=dc.Component,i=dc.TransformComponent,r=dc.Tag,a=dc.Text,D=dc.txt,L=dc.list,u=dc.List,b=dc.func,T=dc.if_,f=dc.case_,b=dc.func,q=dc.each,g=dc.every,w=dc.funcEach,l=dc.accordionGroup,d=dc.accordion,c=dc.a,_=dc.p,$=dc.span,E=dc.text,m=dc.div,s=dc.bind,P=dc.pour,I=dc.see,h=null,p=null,v=!1,describe("group component: List, each",function(){return beforeEach(function(){return h=document.getElementById("demo2"),h.innerHTML=""}),afterEach(function(){return dc.reset(),p&&p.node&&!v?p.unmount():void 0}),describe("List",function(){return afterEach(function(){return dc.reset(),p&&p.node&&!v?p.unmount():void 0}),it("all of item in list should be  component",function(){return p=L([1,2]),x(M(p.children[0])).to.equal(!0)}),it("should create list component",function(){return p=L([$(["adf"])]),p.mount(),x(p.node[0].tagName).to.equal("SPAN"),p.unmount()}),it("component list should have length",function(){var t;return t=L([1,2]),x(t.children.length).to.equal(2)}),it("list can be constructructed  from mulitple argumnents",function(){var t;return t=L(1,2),x(t.children.length).to.equal(2)}),it("should create list",function(){var t;return t=L(1,2),t.mount(),x(t.node[0].textContent).to.equal("1"),x(t.node[1].textContent).to.equal("2"),t.unmount()}),it("should create list with attrs",function(){var t;return t=2,p=L({"class":"main",fakeProp:function(){return t}},1,D(function(){return t})),p.mount(),x(p.node.tagName).to.equal("DIV"),x(p.node.childNodes[0].textContent).to.equal("1"),x(p.node.childNodes[1].textContent).to.equal("2"),t=3,dc.update(),x(p.node.fakeProp).to.equal(3),x(p.node.childNodes[1].textContent).to.equal("3","textContent update"),p.unmount()}),it("list(txt(->12))",function(){return p=L(D(function(){return 12})),p.mount(),x(p.node.textContent).to.equal("12"),p.unmount()}),it("list setChildren after mounting",function(){return p=new u([D(1)]),p.mount(),x(p.node[0].textContent).to.equal("1"),x(function(){var t;return p.setChildren(1,[t=D(2)])}).not.to["throw"](),p.unmount()}),it("list setChildren: similar to splitter",function(){var t,e;return p=new u([D(1),e=D(3)]),p.setChildren(1,[t=D(2),e]),p.mount(),x(p.node[0].textContent).to.equal("1"),x(p.node[1].textContent).to.equal("2"),x(p.node[2].textContent).to.equal("3"),p.unmount()}),it("list(p(txt(->12))) ",function(){return p=L(_(D(function(){return 12}))),p.mount(),dc.update(),x(p.node.innerHTML).to.equal("12"),p.unmount()}),it("list(p(->12)) ",function(){return p=L(_(function(){return 12})),p.mount(),dc.update(),x(p.node.innerHTML).to.equal("12"),p.unmount()}),it("list(txt(1)) ",function(){var t;return p=new u([D(1)]),p.mount(t=k("list")),dc.update(),p.setLength(0),dc.update(),x(t.innerHTML).to.equal(""),p.unmount()}),it("list(txt(1), txt(2), txt(3)) and move child",function(){var t,e,n,o;return p=L(e=D(1),n=D(2),o=D(3)),p.mount(t=k("list")),x(t.innerHTML).to.equal("123"),p.removeChild(0),dc.update(),x(p.dcidIndexMap[e.dcid]).to.equal(void 0,"dcid 0"),x(p.dcidIndexMap[n.dcid]).to.equal(0,"dcid 1"),x(p.dcidIndexMap[o.dcid]).to.equal(1,"dcid 2"),x(p.children.length).to.equal(2),p.pushChild(e),dc.update(),x(t.innerHTML).to.equal("231"),p.unmount()})}),describe("each of array, object",function(){return it("simple each for array",function(){var t;return p=g([1,2],function(t){return t}),p.mount(t=k("list")),dc.update(),x(p.node.length).to.equal(2),p.unmount()}),it("all key of object 1",function(){var t;return p=g({a:1,b:2},function(t){return t}),p.mount(t=k("list")),dc.update(),x(p.children.length).to.equal(2),x(t.innerHTML).to.equal("12")}),it("all key of object 2",function(){var t;return p=g({},{a:1,b:2},function(t,e){return L(e,":",t)}),p.mount(t=k("list")),dc.update(),x(p.children.length).to.equal(2),x(p.node.innerHTML).to.equal("a:1b:2")}),it("all key of object 3",function(){var t,e;return e={itemFunc:function(t,e){return L(e,":",t)},separatorFunc:function(){return", "}},p=g({},{a:1,b:2},e),p.mount(t=k("list")),dc.update(),x(p.children.length).to.equal(2),x(p.node.innerHTML).to.equal("a:1, b:2")})}),describe("each",function(){return it("should create empty each component",function(){var t;return h=document.getElementById("demo2"),h.innerHTML="",p=q(t=[],function(t,e){return _(t)}),p.mount(h),x(p.node).to.be["instanceof"](Array),x(p.node.length).to.equal(0),dc.update(),x(p.node.length).to.equal(0),p.unmount()}),it("should create each component with single item",function(){var t;return p=q(t=[1],function(t,e){return _(t)}),p.mount(),x(p.node).to.be["instanceof"](Array),x(p.node.length).to.equal(1),x(p.node[0].innerHTML).to.equal("1"),dc.update(),x(p.node.length).to.equal(1),x(p.node[0].innerHTML).to.equal("1"),p.unmount()}),it("should set children.nextNode correctly",function(){var t,e;return h=document.getElementById("demo2"),h.innerHTML="",e=[1,2],p=L(t=q(e,function(t){return _(t)}),"some other thing"),p.mount(h),x(t.nextNode).to.equal(p.node[1]),x(h.innerHTML).to.equal("<p>1</p><p>2</p>some other thing"),e.push(3),dc.update(),x(t.children[2].node).to.equal(t.node[2]),x(h.innerHTML).to.equal("<p>1</p><p>2</p><p>3</p>some other thing"),p.unmount(),x(h.innerHTML).to.equal("")}),it("should create each component with two item",function(){var t;return p=q(t=["each","simple"],function(t,e){return _(t)}),p.mount(),x(p.node).to.be["instanceof"](Array),x(p.node[0]).to.be["instanceof"](Element),x(p.node[1].innerHTML).to.equal("simple"),p.unmount()}),it("should mount and render each component",function(){var t,e;return v=!0,document.getElementById("demo").innerHTML="",p=q(e=["each","simple"],function(t,e){return _(t)}),p.mount(t=k("each")),x(p.node[0].innerHTML).to.equal("each"),x(p.node[1].innerHTML).to.equal("simple"),e.setItem(0,3),dc.update(),x(p.node[0].innerHTML).to.equal("3","update node 0"),e.setItem(1,4),dc.update(),x(p.node[1].innerHTML).to.equal("4","update node 1"),x(t.innerHTML).to.equal("<p>3</p><p>4</p>","update innerHTML"),e.setItem(2,5),dc.update(),x(p.node[2].innerHTML).to.equal("5","update list[2] = 5"),e.setLength(0),dc.update(),x(p.children.length).to.equal(0,"comp.children.length = 0"),x(p.node.length).to.equal(0,"node.length"),p.unmount()}),it("should process binding on item",function(){var t;return document.getElementById("demo").innerHTML="",p=q(t=[{text:"a"},{text:"b"}],function(t,e){return _(D(s(t,"text")))}),p.mount("#demo"),x(p.node[0].textContent).to.equal("a"),x(p.node[1].textContent).to.equal("b"),t[0].text="c",dc.update(),x(p.node[0].textContent).to.equal("c","update c"),t[1].text="d",dc.update(),x(p.node[1].textContent).to.equal("d","update d"),t.setItem(2,{text:"e"}),dc.update(),x(p.node[2].textContent).to.equal("e"),t.setLength(0),dc.update(),x(p.node.length).to.equal(0),p.unmount()}),it("should process items in template function",function(){var t;return p=q(t=["a","b"],{itemFunc:function(t,e,n){return _(D(function(){return t}))}}),p.mount(),t.setItem(0,"c"),dc.update(),x(p.node[0].textContent).to.equal("c"),p.unmount()}),it("should process tag with each",function(){var t,e,n;return v=!0,n=I(1),e=null,p=new r("div",{},[t=q([1],{itemFunc:function(t){return e=D(n)}})]),p.mount(),x(p.node.innerHTML).to.equal("1"),n(2),dc.update(),x(e.node.textContent).to.equal("2","update, 2"),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("2"),p.unmount()}),it("should create and update deeper embedded each",function(){var t,e,n,o;return o=1,p=m({},n=new r("span",{},[t=q(e=[o],{itemFunc:function(t){return D(t)}})])),p.mount(),x(t.parentNode).to.equal(n.node),x(t.node[0].textContent).to.equal("1"),e.setItem(0,2),dc.update(),x(t.parentNode).to.equal(n.node),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("<span>2</span>"),p.unmount()}),it("should create and update each where item return a closure variable",function(){var t;return t=I(1),p=q([1],{itemFunc:function(){return D(t)}}),p.mount(),x(p.node[0].textContent).to.equal("1"),t(2),dc.update(),x(p.node[0].textContent).to.equal("2"),p.unmount()}),it("should create and update embedded each where item return a closure variable",function(){var t,e;return e=I(1),p=new r("span",{},[t=q([1],{itemFunc:function(t){return D(e)}})]),p.mount(),x(t.parentNode).to.equal(p.node),x(t.node[0].textContent).to.equal("1"),e(2),dc.update(),x(t.parentNode).to.equal(p.node),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("2"),p.unmount()}),it("should create and update embedded each in 3 layer",function(){var t,e,n;return n=I(1),p=m({},m({},e=new r("span",{},[t=q([1],{itemFunc:function(t){return D(n)}})]))),p.mount(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("1"),n(2),dc.update(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("<div><span>2</span></div>"),p.unmount()}),it("should mount and update each",function(){return p=new r("span",{},[q([1],function(t){return D(1)})]),p.mount(),x(p.node.innerHTML).to.equal("1"),dc.update(),x(p.node.innerHTML).to.equal("1"),p.unmount()}),it("should push and setLength of each",function(){var t;return t=[1,2,3,4,5,6],p=q(t,function(t){return D(t)}),p.mount(),t.push(7),dc.update(),x(p.node.length).to.equal(7,"push 7"),t.setLength(4),dc.update(),x(p.node.length).to.equal(4,"setLength 4"),p.unmount()}),it("should update each with component as the item of list 1",function(){var t;return p=q([D(1)],function(t){return t}),p.mount(),x(p.node[0].textContent).to.equal(t="1"),dc.update(),x(p.node[0].textContent).to.equal("1"),p.unmount()}),it("should update each with component as the item of list 2",function(){var t;return p=m(q([D(1)],function(t){return t})),p.mount(),x(p.node.innerHTML).to.equal(t="1"),dc.update(),x(p.node.innerHTML).to.equal("1"),p.unmount()}),it("should update each with component as the item of list 3",function(){var t;return p=m(m(q([D(1)],function(t){return t}))),p.mount(),x(p.node.innerHTML).to.equal(t="<div>1</div>"),dc.update(),x(p.node.innerHTML).to.equal("<div>1</div>"),p.unmount()}),it("should always attach and detach in multiple iteration 0",function(){var t;return t=I(!0),p=T(t,D(1)),p.mount(h),x(h.innerHTML).to.equal("1"),x(p.node.parentNode).to.equal(h),t(!1),dc.update(),x(p.node.parentNode).to.equal(void 0),x(h.innerHTML).to.equal(""),t(!0),dc.update(),x(p.node.parentNode).to.equal(h),x(h.innerHTML).to.equal("1"),t(!1),dc.update(),x(h.innerHTML).to.equal(""),
x(p.node.parentNode).to.equal(void 0),p.unmount()}),it("should always attach and detach each in multiple iteration 1",function(){var t,e;return e=I(!0),t=[1,2],p=T(e,q(t,function(t){return D(t)})),p.mount(h),x(h.innerHTML).to.equal("12"),x(p.node.parentNode).to.equal(h),e(!1),dc.update(),x(p.node.parentNode).to.equal(void 0),x(h.innerHTML).to.equal(""),e(!0),dc.update(),x(p.node.parentNode).to.equal(h),x(h.innerHTML).to.equal("12"),e(!1),dc.update(),x(h.innerHTML).to.equal(""),x(p.node.parentNode).to.equal(void 0),p.unmount()}),it("should always attach and detach each in multiple iteration 2",function(){var t,e;return e=I(!0),t=[1,2],p=T(e,q(t,function(t){return m(t)})),p.mount(h),x(h.innerHTML).to.equal("<div>1</div><div>2</div>"),e(!1),dc.update(),x(p.node.parentNode).to.equal(void 0),e(!0),dc.update(),x(p.node.parentNode).to.equal(h),e(!1),dc.update(),x(p.node.parentNode).to.equal(void 0),p.unmount()})}),describe("funcEach",function(){return it("should process funcEach",function(){var t;return t=1,p=w(function(){return[t]},{itemFunc:function(t){return t}}),p.mount(),x(p.node[0].textContent).to.equal("1"),t=2,dc.update(),x(p.node[0].textContent).to.equal("2","after x = 2"),p.unmount()}),it("should create and update funcEach",function(){var t;return v=!0,t=1,p=w(function(){return[t]},{itemFunc:function(t){return D(t)}}),p.mount(h),x(p.node[0].textContent).to.equal("1"),t=2,dc.update(),x(p.node[0].textContent).to.equal("2","update 2"),x(p.isList).to.equal(!0),x(h.innerHTML).to.equal("2","innerHTML"),t=3,dc.update(),x(p.node[0].textContent).to.equal("3","update 3"),x(h.innerHTML).to.equal("3","innerHTML"),p.unmount()}),it("should process each under each and with function as items 1",function(){var t,e,n;return n=1,e=null,p=m({},t=q([1],function(){return e=w(function(){return[n]},function(t){return t})})),p.mount(h),x(h.innerHTML).to.equal("<div>1</div>"),v=!0,x(t.parentNode).to.equal(p.node),x(t.node[0][0].textContent).to.equal("1"),x(e.node[0].textContent).to.equal("1"),n=2,dc.update(),x(h.innerHTML).to.equal("<div>2</div>"),x(t.parentNode).to.equal(p.node),x(e.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("2","after x = 2"),p.unmount()}),it("should process each under each and with function as items 0",function(){var t,e,n;return n=1,e=null,p=t=q([1],function(){return e=w(function(){return[n]},{itemFunc:function(t){return D(t)}})}),p.mount(h),x(h.innerHTML).to.equal("1"),v=!0,x(t.parentNode).to.equal(t.parentNode),x(t.parentNode).to.equal(h),x(t.node[0][0].textContent).to.equal("1"),x(e.node[0].textContent).to.equal("1"),n=2,dc.update(),x(h.innerHTML).to.equal("2"),x(t.parentNode).to.equal(t.parentNode),x(e.node[0].textContent).to.equal("2"),x(h.innerHTML).to.equal("2","after x = 2"),p.unmount()}),it("should create and update embedded each in 3 layer 2",function(){var t,e,n;return n=1,p=m({},m({},e=new r("span",{},[t=w(function(){return[n]},{itemFunc:function(t){return D(t)}})]))),p.mount(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("1"),n=2,dc.update(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("<div><span>2</span></div>"),p.unmount()}),it("should create and update deeper embedded funcEach",function(){var t,e,n;return n=1,p=m({},e=new r("span",{},[t=w(function(){return[n]},{itemFunc:function(t){return D(t)}})])),p.mount(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("1"),n=2,dc.update(),x(t.parentNode).to.equal(e.node),x(t.node[0].textContent).to.equal("2"),x(p.node.innerHTML).to.equal("<span>2</span>"),p.unmount()}),it("should create and update funcEach in list",function(){var t,e;return v=!0,e=[1,2],p=L(D("text"),t=w(function(){return e},{itemFunc:function(t){return D(" "+t)}})),p.mount(h),x(h.innerHTML).to.equal("text 1 2"),e=[3],dc.update(),x(h.innerHTML).to.equal("text 3"),dc.update(),x(h.innerHTML).to.equal("text 3")})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L;L=n(2),f=L.expect,q=L.iit,m=L.idescribe,b=L.nit,x=L.ndescribe,d=L.ddescribe,y=dc.see,o=dc.Component,a=dc.TransformComponent,u=dc.Tag,r=dc.Text,M=dc.txt,g=dc.list,h=dc.func,v=dc.if_,c=dc.case_,h=dc.func,s=dc.each,i=dc.a,w=dc.p,T=dc.span,C=dc.text,l=dc.div,p=dc.flow,describe("Component.refs, clone",function(){return afterEach(function(){return dc.reset()}),describe("refs",function(){return it("should throw error while constucting conflicted component list(t, t))",function(){var t;return t=M(1),f(function(){return g(t,t)}).to["throw"](Error)}),it("should throw error while constucting conflicted component list(t, p(t)))",function(){var t;return t=M(1),f(function(){return g(t,w(t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(1, t, 0))",function(){var t;return t=M(1),f(function(){return g(w(t),v(1,t,0))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(0, 2, t))",function(){var t;return t=M(1),f(function(){return g(w(t),v(0,2,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, t, t))",function(){var t,e;return t=M(1),e=0,f(function(){return g(w(t),v(function(){return e},t,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, p(t), t))",function(){var t,e;return t=M(1),e=0,f(function(){return g(w(t),v(function(){return e},w(t),t))}).to["throw"](Error)}),it("should updateBaseComponent of if_((-> x), t=txt(1), t)",function(){var t,e,n;return n=y(0),t=v(n,e=M(1),e),t.mount(),dc.update()})}),describe("Clone",function(){return it("should not clone node event handler",function(){var t,e;return t=document.createElement("p"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(null),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should clone TextNode",function(){var t,e;return t=document.createTextNode("afd"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(void 0),f(e.textContent).to.equal("afd"),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should process text clone component bind",function(){var t,e;return t=g(e=M(1),e.clone()),t.mount("#demo"),dc.update(),f(t.node[1].textContent).to.equal("1")}),it("should process text clone component with bind",function(){var t,e;return t=M(p.thisBind("x")),e=t.clone(),t.x=1,e.x=2,t.mount("#demo"),e.mount("#demo"),dc.update(),f(t.node.textContent).to.equal("1"),f(e.node.textContent).to.equal("2"),e.x=3,dc.update(),f(e.node.textContent).to.equal("3")}),it("should process mount cloned tag ",function(){var t,e;return t=w(1),e=t.clone(),e.mount("#demo"),dc.update(),f(e.node.innerHTML).to.equal("1")}),it("should process tag clone component ",function(){var t,e,n;return t=w(1),e=t.clone(),n=g(t,e),n.mount("#demo"),dc.update(),f(n.node[1].innerHTML).to.equal("1")}),it("should process if_ clone component ",function(){var t,e,n,o,u;return u=y(0),t=w(1),e=t.clone(),o=g(t,e),n=v(u,w(3),o),n.mount("#demo"),u(1),dc.update(),f(n.node.innerHTML).to.equal("3")})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N,_,P,I;I=n(2),p=I.expect,g=I.iit,v=I.idescribe,C=I.nit,T=I.ndescribe,l=I.ddescribe,h=n(15).fakeEvent,f=dc.duplex,L=dc.see,d=dc.classFn,N=dc.styleFrom,y=dc.model,H=dc.show,r=dc.Tag,a=dc.Text,u=dc.List,o=dc.Component,w=dc.list,m=dc.func,q=dc.if_,P=dc.txt,i=dc.a,M=dc.p,k=dc.span,_=dc.text,b=dc.li,s=dc.div,c=dc.button,x=dc.input,describe("component event",function(){return afterEach(function(){return dc.reset()}),it("component shoud call listeners before mounting",function(){var t,e;return e=0,t=M(),t.on("willMount",function(){return e=1}),t.mount(),p(e).to.equal(1)}),it("component shoud call listeners before mounting if_",function(){var t,e;return e=0,t=q(1,2,3),t.on("willMount",function(){return e=1}),t.mount(),p(e).to.equal(1)}),it("component shoud call then_.listeners before updating if_",function(){var t,e,n;return n=L(0),t=q(n,e=P(1),P(2)),e.on("willMount",function(){return n(1)}),t.mount(),p(n()).to.equal(0),n(1),dc.update(),p(n()).to.equal(1)}),it("component shoud not call embeded listeners before updating if_",function(){var t,e,n;return n=L(0),t=q(n,M(e=P(1)),P(2)),e.on("willMount",function(){return n(1)}),t.mount(),p(n()).to.equal(0),n(1),dc.update(),p(n()).to.equal(1)}),it("component shoud call listeners after mounting",function(){var t,e;return e=L(0),t=M(),t.on("willMount",function(){return e(1)}),t.on("willUnmount",function(){return e(2)}),t.mount(),p(e()).to.equal(1),t.unmount(),p(e()).to.equal(2)}),it("component shoud call mount and unmount listeners",function(){var t,e,n;return e=0,n=0,t=q(1,2,3),t.on("willMount",function(){return e=1}),t.on("willUnmount",function(){return n=2}),t.mount(),p(e).to.equal(1),t.unmount(),p(n).to.equal(2)}),it('component shoud NOT call then_.listeners["mount"] before updating if_',function(){var t,e,n,o,u;return o=L(0),u=0,t=q(o,e=P(1),n=P(2)),e.on("willMount",function(){return o(1)}),n.on("willUnmount",function(){return u=2}),t.mount(),p(o()).to.equal(0,"mount"),o(1),dc.update(),p(o()).to.equal(1),p(u).to.equal(0)}),it("component shoud NOT call embeded mountCallback before updating if_",function(){var t,e,n,o,u;return o=L(0),u=0,t=q(o,M(e=P(1)),M(n=P(2))),e.on("willMount",function(){return o(1)}),t.mount(),p(o()).to.equal(0),o(1),dc.update(),p(o()).to.equal(1),p(u).to.equal(0)})}),describe("delegate event",function(){return it("component should delegate click event",function(){var t,e;return e=0,t=M(),t.mount(),t.delegate("click"),t.do_click=function(){return e=1},t.node.onclick(h(t.node)),p(e).to.equal(1)}),it("component should delegate click event to its holder",function(){var t,e,n;return n=0,e=w([t=M()]),e.mount(),t.delegateByHolder("click"),e.do_click=function(){return n=1},t.node.onclick(h(t.node)),p(n).to.equal(1)}),it("component should delegate click event from tag ancestor to its holder",function(){var t,e,n,o;return o=0,e=s(n=w([t=M()])),e.mount(),e.delegateByHolder("click"),n.do_click=function(){return o=1},e.node.onclick(h(t.node)),p(t.node.onclick).to.be["null"],p(o).to.equal(1)}),it("component should delegate click event by given component",function(){var t,e,n,o;return o=0,e=s(n=w([t=M()])),e.mount(),e.delegateByComponent("click",n),n.do_click=function(){return o=1},e.node.onclick(h(t.node)),p(t.node.onclick).to.be["null"],p(o).to.equal(1)})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v;v=n(2),r=v.expect,i=v.iit,a=v.idescribe,l=v.nit,d=v.ndescribe,u=v.ddescribe,f=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]*))+$/,s=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]+))/,h=/(?:\\\/)|(?:\\\()|(?:\\\))/,c=dc.isComponent,p=dc.route,m=dc.txt,o=dc.Nothing,describe("route",function(){return afterEach(function(){return dc.reset()}),describe("route regexp",function(){return it("should match paramName pattern",function(){var t;return t={},p._processPiecePatterns(":dsaf",t),r(t.dsaf).to.equal(!0,":dsaf"),p._processPiecePatterns(":$",t),r(t.$).to.equal(!0,":$"),p._processPiecePatterns(":_",t),r(t._).to.equal(!0,":_")}),it("should match cureved re",function(){var t,e;return t={},e=p._processPiecePatterns("(fd+=.)",t,2),r(e[0][0].key).to.equal(2,"(fd+=.)"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string",function(){var t,e;return t={},e=p._processPiecePatterns(":a(dsaf)asdfj",t,2),r(e[0][0].key).to.equal("a"),r(e[1]).to.equal(2,"(fd+=.)")}),it("should match param and string 2",function(){var t,e;return t={},e=p._processPiecePatterns(":abc_$(dsaf)asdfj(&*^)+_",t,2),r(e[0][0].key).to.equal("abc_$"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=p._processPiecePatterns("_):_$a(dsaf)asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=p._processPiecePatterns("_):_$a(dsaf):b:c-asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should throw while wrong paramName pattern",function(){return r(function(){var t;return p._processPiecePatterns(":",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 1",function(){return r(function(){var t;return p._processPiecePatterns(":+",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 2",function(){return r(function(){var t;return p._processPiecePatterns("(dfj()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 3",function(){return r(function(){var t;return p._processPiecePatterns("()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 4",function(){return r(function(){var t;return p._processPiecePatterns(":(dsaf)",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 5",function(){return r(function(){var t;return p._processPiecePatterns("(",t={})}).to["throw"]()})}),describe("test private function",function(){return it("should _getRoutePattern",function(){var t;return t=p._getRoutePattern("a/"),r(t.endSlash).to.equal(!0)}),it("should _processPatternRouteItem",function(){var t;return t=p._processRouteItem([{absolute:!0,segmentPatterns:[],baseIndex:0},function(){return 1}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)}),it("should _getRoutePattern and _processPatternRouteItem",function(){var t;return t=p._processRouteItem([p._getRoutePattern(""),function(){return m(1)}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)})}),describe("process route",function(){return it("should route 'a'",function(){var t,e;return t=p("a",function(){return 1}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/b' on path 'a'",function(){var t,e;return t=p("a/b",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a/' on path 'a'",function(){var t,e;return t=p("a/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a' on path 'a/'",function(){var t,e;return t=p("a",function(){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route '*' on path 'a'",function(){var t,e;return t=p("*",function(t){return t.segments[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("a")}),it("should route '(w+)' on path 'a'",function(){var t,e;return t=p("(\\w+)",function(t){return t.items[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.children[0].text).to.equal("a")}),it("should not route '*' on path 'a/'",function(){var t,e;return t=p("*",function(t){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route '*/' on path 'a'",function(){var t,e;return t=p("*/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route 'a/b'",function(){var t,e;return t=p("a/b",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route multi item",function(){var t,e;return t=p("a/1",function(){return 1},"a/2",function(){return 2}),t.getPath=function(){return"a/2"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(2)}),it("should route multi item with otherwise",function(){var t,e;return t=p("a/1",function(){return 1},"a/2",function(){return 2},m("otherwise")),t.getPath=function(){return"a/otherwise"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("otherwise")}),it("should route 'a/**' on path a/b",function(){var t,e;return t=p("a/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/**' on path a/b",function(){var t,e;return t=p("a/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/*/**' on path a/b",function(){var t,e;return t=p("a/*/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route embedding route",function(){var t,e,n;return t=p("a/**",function(t,e){return e("b",function(){return 2})}),t.getPath=function(){return"a/b"},n=t.getContentComponent(),n.getPath=function(){return"a/b"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(2)})}),describe("multiple level route",function(){var t;return t=p("a/*/**",function(t,e){return e(1,function(){return 1},2,function(){return 2},3,function(){return 3},{otherwise:"otherwise 2"})},"b/**",function(){return"b/**"},{otherwise:"otherwise 1"}),it("should route a/b/3",function(){var e,n;return t.getPath=function(){return"a/b/3"},n=t.getContentComponent(),n.getPath=function(){return"a/b/3"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(3)}),it("should route b/2",function(){var e;return t.getPath=function(){return"b/2"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("b/**")}),it("should route not-found",function(){var e;return t.getPath=function(){return"not-found"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 1")}),it("should route a/b/no-entry",function(){var e,n;return t.getPath=function(){return"a/b/no-entry"},n=t.getContentComponent(),n.getPath=function(){return"a/b/no-entry"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 2")})}),describe("process route.to",function(){return it("should route.to",function(){return r(p._navigateTo("a/b/c","../x",2)).to.equal("a/x"),r(p._navigateTo("a/b/c","f",2)).to.equal("a/b/f"),r(p._navigateTo("a/b/c","/f",2)).to.equal("f"),r(p._navigateTo("a/b/c","/f/",2)).to.equal("f/"),r(p._navigateTo("a/b/c","./f/",2)).to.equal("a/b/f/")}),it("should route.to 2",function(){return r(p._navigateTo("a/b/c","../../f/",2)).to.equal("f/"),r(p._navigateTo("a/b/c","../../../f/",2)).to.equal("f/")})})})},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y,T,C,M,L,H,k,N,_,P,I,$,E,D,A,S;S=n(2),q=S.expect,C=S.iit,y=S.idescribe,_=S.nit,N=S.ndescribe,f=S.ddescribe,c=dc.bindings,m=dc.duplex,x=dc.flow,I=dc.see,l=dc.classFn,E=dc.styleFrom,g=dc.extendAttrs,r=dc.Tag,a=dc.Text,u=dc.List,o=dc.Component,H=dc.list,b=dc.func,T=dc.if_,A=dc.txt,i=dc.a,P=dc.p,$=dc.span,D=dc.text,L=dc.li,h=dc.div,d=dc.button,M=dc.input,v=dc.each,w=dc.funcEach,s=n(25),k=n(26),p=n(27).demoMap,k(p,"domcom/demoMap"),describe("demo",function(){return afterEach(function(){return dc.reset()}),describe("sum",function(){return it("should construct and create components",function(){var t,e,n,o,u,r,a,i,d,l,s;return s=c({a:3,b:2}),t=s.a$,n=s.b$,e=s.a_,o=s.b_,i=D(t),d=D(n),l=P(a=A(r=x.add(e,o))),q(r()).to.equal(5,"sum 1"),e(1),q(r()).to.equal(3,"sum 2"),u=H(i,d,l),u.mount("#demo"),q(l.node.innerHTML).to.equal("3","mount"),i.node.value="3",d.node.value="4",i.node.onchange({type:"change"}),d.node.onchange({type:"change"}),q(e()).to.equal("3","a_"),q(o()).to.equal("4","b_"),q(r()).to.equal("34","sum"),q(!!u.valid).to.equal(!0,"comp.valid"),q(!!l.valid).to.equal(!0,"z.valid"),dc.update(),q(l.node.innerHTML).to.equal("34","update")})}),describe("combobox",function(){return it("should process event property of child component",function(){var t,e,n;return n=0,e=h({},t=M({onmouseenter:function(){return n=1}}),h({},"wawa")),e.mount(),t.node.onmouseenter({type:"mouseenter"}),q(n).to.equal(1)}),it("should process event property of child component with model directive",function(){var t,e,n;return n=0,e=h({},t=M({$model:m({},"x"),onmouseenter:function(){return n=1}}),h({},"wawa")),e.mount(),t.node.onmouseenter({type:"mouseenter"}),q(n).to.equal(1)})}),describe("text model",function(){return it("should text model by value",function(){var t,e,n,o,u,r;return t=c(o={a:1}).a$,e={onchange:function(){return dc.update()}},n=H(u=D(e,t),r=D(e,t)),n.mount(),u.node.value=3,u.node.onchange({type:"change"}),q(o.a).to.equal("3","m.a"),q(r.node.value).to.equal("3","text2.node.value")}),it("should text model by value and onchange",function(){var t,e,n,o,u,r;return t=c(o={a:1}).a$,e={value:t,onchange:function(){return t(this.value),dc.update()}},n=H(u=D(e),r=D(e)),n.mount(),u.node.value=3,u.node.onchange({type:"change"}),q(o.a).to.equal("3","m.a"),q(r.node.value).to.equal("3","text2.node.value")})}),describe("combo",function(){return it("should combobox",function(){var t,e,n,o,u,r,a,i;return a=I(!1),e=null,i=I(""),r=function(){var t,e,n,u;for(n=[1,2],u=[],t=0,e=n.length;e>t;t++)o=n[t],u.push(function(t){return $({style:{display:"block",border:"1px solid blue","min-width":"40px"},onclick:function(){return i(t),dc.update()}},t)}(o));return u}(),t=g(t,{onmouseleave:function(){return a(!1),dc.update()}}),e=h(t,n=M({$model:i,onmouseenter:function(){return a(!0),dc.update()}}),u=h({style:{display:x(a,function(){return a()?"block":"none"})}},r)),e.mount(),q(n.node.value).to.equal(""),q(a()).to.equal(!1),q(u.node.style.display).to.equal("none"),n.node.onmouseenter({type:"mouseenter"}),q(u.node.style.display).to.equal("block"),r[1].node.onclick({type:"click"}),q(n.node.value).to.equal("2")})}),describe("controls",function(){return it("should mount controls and others",function(){var t;return t=s(),t.mount("#demo"),q(t.node.length).to.equal(2),t.unmount()})}),describe("mount/unmount",function(){return it("should mount/unmount sub component",function(){var t,e,n;return n=h("toggle me"),t=H(h({onclick:function(){return n.mount()}},"mount",h({onclick:function(){return n.unmount()}},"unmount"))),e=H(t,n),n.mount(),n.unmount(),e.mount(),e.unmount()})}),describe("todomvc",function(){var t,e;return e=null,it("should process class",function(){var t;return t=i({className:{selected:1},href:"#/"}),t.mount("#demo"),q(t.node.className).to.equal("selected")}),it("should construct and create components",function(){var t;return t=L(i({className:{selected:1},href:"#/"},"All")),t.mount("#demo"),q(t.children[0].node.className).to.equal("selected"),q(t.children[0].node.href).to.match(/:\/\//)}),t=function(t,e){var n;return e.hash="all",n=function(){return"active"===e.hash?t.filter(function(t){return t&&!t.completed}):"completed"===e.hash?t.filter(function(t){return t&&t.completed}):t},w(n,function(t){return P(A(function(){return t.title}),", ",A(function(){return t.completed?"completed":"uncompleted"}))})},it("should mount getTodos and each with empty todos correctly",function(){var e,n;return n=[],e=t(n,{hash:"all"}),e.mount(),q(e.node.length).to.equal(0)}),it("should invalidate children to listComponent",function(){var n,o;return o=[{title:"do this"}],n=t(o,e={hash:"all"}),n.mount(),q(n.children.length).to.equal(1,"1-1"),e.hash="completed",dc.update(),q(n.children.length).to.equal(0,"1-2"),e.hash="all",dc.update(),q(n.children.length).to.equal(1,"1-3")}),it("should process getTodos and each correctly",function(){var n,o;return o=[{title:"do this"}],n=t(o,e={hash:"all"}),n.mount(),q(n.node.length).to.equal(1),e.hash="completed",dc.update(),q(n.node.length).to.equal(0),e.hash="all",dc.update(),q(n.node.length).to.equal(1)}),it("should todoEditArea",function(){var t,e,n,o,u,r;return o=dc.section,r=dc.ul,e=dc.footer,u=v(n=[1,2],function(t,e){return L(t)}),t=o({id:"main"},r({id:"todo-list"},u),e({id:"footer"})),t.mount(),q(u.node.length).to.equal(2),n.push(3),dc.update(),q(u.node.length).to.equal(3)}),it("should switch todo by status",function(){var t,e,n,o;return n=2,o=[1,2,3,4,5,6],e=function(){return 0===n?o.filter(function(t){return t&&t%2===0}):1===n?o.filter(function(t){return t&&t%2===1}):o.filter(function(t){return t})},t=w(e,function(t,e){return A(" "+t)}),t.mount(),q(t.children.length).to.equal(6),q(t.node.length).to.equal(6),q(t.node[0].textContent).to.equal(" 1"),q(t.node[1].textContent).to.equal(" 2"),n=0,dc.update(),q(t.children.length).to.equal(3,"children 2"),q(t.node.length).to.equal(3),q(t.node[0].textContent).to.equal(" 2"),q(t.node[1].textContent).to.equal(" 4"),n=1,dc.update(),q(t.children.length).to.equal(3,"children 3"),q(t.node.length).to.equal(3),q(t.node[0].textContent).to.equal(" 1"),q(t.node[1].textContent).to.equal(" 3")})})})},function(t,e){var n,o,u,r,a,i;r=dc.list,n=dc.a,u=dc.checkbox,i=dc.text,a=dc.p,o=dc.bindings,t.exports=function(){var t,e,n,a,c,d,l,s;return t=o({a:1}).a$,a=r(e=u(t),n=u(t)),s=r(d=i(t),l=i(t)),t(6),c=r(a,s),dc.updateWhen([e,n,d,l],"change"),c}},function(t,e,n){var o,u,r,a,i,c,d,l;l=n(2),u=l.expect,a=l.iit,r=l.idescribe,d=l.nit,c=l.ndescribe,o=l.ddescribe,i=dc.isComponent,t.exports=function(t,e,n,o){return null==o&&(o=!0),describe(e,function(){var e,u,r;if(n)return a("should "+n,function(){var e;return e=t[n],"function"==typeof e&&(e=e()),i(e)&&(e.mount(),dc.update(),o)?e.unmount():void 0});r=[];for(e in t)u=t[e],r.push(function(t,e){return it("should "+t,function(){return"function"==typeof e&&(e=e()),i(e)&&(e.mount(),dc.update(),o)?e.unmount():void 0})}(e,u));return r})}},function(t,e,n){var o,u,r,a,i,c,d,l,s,f,p,h,m,v,q,g,x,b,w,y;b=dc.select,x=dc.see,m=dc.if_,o=dc.case_,v=dc.list,h=dc.func,d=dc.each,c=dc.div,g=dc.p,dc.directives({$options:dc.$options,$model:dc.$model}),w=n(28),l=w.eachDemo1,s=w.eachDemo2,f=w.eachDemo3,p=w.eachDemo4,u=n(29),y=n(30),r=y.demoEachPush,a=y.demoIfEach,i=y.demoModelOnMultipleInput,e.demoMap={"choose web framework":u,"show hide":n(31),counter:n(32),event:n(33),controls:n(25),"if":n(34),each1:l,each2:s,each3:f,each4:p,"switch 1 2 3 4":n(35),sum:n(36),"text model":n(37),"mount/unmount":n(38)},e.makeDemoComponent=q=function(t,e){var n,u,r,a,i,d;r=x(e),u={};for(d in t)n=t[d],"function"==typeof n?u[d]=n():u[d]=n;return v(a=b({$options:[Object.keys(t)],$model:r}),c(o(r,u,i=u[e]))).updateWhen(a,"change")},e.runDemo=function(t,e,n){var o;return o=q(t,e),o.mount(n)}},function(t,e){var n,o,u,r;o=dc.list,n=dc.each,u=dc.p,r=dc.txt,e.eachDemo1=function(){var t,e;return e=[1,2],t=o(e)},e.eachDemo2=function(){var t,e;return e=[1,2],t=n(e,function(t){return u(t)})},e.eachDemo3=function(){var t,e;return e=[1,2,3,4,5,6],t=n(e,function(t){return u(t)}),t.on("willAttach",function(){return setTimeout(function(){return e.push(7),dc.update()},1e3),setTimeout(function(){return e.setLength(4),dc.update()},2e3)}),t},e.eachDemo4=function(){var t,e;return e=[1,2,3,4,5,6],t=n(e,function(t){return r(t)}),t.on("willAttach",function(){return setTimeout(function(){return e.push(7),dc.update()},1e3),setTimeout(function(){return e.setLength(4),dc.update()},2e3)}),t}},function(t,e){var n,o,u,r,a,i,c,d,l,s;a=dc.flow,l=dc.see,n=dc.case_,u=dc.each,r=dc.every,i=dc.func,d=dc.list,o=dc.div,c=dc.label,s=dc.text,t.exports=function(){var t,e,u,a,i,f,p,h,m,v,q;for(a=l("d",function(t){return t.toLowerCase()}),u=null,m=c("Please choose: "),h=s({onchange:function(){return dc.update()}},a),i=["Domcom","jQuery","Angular","React","Backbone","Ember"],p=r(i,function(t){return o(""+t[0]+". "+t)}),t={},v=0,q=i.length;q>v;v++)f=i[v],t[f[0]]=f;return e=n(a,t,"some other things"),u=d(m,h,p,o("You perfer ",e,"."))},t.exports=function(){var t,e,n,r,f,p,h,m,v;return r=l("d",function(t){return t.toLowerCase()}),n=null,m=c("Please choose: "),h=s({onchange:function(){return dc.update()}},r),f=["Domcom","jQuery","Angular","React","Backbone","Ember"],p=u(f,function(t){return o(""+t[0]+". "+t)}),v=c("add some others: "),t=s({onchange:function(){var t;return t=this.value,f.push(t),r(t[0]),dc.update()}}),e=i(a(r,function(){var t,e,n,o;for(t=r(),n=0,o=f.length;o>n;n++)if(e=f[n],e[0].toLowerCase()===t)return e;return"some other things"})),n=d(m,h,v,t,p,o("You perfer ",e,"."))}},function(t,e){var n,o,u,r,a,i,c,d;c=dc.see,r=dc.if_,a=dc.list,u=dc.each,n=dc.div,i=dc.p,d=dc.text,o=dc.duplex,e.demoEachPush=function(){var t,e;return e=[1,2],t=a(u(e,function(t){return i(t)}),"some other thing"),t.mount(),e.push(3),dc.update()},e.demoIfEach=function(){var t,e,o;return o=c(!0),e=[1,2],t=r(o,u(e,function(t){return n(t)})),t.mount(),o(!1),dc.update(),o(!0),dc.update()},e.demoModelOnMultipleInput=function(){var t,e,n,u;return t={},n=d({$model:o(t,"x")}),u=d({$model:o(t,"x")}),e=a(n,u),dc.updateWhen([n,u],"change"),e.mount()}},function(t,e){var n,o,u,r,a,i,c;u=dc.list,i=dc.text,n=dc.div,r=dc.p,a=dc.see,o=dc.flow,c=o.toggle,t.exports=function(){var t,e;return e=a(!0),t=u(n({onclick:function(){return c(e),dc.update()}},"show/hide by changing style.display"),r({"class":{},style:{display:function(){return e()?"block":"none"}}},"asdfdfs"))}},function(t,e){var n,o,u;u=dc.txt,n=dc.p,o=dc.see,t.exports=function(){var t,e,r,a;return r=o(e=0),t=n(a=u(r)),t.on("willAttach",function(){var t,n;return t=function(){return r(e++),1e3===e?clearInterval(n):void 0},n=setInterval(t,1)}),dc.updateWhen(setInterval,{interval:16,clear:function(){return e>=1e3}}),t}},function(t,e){var n,o,u,r,a;u=dc.list,n=dc.a,o=dc.checkbox,a=dc.text,r=dc.p,t.exports=function(){var t,e;return e=n({onclick:function(){return alert("parent")}},r({onclick:function(t){return alert("child"),t.continuePropagation=!0}},"propagation")),t=n({onclick:function(){return alert("parent")}},r({onclick:function(t){return alert("child")}},"do not propagation")),u(e,t)}},function(t,e){var n,o,u,r,a;u=dc.list,o=dc.if_,a=dc.text,n=dc.div,r=dc.see,t.exports=function(){var t,e;return e=r(0,parseNumber),t=u(a({onchange:function(){return e=parseInt(this.value),dc.update()}},e),o(e,n(1),n(2)))},t.exports=function(){var t,e;return e=r(0,parseFloat),t=u(a({onchange:function(){return dc.update()}},e),o(e,n("It is not 0."),n("It is 0 or NaN.")))}},function(t,e){var n,o,u,r,a,i,c;r=dc.func,c=dc.see,u=dc.flow,o=dc.each,a=dc.list,n=dc.div,i=dc.number,t.exports=function(){var t,e,u,r;return r=0,t=null,e=i({onchange:function(){return r=parseInt(this.value),dc.update()}}),u=o([0,1,2,3],function(t){return n({style:{display:function(){return t===r?"block":"none"}}},t)}),t=a(e,u)},t.exports=function(){var t,e,o;return o=0,t=null,e=i({onchange:function(){return o=parseInt(this.value),dc.update()}}),t=a(e,r(function(){return o>=0&&3>=o?n(o):void 0}))},t.exports=function(){var t,e,o;return o=c(0),t=a(e=i(o),r(u(o,function(){var t;return t=o(),t>=0&&3>=t?n(t):void 0})),dc.updateWhen(e,"change"))}},function(t,e){var n,o,u,r,a,i;a=dc.see,o=dc.flow,u=dc.list,i=dc.text,r=dc.p,t.exports=n=function(){var t,e,n,c,d,l;return t=a(1,parseFloat),e=a(2,parseFloat),n=u(d=i({value:t,onchange:function(){return t(this.value)}}),l=i({value:e,onchange:function(){return e(this.value)}}),c=r(o.add(t,e))),dc.updateWhen([d,l],"change"),n},t.exports=n=function(){var t,e,n,c,d,l;return t=a(1),e=a(2),n=u(d=i({value:t,onchange:function(){return t(1*this.value)}}),l=i({value:e,onchange:function(){return e(1*this.value)}}),c=r(o.add(t,e))),dc.updateWhen([d,l],"change"),n}},function(t,e){var n,o,u,r,a;r=dc.list,o=dc.bindings,n=dc.a,u=dc.checkbox,a=dc.text,t.exports=function(){var t,e,u;return t=o({a:1}).a$,e={onchange:function(){return dc.update()}},u=r(n=a(e,t),a(e,t))}},function(t,e){var n,o,u,r;u=dc.list,n=dc.div,r=dc.see,o=dc.if_,t.exports=function(){var t,e,a;return t=r(!0),e=u(n({onclick:function(){return t(!0),dc.update()}},"mount"),n({onclick:function(){return t(!1),dc.update()}},"unmount"),a=o(t,n("toggle me")))}}]);