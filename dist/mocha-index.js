!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([/*!*********************************!*\
  !*** ./test/mocha/index.coffee ***!
  \*********************************/
function(t,e,n){n(/*! dc-util/test-util */4),n(/*! lazy-flow/test-flow */8),n(/*! lazy-flow-at/test-at */11),n(/*! ./test-property */13),n(/*! ./test-toString */14),n(/*! ./test-dc */15),n(/*! ./test-base-component */16),n(/*! ./test-component */18),n(/*! ./test-directive */1),n(/*! ./test-singleton */19),n(/*! ./test-group */20),n(/*! ./test-ref-clone */21),n(/*! ./test-accordion */22),n(/*! ./test-component-event */23),n(/*! ./test-route */24),n(/*! ./test-for-demo */25)},/*!******************************************!*\
  !*** ./test/mocha/test-directive.coffee ***!
  \******************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L;L=n(/*! bdd-test-helper */2),h=L.expect,g=L.iit,m=L.idescribe,x=L.nit,b=L.ndescribe,u=dc.Component,w=dc.list,p=dc.func,v=dc.if_,f=dc.each,a=dc.a,l=dc.div,q=dc.p,_=dc.span,T=dc.text,N=dc.select,y=dc.input,r=dc.$show,o=dc.$hide,i=dc.$splitter,s=dc.bindings,d=dc.duplex,C=dc.see,dc.directives(dc.builtinDirectives),c=s({a:1}).a$,describe("directives",function(){return describe("model ",function(){return it("should process model  directive",function(){var t;return t=T({$model:c}),t.mount(),t.node.value="2",t.node.onchange(),h(c()).to.equal("2")}),it("should process event property of component with model directive",function(){var t,e,n,o;return o=0,n=d(e={},"x"),t=y({$model:n,onmouseenter:function(){return o=1}}),t.mount(),t.node.onmouseenter(),h(o).to.equal(1)})}),describe("$show",function(){return it("should process $show directive",function(){var t;return t=l({$show:!0}),t.mount(),h(t.node.style.display).to.equal("block")}),it("should process $show directive with non block display",function(){var t;return t=l({style:{display:"inline"},$show:!0}),t.mount(),h(t.node.style.display).to.equal("inline")}),it("should process $show directive with false value",function(){var t;return t=l({$show:!1},l(1)),t.mount(),h(t.node.style.display).to.equal("none")}),it("should process $show directive with function value",function(){var t,e;return e=C(!0),t=l({$show:e}),h(t.style.display.invalidate).to.be.defined,t.mount(),h(t.node.style.display).to.equal("block",1),e(!1),h(t.hasActiveStyle).to.equal(!0),t.update(),h(t.node.style.display).to.equal("none",2)}),it("should process hide directive",function(){var t;return t=l({$hide:!0},l(1)),t.mount(),h(t.node.style.display).to.equal("none"),t=l({$hide:!1},l(1)),t.mount(),h(t.node.style.display).to.equal("block")}),it("should process show directive with true or false value",function(){var t;return t=r(!1)(l(l(1))),t.mount(),h(t.node.style.display).to.equal("none"),t=r(!0)(l(l(1))),t.mount(),h(t.node.style.display).to.equal("block")})}),b("select options",function(){return it("should constructor select with options",function(){var t;return t=N({$options:[[1,2]]}),t.mount(),h(t.node.innerHTML).to.match(/<option>1/),h(t.node.innerHTML).to.equal("<option>1</option><option>2</option>")})}),describe("splitter",function(){return it("should constructor splitter",function(){var t,e,n;return n=i("vertical")(l({style:{height:"800px",width:"200px"}},l(1),l(2))),n.mount(),t=n.node.getBoundingClientRect(),h(t.width>0).to.equal(!0),h(n.node.innerHTML).to.match(/splitbar/),e=n.children,h(e[1].node.getBoundingClientRect().top).to.equal(n.node.getBoundingClientRect().top),e[1].node.onmousedown(),n.node.onmousemove({clientX:20,clientY:30,preventDefault:function(){},stopPropagation:function(){}}),h(e[1].node.getBoundingClientRect().top).to.equal(n.node.getBoundingClientRect().top),h(e[1].node.style.top).to.equal("0px"),n.node})})})},/*!***********************************!*\
  !*** ../bdd-test-helper/index.js ***!
  \***********************************/
function(t,e,n){var o;o="undefined"==typeof window?n(/*! chai */3):window.chai,e.expect=o.expect,e.iit=it.only,e.idescribe=describe.only,e.nit=function(){},e.ndescribe=function(){}},/*!***********************!*\
  !*** external "chai" ***!
  \***********************/
function(t,e){t.exports=chai},/*!***********************************!*\
  !*** ../dc-util/test-util.coffee ***!
  \***********************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d;l=n(/*! bdd-test-helper */2),i=l.expect,a=l.iit,u=l.idescribe,s=l.nit,c=l.ndescribe,d=n(/*! ./index */5),r=d.binarySearch,o=d.binaryInsert,describe("util",function(){return describe("binarySearch",function(){return it("should binarySearch(0, [])",function(){return i(r(0,[])).to.deep.equal(0)}),it("should binarySearch(0, [0])",function(){return i(r(0,[0])).to.deep.equal(0)}),it("should binarySearch(0, [1])",function(){return i(r(0,[1])).to.deep.equal(0)}),it("should binarySearch(1, [1 2])",function(){return i(r(1,[1,2])).to.deep.equal(0)}),it("should binarySearch(2, [1 2])",function(){return i(r(2,[1,2])).to.deep.equal(1)}),it("should binarySearch(2, [1 3])",function(){return i(r(2,[1,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3])",function(){return i(r(2,[1,2,3])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 3 4])",function(){return i(r(2,[1,2,3,4])).to.deep.equal(1)}),it("should binarySearch(2, [1 2 4 5])",function(){return i(r(3,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5])",function(){return i(r(4,[1,2,4,5])).to.deep.equal(2)}),it("should binarySearch(2, [1 2 4 5 6])",function(){return i(r(4,[1,2,4,5,6])).to.deep.equal(2)})}),describe("binaryInsert",function(){return it("should binaryInsert(0, [])",function(){var t;return o(0,t=[]),i(t).to.deep.equal([0])}),it("should binaryInsert(0, [0])",function(){var t;return o(0,t=[0]),i(t).to.deep.equal([0])}),it("should binaryInsert(0, [1])",function(){var t;return o(0,t=[1]),i(t).to.deep.equal([0,1])}),it("should binaryInsert(1, [1 2])",function(){var t;return o(1,t=[1,2]),i(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 2])",function(){var t;return o(2,t=[1,2]),i(t).to.deep.equal([1,2])}),it("should binaryInsert(2, [1 3])",function(){var t;return o(2,t=[1,3]),i(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3])",function(){var t;return o(2,t=[1,2,3]),i(t).to.deep.equal([1,2,3])}),it("should binaryInsert(2, [1 2 3 4])",function(){var t;return o(2,t=[1,2,3,4]),i(t).to.deep.equal([1,2,3,4])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(3,t=[1,2,4,5]),i(t).to.deep.equal([1,2,3,4,5])}),it("should binaryInsert(2, [1 2 4 5])",function(){var t;return o(4,t=[1,2,4,5]),i(t).to.deep.equal([1,2,4,5])}),it("should binaryInsert(2, [1 2 4 5 6])",function(){var t;return o(4,t=[1,2,4,5,6]),i(t).to.deep.equal([1,2,4,5,6])})})})},/*!*******************************!*\
  !*** ../dc-util/index.coffee ***!
  \*******************************/
function(t,e,n){var o,r,i=[].slice;e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,o;for(e=1<=arguments.length?i.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,o={};n>t;)o[e[t]]=e[t+1],t+=2;return o},o=function(t,e){var n,o;for(o="",n=0;n++<e;)o+=t;return o},e.newLine=function(t,e,n){return n?"\n"+o(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return e=o,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},r=1,e.newDcid=function(){return r++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,o;if("("===t[e])for(o=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++e;o--}},e.intersect=function(t){var e,n,o,r,i,u,a,c;i={},o=t[0];for(n in o){for(e=!0,c=t.slice(1),u=0,a=c.length;a>u;u++)if(r=c[u],!r[n]){e=!1;break}e&&(i[n]=o[n])}return i},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,o,r,i;if(r=e.length,!r)return 0;if(1===r)return e[0]>=t?0:1;for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]>=t?o:o+1;if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return o+1;i=o+1}}},e.binaryInsert=function(t,e){var n,o,r,i;if(r=e.length,!r)return e[0]=t,0;if(1===r)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]===t?o:e[o]>t?(e.splice(o,0,t),o):(e.splice(o+1,0,t),o+1);if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return e.splice(o+1,0,t),o+1;i=o+1}}},e.numbers=function(t){var e,o,r;if(e=n(/*! lazy-flow */6),"function"==typeof t)return e(t,function(){var e,n,o;for(e=0,o=[],n=t();n>e;)o.push(e),e++;return o});for(o=0,r=[];t>o;)r.push(o),o++;return r}},/*!*****************************!*\
  !*** ../lazy-flow/index.js ***!
  \*****************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d=[].slice;l=n(/*! dc-util */7),u=l.newLine,i=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;if("function"!=typeof e)throw new Error("call back should be a function");return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,o;return o=t.invalidateCallbacks,!o||(n=o.indexOf(e),0>n)?void 0:(o.splice(n,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var e,n,o,r;if(t.valid&&t.invalidateCallbacks){for(r=t.invalidateCallbacks,n=0,o=r.length;o>n;n++)(e=r[n])();t.valid=!1}},t)},c=function(t){var e;return e=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=t(),e.valid=!0,e.invalidate(),n},e.toString=function(){return"renew: "+i(t)},a(e)},o=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t())},n.toString=function(){return"dependent: "+i(t)},a(n)},t.exports=r=function(){var t,e,n,o,r,u,c,s,l,f;for(o=2<=arguments.length?d.call(arguments,0,u=arguments.length-1):(u=0,[]),e=arguments[u++],c=0,l=o.length;l>c;c++)if(n=o[c],"function"==typeof n&&!n.invalidate)return r=a(function(){return r.invalidate(),e()});for(t=null,r=a(function(n){return arguments.length?n===t?n:(t=n,e(n),r.invalidate(),t):r.valid?t:(r.valid=!0,t=e())}),s=0,f=o.length;f>s;s++)n=o[s],n&&n.onInvalidate&&n.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(n.toString());return r}().join(",")+"] --> "+i(e)},r},r.pipe=function(){var t,e,n,o,r,i,u,c,s;for(n=2<=arguments.length?d.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],i=0,c=n.length;c>i;i++)if(e=n[i],"function"==typeof e&&!e.invalidate)return o=a(function(){var r,i,u;if(argumnets.length)throw new Error("flow.pipe is not allow to have arguments");for(o.invalidate(),r=[],i=0,u=n.length;u>i;i++)e=n[i],"function"==typeof e?r.push(e()):r.push(e);return t.apply(null,r)});for(o=a(function(){var o,r,i;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],"function"==typeof e?o.push(e()):o.push(e);return t.apply(null,o)}),u=0,s=n.length;s>u;u++)e=n[u],e&&e.onInvalidate&&e.onInvalidate(o.invalidate);return o},r.react=a,r.renew=c,r.dependent=o,r.flow=r,r.see=s=function(t,e){var n,o;return n=t,o=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,o.invalidate()),t):(o.valid=!0,n)},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},r.seeN=function(){var t,e,n,o,r;for(e=1<=arguments.length?d.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(s(t));return r},Object.defineProperty?(r.bind=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,i=o.set),r&&r.invalidate||(r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue},r.cacheValue=t[e],u=function(n){return n!==t[e]?(i&&i(n),r.invalidate(),r.cacheValue=n):void 0},a(r),r.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:r,set:u})),r},r.duplex=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,u=o.set),u&&u.invalidate?u:(i=function(n){return arguments.length?n!==t[e]?(u&&u(n),r&&r.invalidate&&r.invalidate(),i.invalidate(),i.cacheValue=n):void 0:(i.valid=!0,i.cacheValue)},i.cacheValue=t[e],a(i),i.isDuplex=!0,i.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:i,set:i}),i)}):(r.bind=function(t,e,n){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]?(r&&r[e]&&r[e].invalidate(),(o=this._dcDuplexMethodMap)&&o[e]&&o[e].invalidate()):void 0}),o=r[e],o||(o=r[e]=function(){return o.valid=!0,t[e]},o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o},r.duplex=function(t,e,n){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]&&((o=this._dcBindMethodMap)&&o[e]&&o[e].invalidate(),r&&r[e]&&r[e].invalidate()),n}),o=r[e],o||(o=r[e]=function(n){return arguments.length?t.dcSet$(e,n):(o.valid=!0,t[e])},o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o}),r.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?r(t,function(){return e(t())}):function(){return e(t())}},r.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?r(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?r(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?r(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},/*!***************************!*\
  !*** ../dc-util/index.js ***!
  \***************************/
function(t,e,n){var o,r,i=[].slice;e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,o;for(e=1<=arguments.length?i.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,o={};n>t;)o[e[t]]=e[t+1],t+=2;return o},o=function(t,e){var n,o;for(o="",n=0;n++<e;)o+=t;return o},e.newLine=function(t,e,n){return n?"\n"+o(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(o){return e=o,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},r=1,e.newDcid=function(){return r++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,o;if("("===t[e])for(o=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++e;o--}},e.intersect=function(t){var e,n,o,r,i,u,a,c;i={},o=t[0];for(n in o){for(e=!0,c=t.slice(1),u=0,a=c.length;a>u;u++)if(r=c[u],!r[n]){e=!1;break}e&&(i[n]=o[n])}return i},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,o,r,i;if(r=e.length,!r)return 0;if(1===r)return e[0]>=t?0:1;for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]>=t?o:o+1;if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return o+1;i=o+1}}},e.binaryInsert=function(t,e){var n,o,r,i;if(r=e.length,!r)return e[0]=t,0;if(1===r)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(i=0,n=r-1;;){if(o=i+Math.floor((n-i)/2),i===n)return e[o]===t?o:e[o]>t?(e.splice(o,0,t),o):(e.splice(o+1,0,t),o+1);if(t===e[o])return o;if(t===e[o+1])return o+1;if(t<e[o])n=o;else{if(!(t>e[o+1]))return e.splice(o+1,0,t),o+1;i=o+1}}},e.numbers=function(t){var e,o,r;if(e=n(/*! lazy-flow */6),"function"==typeof t)return e(t,function(){var e,n,o;for(e=0,o=[],n=t();n>e;)o.push(e),e++;return o});for(o=0,r=[];t>o;)r.push(o),o++;return r}},/*!*************************************!*\
  !*** ../lazy-flow/test-flow.coffee ***!
  \*************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g;m=n(/*! bdd-test-helper */2),u=m.expect,s=m.iit,c=m.idescribe,d=m.nit,l=m.ndescribe,v=n(/*! ./index */9),h=v.see,o=v.bind,i=v.duplex,f=v.renew,a=v.flow,g=n(/*! ./addon */10),r=g.bindings,p=g.seeAttrs,describe("reactive flow",function(){return it("should see",function(){var t;return t=h(1),u(t()).to.equal(1),u(t(2)).to.equal(2),u(t()).to.equal(2)}),it("should renew",function(){var t,e;return e=1,t=f(function(){return e},!0),u(t()).to.equal(1),u(function(){return t(2)}).to["throw"](),e=2,u(t()).to.equal(2)}),it("should flow",function(){var t,e,n;return t=h(1),e=h(2),n=a(t,e,function(){return t()+e()}),u(n()).to.equal(3),t(2),u(n()).to.equal(4)}),it("should flow unary",function(){var t,e,n,o;return o=r({a:4,b:2}),t=o.a_,e=o.b_,n=a.neg(t),u(n()).to.equal(-4,"neg"),n=a.no(t),u(n()).to.equal(!1,"not"),n=a.abs(a.neg(t)),u(n()).to.equal(4,"abs neg"),n=a.bitnot(t),u(n()).to.equal(-5,"bitnot")}),it("should flow binary",function(){var t,e,n,o;return o=r({a:4,b:2}),t=o.a_,e=o.b_,n=a.add(t,e),u(n()).to.equal(6,"add"),n=a.sub(t,e),u(n()).to.equal(2,"sub"),n=a.mul(t,e),u(n()).to.equal(8,"mul"),n=a.div(t,e),u(n()).to.equal(2,"div")}),it("should invalidate flow binary",function(){var t,e,n;return t=h(1),e=h(2),n=a.add(t,e),u(n()).to.equal(3,"add"),t(3),u(n()).to.equal(5,"add 2")}),it("should invalidate bind flow binary",function(){var t,e,n,r;return n={a:1,b:2},t=o(n,"a","m"),e=o(n,"b","m"),r=a.add(t,e),u(r()).to.equal(3,"add"),u(function(){return t(3)}).to["throw"](),u(r()).to.equal(3,"add 2")}),it("should bind",function(){var t,e,n;return n={a:1},t=o(n,"a"),e=o(n,"a"),u(t()).to.equal(1),u(e()).to.equal(1,"a2"),u(function(){return t(3)}).to["throw"](),u(t()).to.equal(1,"a again"),u(e()).to.equal(1,"a2 again")}),it("should process bindings",function(){var t,e,n;return n=r({a:1}),t=n.a$,e=n.a_,t(3),u(e()).to.equal(3)}),it("should process multiple bind and duplex on same object and attr",function(){var t,e,n,o,r,c;return r={a:1,b:2},t=i(r,"a"),n=i(r,"b"),e=i(r,"a"),o=i(r,"b"),c=a.add(t,n),u(c()).to.equal(3,"sum 1"),u(c.valid).to.equal(!0,"valid 1"),e(3),u(c.valid).to.equal(!1,"valid 2"),u(c()).to.equal(5,"sum 2"),c=a.add(e,o),u(c()).to.equal(5,"sum 3"),u(c.valid).to.equal(!0,"valid 3"),e(1),u(c.valid).to.equal(!1,"valid 4"),u(c()).to.equal(3,"sum 4")}),it("should seeAttrs",function(){var t,e;return t={},e={x:1},p(t,e),u(typeof t.x).to.equal("function"),u(t.x()).to.equal(1),e={x:2},p(t,e),u(typeof t.x).to.equal("function"),u(t.x()).to.equal(2)})})},/*!*********************************!*\
  !*** ../lazy-flow/index.coffee ***!
  \*********************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d=[].slice;l=n(/*! dc-util */7),u=l.newLine,i=l.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;if("function"!=typeof e)throw new Error("call back should be a function");return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,o;return o=t.invalidateCallbacks,!o||(n=o.indexOf(e),0>n)?void 0:(o.splice(n,1),o.length?void 0:t.invalidateCallbacks=null)},t.invalidate=function(){var e,n,o,r;if(t.valid&&t.invalidateCallbacks){for(r=t.invalidateCallbacks,n=0,o=r.length;o>n;n++)(e=r[n])();t.valid=!1}},t)},c=function(t){var e;return e=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=t(),e.valid=!0,e.invalidate(),n},e.toString=function(){return"renew: "+i(t)},a(e)},o=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.dependent is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t())},n.toString=function(){return"dependent: "+i(t)},a(n)},t.exports=r=function(){var t,e,n,o,r,u,c,s,l,f;for(o=2<=arguments.length?d.call(arguments,0,u=arguments.length-1):(u=0,[]),e=arguments[u++],c=0,l=o.length;l>c;c++)if(n=o[c],"function"==typeof n&&!n.invalidate)return r=a(function(){return r.invalidate(),e()});for(t=null,r=a(function(n){return arguments.length?n===t?n:(t=n,e(n),r.invalidate(),t):r.valid?t:(r.valid=!0,t=e())}),s=0,f=o.length;f>s;s++)n=o[s],n&&n.onInvalidate&&n.onInvalidate(r.invalidate);return r.toString=function(){return"flow: ["+function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(n.toString());return r}().join(",")+"] --> "+i(e)},r},r.pipe=function(){var t,e,n,o,r,i,u,c,s;for(n=2<=arguments.length?d.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],i=0,c=n.length;c>i;i++)if(e=n[i],"function"==typeof e&&!e.invalidate)return o=a(function(){var r,i,u;if(argumnets.length)throw new Error("flow.pipe is not allow to have arguments");for(o.invalidate(),r=[],i=0,u=n.length;u>i;i++)e=n[i],"function"==typeof e?r.push(e()):r.push(e);return t.apply(null,r)});for(o=a(function(){var o,r,i;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],"function"==typeof e?o.push(e()):o.push(e);return t.apply(null,o)}),u=0,s=n.length;s>u;u++)e=n[u],e&&e.onInvalidate&&e.onInvalidate(o.invalidate);return o},r.react=a,r.renew=c,r.dependent=o,r.flow=r,r.see=s=function(t,e){var n,o;return n=t,o=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,o.invalidate()),t):(o.valid=!0,n)},o.isDuplex=!0,o.toString=function(){return"see: "+t},a(o)},r.seeN=function(){var t,e,n,o,r;for(e=1<=arguments.length?d.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(s(t));return r},Object.defineProperty?(r.bind=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,i=o.set),r&&r.invalidate||(r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue},r.cacheValue=t[e],u=function(n){return n!==t[e]?(i&&i(n),r.invalidate(),r.cacheValue=n):void 0},a(r),r.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:r,set:u})),r},r.duplex=function(t,e,n){var o,r,i,u;return o=Object.getOwnPropertyDescriptor(t,e),o&&(r=o.get,u=o.set),u&&u.invalidate?u:(i=function(n){return arguments.length?n!==t[e]?(u&&u(n),r&&r.invalidate&&r.invalidate(),i.invalidate(),i.cacheValue=n):void 0:(i.valid=!0,i.cacheValue)},i.cacheValue=t[e],a(i),i.isDuplex=!0,i.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:i,set:i}),i)}):(r.bind=function(t,e,n){var o,r;return r=t._dcBindMethodMap,r||(r=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]?(r&&r[e]&&r[e].invalidate(),(o=this._dcDuplexMethodMap)&&o[e]&&o[e].invalidate()):void 0}),o=r[e],o||(o=r[e]=function(){return o.valid=!0,t[e]},o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o},r.duplex=function(t,e,n){var o,r;return r=t._dcDuplexMethodMap,r||(r=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var o;return n!==t[e]&&((o=this._dcBindMethodMap)&&o[e]&&o[e].invalidate(),r&&r[e]&&r[e].invalidate()),n}),o=r[e],o||(o=r[e]=function(n){return arguments.length?t.dcSet$(e,n):(o.valid=!0,t[e])},o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},a(o)),o}),r.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?r(t,function(){return e(t())}):function(){return e(t())}},r.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?r(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?r(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?r(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},/*!*********************************!*\
  !*** ../lazy-flow/addon.coffee ***!
  \*********************************/
function(t,e,n){var o,r,i,u,a,c,s;s=n(/*! ./index */9),a=s.see,r=s.bind,i=s.duplex,u=s.flow,c=s.unary,o=s.binary,t.exports=u,u.bindings=function(t,e){var n,o;o={};for(n in t)o[n+"$"]=i(t,n,e),o[n+"_"]=r(t,n,e);return o},u.seeAttrs=function(t,e){var n,o,r;for(o in e)r=e[o],n=t[o],"function"==typeof n?n(r):t[o]=a(r);return t},u.neg=function(t){return c(t,function(t){return-t})},u.no=function(t){return c(t,function(t){return!t})},u.bitnot=function(t){return c(t,function(t){return~t})},u.reciprocal=function(t){return c(t,function(t){return 1/t})},u.abs=function(t){return c(t,Math.abs)},u.floor=function(t){return c(t,Math.floor)},u.ceil=function(t){return c(t,Math.ceil)},u.round=function(t){return c(t,Math.round)},u.add=function(t,e){return o(t,e,function(t,e){return t+e})},u.sub=function(t,e){return o(t,e,function(t,e){return t-e})},u.mul=function(t,e){return o(t,e,function(t,e){return t*e})},u.div=function(t,e){return o(t,e,function(t,e){return t/e})},u.min=function(t,e){return o(t,e,function(t,e){return Math.min(t,e)})},u.funcAttr=function(t,e){return u(t,e,function(n){var o;return o=t(),null==o?o:arguments.length?o[e]=n:o[e]})},u.toggle=function(t){return t(!t())},u.if_=function(t,e,n){return"function"!=typeof t?t?e:n:t.invalidate?"function"==typeof e&&"function"==typeof n?e.invalidate&&n.invalidate?u(t,e,n,function(){return t()?e():n()}):function(){return t()?e():n()}:"function"==typeof e?e.invalidate?u(t,e,function(){return t()?e():n}):function(){return t()?e():n}:"function"==typeof n?n.invalidate?u(n,function(){return t()?e:n()}):function(){return t()?e:n()}:u(t,function(){return t()?e:n}):"function"==typeof e&&"function"==typeof n?function(){return t()?e():n()}:"function"===e?function(){return t()?e():n}:"function"===n?function(){return t()?e:n()}:t()?e:n}},/*!**************************************!*\
  !*** ../lazy-flow-at/test-at.coffee ***!
  \**************************************/
function(t,e,n){(function(t){var e,o,r,i,u,a,c;c=n(/*! bdd-test-helper */2),e=c.expect,i=c.iit,r=c.idescribe,a=c.nit,u=c.ndescribe,o=n(/*! ./index */12),describe("lazy-flow-at",function(){return it("should process flow.at",function(){var t,n,r;return n={},r=o.at(n,"x.y"),e(r()).to.equal(void 0),t=!1,r.onInvalidate(function(){return t=!0}),r(1),e(t).to.equal(!0),e(r()).to.equal(1),e(n.x.y).to.equal(1),t=!1,n.x={},e(t).to.equal(!0),e(n.x.y).to.equal(void 0)}),it("should process flow.at without root",function(){var n,r;return window.x=void 0,n=o.at("x.y"),e(n()).to.equal(void 0),n(1),e(n()).to.equal(1),r="undefined"!=typeof window?window:t,e(r.x.y).to.equal(1)})})}).call(e,function(){return this}())},/*!************************************!*\
  !*** ../lazy-flow-at/index.coffee ***!
  \************************************/
function(t,e,n){(function(e){var o,r,i,u,a,c,s,l,d,f;d=n(/*! dc-util */7),s=d.newLine,a=d.funcString,f=u=n(/*! lazy-flow */6),r=f.bind,i=f.duplex,l=f.react,t.exports=u,o=function(t){return function(n,o){var r,u;if(1===arguments.length&&(o=n,n="undefined"!=typeof window?window:e),"string"==typeof o&&(o=o.split(/\.\s*/)),!o.length)return n;if("object"!=typeof n)throw new Error("expect an object as the root of flow.at");return r=o.length,0===r?n:(u=l(function(t){var e,i,a;if(arguments.length){for(e=0,a=n;r-1>e;){if(i=a[o[e]],null==i)i=a[o[e]]={};else if("object"!=typeof a)throw new Error("expect an object");a=i,e++}return a[o[e]]=t,u.cacheValue!==t&&(u.cacheValue=t,u.invalidate(),u.valid=!1),t}for(u.valid=!0,e=0,i=n;r>e;){if(!i)return;i=i[o[e]],e++}return u.cacheValue=i}),t===i&&(u.isDuplex=!0),c(n,o,u,t))}},c=function(t,e,n,o){var r,i,u,a,s;if(a=e.length,!a)return n;for(s=t,u=0;a>u;){if(!s)return;r=e[u],i=o(s,r),i.onInvalidate(function(){return c(s[r],e.slice(u+1),n),n.invalidate()}),u++}return n},u.at=o(r),u.at2=o(i)}).call(e,function(){return this}())},/*!*****************************************!*\
  !*** ./test/mocha/test-property.coffee ***!
  \*****************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S,I;I=n(/*! bdd-test-helper */2),d=I.expect,g=I.iit,m=I.idescribe,q=I.nit,x=I.ndescribe,S=dc.util,u=dc.bind,l=dc.duplex,_=dc.see,c=dc.classFn,P=dc.styleFrom,i=dc.attrToPropName,f=dc.extendAttrs,o=dc.Component,w=dc.list,h=dc.func,v=dc.if_,r=dc.a,N=dc.p,L=dc.span,k=dc.text,y=dc.li,s=dc.div,a=dc.checkbox,b=dc.model,T=dc.show,p=dc.hide,M=dc.splitter,C=dc.options,describe("domcom/properties/utilities",function(){return it("styleFrom",function(){var t;return t=P("display:none; zIndex:100; backgroundColor:white;"),d(t).to.deep.equal({display:"none",zIndex:"100",backgroundColor:"white"})}),it("attrToPropName",function(){var t;return t=i("background-color"),d(t).to.equal("backgroundColor")}),it("cssAdd 1",function(){var t,e;return t=N({style:{width:"1px"}}),e=t.cssAdd("width",2),d(e).to.equal(t),d(t.css("width")).to.equal("3px")}),it("cssAdd 2",function(){var t,e;return t=N({style:{width:"0.5%"}}),e=t.cssAdd("width",3.6),d(e).to.equal(t),d(t.css("width")).to.equal("4.1%")}),it("cssMul",function(){var t,e;return t=N({style:{width:"2px"}}),e=t.cssMul("width",3),d(e).to.equal(t),d(t.css("width")).to.equal("6px")})}),describe("domcom/properties/extendAttrs",function(){return it("extendAttrs({class{a:1}}, className({b:1})",function(){var t;return t=f({"class":{a:1}},{className:{b:1}}),d(c(t.className)()).to.equal("a b")}),it("extendAttrs({style:{width:1}}, {style:{height:2}})",function(){var t;return t=f({style:{width:1}},{style:{height:2}}),d(t.style.width).to.equal(1),d(t.style.height).to.equal(2)})}),describe("domcom/properties/classFn",function(){return it("get value of classFn",function(){var t,e;return t=_(!0),e=c(["a",{b:t}]),d(e()).to.equal("a b"),t(!1),d(e()).to.equal("a")}),it("should compute valid",function(){var t;return t=c(["a"]),d(t.valid).to.equal(!1),d(t()).to.equal("a"),d(t.valid).to.equal(!0),t.extend("a"),d(t.valid).to.equal(!0),d(t()).to.equal("a"),t.extend("b"),d(t.valid).to.equal(!1),d(t()).to.equal("a b"),t.extend("!b"),d(t.valid).to.equal(!1),d(t()).to.equal("a")}),it("should get class property in component",function(){var t,e;return t=_(!0),e=s({"class":{a:1,b:t}}),d(e.className()).to.equal("a b"),e.className=c({a:1,b:t}),d(e.className.valid).to.equal(!1,"className.valid 1"),d(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 1"),e.mount(),d(e.className.valid).to.equal(!0,"className.valid 2"),d(e.hasActiveProperties).to.equal(!1,"hasActiveProperties 2"),d(e.node.className).to.equal("a b"),t(!1),d(e.className.valid).to.equal(!1,"className.valid 3"),d(e.hasActiveProperties).to.equal(!0,"hasActiveProperties 3"),e.update(),d(e.node.className).to.equal("a")})}),describe("domcom/properties/create",function(){return it("should create properties",function(){var t;return t=N({value:u({a:1},"a")}),d(t.className.valid).to.equal(!0,"className.valid"),d(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),t.mount(),d(t.node.value).to.equal(1)})}),describe("domcom/properties/event",function(){return it("click event ",function(){var t,e;return e=1,t=r({onclick:function(){return e=2}},"click me"),t.mount("#demo"),t.node.click(),d(e).to.equal(2)}),it("multiple handlers for one event",function(){var t,e,n,o;return t=l(o={a:1},"a"),n=sinon.spy(),e=k({onchange:n,$model:t}),e.mount(),e.node.value=2,e.node.onchange(),d(n.called).to.equal(!0),d(o.a).to.equal("2")}),it("multiple handlers for one event, with bind value",function(){var t,e,n,o;return t=l(o={a:1},"a"),n=sinon.spy(),e=k({onchange:n},t),e.mount(),e.node.value=2,e.node.onchange(),d(n.called).to.equal(!0),d(o.a).to.equal("2")})}),describe("domcom/properties/style",function(){return it("should set style property with string value",function(){var t,e;return t=r({style:"border:red 1px solid"},"red 1px solid"),d(t.className.valid).to.equal(!0,"className.valid"),d(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e=t.mount("#demo"),d(t.node.style.border).to.equal("1px solid red")}),it("should set style property",function(){var t,e;return t=r({style:{border:"red 1px solid"}},"red 1px solid"),e=t.mount("#demo"),d(t.node.style.border).to.equal("1px solid red")}),it("value of property of style could be dc expression",function(){var t,e;return t=r({style:{border:function(){return"red 1px solid"}}},"red 1px solid"),e=t.mount("#demo"),d(t.node.style.border).to.equal("1px solid red")}),q("change style dynamically",function(){var t,e,n,o,i,u,a;return u=function(t){if(!t.match(/^\d/))return t;for(;t.length<6;)t="0"+t;return"#"+t},t=_("red"),o=_(i=0),e=r({style:{borderWidth:flow(o,function(){return o()+"px"}),borderStyle:"solid",borderColor:flow(t,function(){return u(t().toString(16))})}},"dynamic property"),e.mount("#demo"),t=0,a=function(){return t+=1118481,o(i++),e.render(),50===i?clearInterval(n):void 0},n=setInterval(a,5)})}),describe("domcom/properties/bind checkbox",function(){return it("bidirectional bind checkbox",function(){var t,e,n;return dc.directives({$model:dc.$model}),n={a:1},t=l(n,"a"),e=a({$model:t}),e.mount("#demo"),d(e.node.onchange).to.be.defined,e.node.checked=!0,e.node.onchange(),d(n.a).to.equal(!0)})})},/*!*****************************************!*\
  !*** ./test/mocha/test-toString.coffee ***!
  \*****************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,q,C,N,_,T,L,M;M=n(/*! bdd-test-helper */2),p=M.expect,w=M.iit,g=M.idescribe,C=M.nit,q=M.ndescribe,m=dc.flow,l=dc.bindings,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,L=dc.txt,b=dc.list,v=dc.func,y=dc.if_,d=dc.case_,v=dc.func,h=dc.each,s=dc.accordionGroup,c=dc.accordion,a=dc.a,N=dc.p,_=dc.span,T=dc.text,f=dc.div,describe("toString",function(){return it("should toString list of if(tag)",function(){var t,e,n,o;return o=0,t=b(n=T({onchange:function(){return o=parseInt(this.value),t.update()}},o),e=y(function(){return o},f(1),f(2))),p(t.toString()).to.match(/<List>\n  <input type="text" value=0>/)}),it("should toString  tag with props",function(){var t,e;return e=0,t=f({value:1},1),p(t.toString()).to.equal("<div value=1>1</div>")}),it("should case.toString",function(){var t;return t=d(function(){return x},{1:N(1),2:N(2),3:N(3)},"others"),p(t.toString()).to.equal('<Case renew: fn:x>\n  1: <p>1</p>\n  2: <p>2</p>\n  3: <p>3</p>\n  "others"\n</Case>')}),it("should flow.add(a_, b_).toString",function(){var t,e,n,o;return o=l({a:1,b:2}),t=o.a_,e=o.b_,n=m.add(t,e),p(n.toString()).to.equal("flow: [m[a],m[b]] --> fn:binaryFn(x(), y())")})})},/*!***********************************!*\
  !*** ./test/mocha/test-dc.coffee ***!
  \***********************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d;d=n(/*! bdd-test-helper */2),o=d.expect,i=d.iit,r=d.idescribe,c=d.nit,a=d.ndescribe,l=d.rtimeout,s=d.rinterval,u=dc.isComponent,describe("test dc",function(){return describe("dc(document)",function(){return it("dc(document) should be Component",function(){return o(!u(dc(document))).to.equal(!0)}),it("should cache DomComponent",function(){return o(dc(document)).to.equal(dc(document))}),it("dc(document).bind should be a function",function(){var t;return t=0,dc(document).bind("onclick",function(){return t=1})})})})},/*!***********************************************!*\
  !*** ./test/mocha/test-base-component.coffee ***!
  \***********************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N;N=n(/*! bdd-test-helper */2),f=N.expect,m=N.iit,p=N.idescribe,w=N.nit,g=N.ndescribe,y=N.newDemoNode,y=n(/*! ./helper */17).newDemoNode,s=dc.bindings,x=dc.see,u=dc.Tag,a=dc.Text,r=dc.List,C=dc.txt,v=dc.list,b=dc.p,d=dc.div,o=dc.Html,h=dc.html,l=dc.classFn,q=dc.styleFrom,i=dc.Nothing,c=s({a:1,b:2}).a_,describe("test base component",function(){return describe("getBaseComponent",function(){return it("should get baseComponent of List",function(){var t;return t=v([1,2]),f(t.baseComponent).to.equal(t)}),it("should have correct children",function(){var t;return t=b(0),f(t.children[0].text).to.equal(0)})}),describe("process get baseComponent of Tag",function(){return it("should getBaseComponent of two tags",function(){var t,e;return e=new u("p",{},[]),t=new u("div",{},[e]),f(t.baseComponent).to.equal(t),f(t.children[0]).to.be["instanceof"](u),t.mount(),f(t.baseComponent.baseComponent).to.equal(t)}),it("should text.valid to be true",function(){var t;return t=C(1),t.mount(),f(!!t.valid).to.equal(!0)})}),describe("process creatDom",function(){return it("should creatDom of p(1)",function(){var t;return t=b(1),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(->1)",function(){var t;return t=b(function(){return 1}),t.mount(),f(t.node.innerHTML).to.equal("1")}),it("should creatDom of p(p(p(t=txt(->1))))",function(){var t,e;return t=b(b(b(e=C(function(){return 1})))),t.mount(),f(t.node.innerHTML).to.equal("<p><p>1</p></p>")}),it("should mount Text with text is 0",function(){var t;return t=new a(0),t.mount(),f(t.node.textContent).to.equal("0")}),it("should mount tag",function(){return b=new u("p",{},[]),b.mount(),f(b.node.tagName).to.equal("P")}),it("should mount  tag with attribute",function(){return b=new u("p",{className:l("some class"),style:q("width:1px;")},[]),b.mount(),f(b.node.className).to.equal("some class"),f(b.node.getAttribute("className")).to.equal(null)}),it("process bind as value",function(){var t;return t=new u("input",{type:"text",value:c},[new a(c)]),t.mount(),f(t.node.value).to.equal("1")}),it("tag shoud mount with multiple children ",function(){var t,e,n,o;return t=new u("p",{},[e=new a(1),n=new a(2),o=new a(3)]),f(t.children.length).to.equal(3),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("tag shoud mount with Nothing child",function(){var t,e,n,o,r;return t=new u("p",{},[e=new a(1),n=new a(2),o=new a(3),r=new i]),f(t.children.length).to.equal(4),t.mount(),f(t.node.childNodes.length).to.equal(3)}),it("should create tag with children",function(){var t;return t=new u("p",{className:l("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")])]),t.mount(),f(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t;return t=new u("p",{className:l("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")])]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount for tag with children",function(){var t;return t=new u("p",{className:l("some class"),style:q("width:1px;")},[new u("span",{},[new a("adf")]),new a(function(){})]),t.mount(),f(t.node.className).to.equal("some class")}),it("should mount list with children",function(){var t;return t=new r([new u("span",{},[new a("adf")]),new a(function(){return void 0})]),t.mount(),f(t.node[0].tagName).to.equal("SPAN")})}),describe("process Html",function(){return it("should mount html",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>"),t.mount(e=y()),f(e.innerHTML).to.equal(n)}),it("should mount html component with transform",function(){var t,e,n;return t=new o(n="<div>1</div><p>2</p>",function(t){return t+"a"}),t.mount(e=y()),f(e.innerHTML).to.equal(n+"a")}),it("should mount html component with reative function",function(){var t,e,n,r;return r=x(n="<div>1</div><p>2</p>"),t=new o(r,function(t){return t+"a"}),t.mount(e=y()),r("x"),t.update(),f(e.innerHTML).to.equal("xa"),t.update(),f(e.innerHTML).to.equal("xa")})})})},/*!**********************************!*\
  !*** ./test/mocha/helper.coffee ***!
  \**********************************/
function(t,e){e.newDemoNode=function(t){var e;return e=document.createElement("div"),document.body.appendChild(e),t&&e.setAttribute("id",t),e}},/*!******************************************!*\
  !*** ./test/mocha/test-component.coffee ***!
  \******************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P;P=n(/*! bdd-test-helper */2),h=P.expect,y=P.iit,v=P.idescribe,C=P.nit,q=P.ndescribe,c=dc.bindings,f=dc.duplex,p=dc.flow,l=dc.classFn,T=dc.styleFrom,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,x=dc.list,m=dc.func,g=dc.if_,M=dc.txt,a=dc.a,N=dc.p,_=dc.span,L=dc.text,b=dc.li,d=dc.div,s=dc.button,w=dc.input,describe("component  ",function(){return describe("construct component",function(){return it("component shoud have children",function(){var t;return t=N({},[1,2]),h(t.children.length).to.equal(2)}),it("should construct component",function(){var t,e;return e=new i("p",{},[]),t=new i("div",{},[e]),h(t.children[0]).to.equal(e)}),it("tag shoud have children 1",function(){var t;return t=new i("span",{},[new u("adf")]),h(t.children[0].text).to.equal("adf")}),it("tag shoud have children 2",function(){var t,e;return e=new i("span",{},[new u("adf")]),t=new i("div",{className:l("some class"),style:T("width:1px;")},[e]),h(t.children[0]).to.equal(e)})}),describe("component.append",function(){return C("should append tag.children",function(){var t,e;return t=d(),e=N(),t.append(e),h(t.children).to.equal(e)})}),describe("component.create",function(){return it("should create tag",function(){var t;return t=N(),t.mount(),h(t.node.tagName).to.equal("P"),h(t.node.innerHTML).to.equal("")}),it("should mount tag 1",function(){var t;return t=new i("div",{},[]),t.mount(),h(t.node.tagName).to.equal("DIV")}),it("should correctly create TextNode with 0 as content",function(){var t;return t=M(0),t.mount(),h(t.node.textContent).to.equal("0")}),it("should correctly create tag with 0 as content",function(){var t;return t=N(0),t.mount(),h(t.node.innerHTML).to.equal("0")}),it("should mount Text with flow value",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=M(p.add(t,e)),n.mount("#demo"),h(n.node.textContent).to.equal("3","mount")}),it("should not run event hanlder while creating tag",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should process event name without on",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering tag",function(){var t,e;return e=sinon.spy(),t=N({onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering button tag",function(){var t,e;return e=sinon.spy(),t=s({id:"search-ok",type:"submit",onclick:e}),t.mount(),h(e.called).to.equal(!1),t.node.onclick(),h(e.called).to.equal(!0)}),it("should not run event hanlder while rendering div > button tag",function(){var t,e;return e=sinon.spy(),t=d(s({id:"search-ok",type:"submit",onclick:e})),t.mount(),h(e.called).to.equal(!1),t.children[0].node.onclick(),h(e.called).to.equal(!0)}),it("should create tag with attribute",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},[]),t.mount(),e=t.node,h(e.className).to.equal("some class"),h(e.getAttribute("className")).to.equal(null)}),it("should process function value of text",function(){var t,e,n;return t=c({a:1}).a_,e=L(t),n=e.mount(),n=e.node,h(n.value).to.equal("1")}),it("component shoud have children 2",function(){var t;return t=_("adf"),h(t.children[0].text).to.equal("adf")}),it("should create tag with children",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},e=_(["adf"])),h(t.children[0]).to.equal(e),t.mount(),h(t.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var t,e;return t=N({className:"some class",style:"width:1px;"},[_(["adf"])]),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount tag with undefined as child",function(){var t;return t=N({className:"some class",style:"width:1px;"},_(["adf"]),M(function(){})),t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node.parentNode.id).to.equal("demo")}),it("should mount list with undefined as child",function(){var t,e;return t=x(_(["adf"]),M(function(){return void 0})),e=t.mount("#demo"),h(t.parentNode.id).to.equal("demo"),h(t.node[0].parentNode.id).to.equal("demo")})}),describe("component update",function(){return it("should render tag 1",function(){var t,e;return e=1,t=new i("p",{},[new u(function(){return e})]),t.mount(),h(t.node.innerHTML).to.equal("1"),++e,t.update(),h(t.node.innerHTML).to.equal("2"),++e,t.update(),h(t.node.innerHTML).to.equal("3")}),it("should update bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=new i("input",{value:t},[]),e.mount(),h(e.node.value).to.equal("1")}),it("should render tag 2",function(){var t,e,n;return e=1,t=N(M(function(){return e})),t.mount(),n=t.node,h(n.innerHTML).to.equal("1"),++e,t.update(),h(n.innerHTML).to.equal("2"),++e,t.update(),h(n.innerHTML).to.equal("3")}),it("should process text with bind",function(){var t,e,n,o;return o=c({a:1,b:2}),t=o.a_,e=o.b_,n=N(M(p.add(t,e))),n.mount("#demo"),h(n.node.innerHTML).to.equal("3","mount"),t(3),e(4),h(t()).to.equal(3,"a_"),h(e()).to.equal(4,"b_"),n.update(),h(n.node.innerHTML).to.equal("7","update")}),it("should process bidirectional bind",function(){var t,e;return t=c({a:1}).a$,e=L(t),e.mount("#demo"),h(e.node.value).to.equal("1"),e.node.value="2",e.node.onchange(),h(t()).to.equal("2")}),it("should render div(2) component",function(){var t;return t=d(2),t.mount(),h(t.node.innerHTML).to.equal("2")}),it("should execute component.unmount",function(){var t;return t=d(2),t.mount(),t.unmount()}),it("p(->12) ",function(){var t;return t=N(function(){return 12}),t.mount(),h(t.node.innerHTML).to.equal("12"),t.update(),h(t.node.innerHTML).to.equal("12"),t.update(),h(t.node.innerHTML).to.equal("12")})})})},/*!******************************************!*\
  !*** ./test/mocha/test-singleton.coffee ***!
  \******************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T;T=n(/*! bdd-test-helper */2),l=T.expect,m=T.iit,h=T.idescribe,w=T.nit,g=T.ndescribe,y=T.newDemoNode,y=n(/*! ./helper */17).newDemoNode,q=dc.see,d=dc.flow,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,_=dc.txt,v=dc.list,f=dc.func,p=dc.if_,c=dc.case_,f=dc.func,x=dc.pick,a=dc.a,b=dc.p,C=dc.span,N=dc.text,s=dc.div,describe("singleton component: If, Case, Func, Pick, ...",function(){return describe("If",function(){return it("should optimize if_",function(){var t,e;return t=_(1),e=0,l(p(function(){return e},t,t)).to.equal(t),l(p(0,1,t)).to.equal(t),l(p(1,t,0)).to.equal(t)}),it("should compute if_((-> x), p(t), t).family",function(){var t,e;return t=_(1),e=0,l(p(function(){return e},b(t),t).family[t.dcid]).to.equal(!0)}),it("should construct if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n,o;return o=q(0),e=_(1),n=_(2),t=p(o,b(e),v(n,b(e)))}),it("should render if_(see something, txt(1), txt(2))",function(){var t,e;return e=q(0),t=p(e,_(1),_(2)),t.mount(),l(t.node.textContent).to.equal("2","mount"),t.update(),l(t.node.textContent).to.equal("2","update"),e(1),t.update(),l(t.node.textContent).to.equal("1","update x 1"),e(0),t.update(),l(t.node.textContent).to.equal("2","update x 0")}),it("should render if_(x, list(t1, t2), list(t2, t1))",function(){var t,e,n,o,r;return r=q(0),n=_(1),o=_(2),t=p(r,v(n,o),v(o,n)),t.mount(e=y("if-ref")),l(t.node[0].textContent).to.equal("2","mount"),l(e.innerHTML).to.equal("21","mount"),r(1),t.update(),l(t.node[0].textContent).to.equal("1","update x 1"),l(e.innerHTML).to.equal("12","mount")}),it("should render if_(x, list(t2, t1), t1)",function(){var t,e,n,o,r,i;return i=q(1),o=_(1),r=_(2),t=p(i,n=v(r,o),o),t.mount(e=y("if-ref")),l(e.innerHTML).to.equal("21","mount"),i(0),t.update(),l(e.innerHTML).to.equal("1")}),it("should render if_(x, t1, list(t2, t1))",function(){var t,e,n,o,r,i;return i=q(0),o=_(1),r=_(2),t=p(i,o,n=v(r,o)),t.mount(e=y("if-ref")),l(e.innerHTML).to.equal("21","mount"),t.update(),l(e.innerHTML).to.equal("21","update"),i(1),t.update(),l(e.innerHTML).to.equal("1","update x 1"),i(0),t.update(),l(e.innerHTML).to.equal("21","update x 0")}),it("should render if_(x, p(t1), list(p(t2), t1))",function(){var t,e,n,o,r,i;return i=q(0),o=_(1),r=_(2),t=p(i,n=b(o),v(b(r),o)),t.mount(e=y("if-ref")),l(e.innerHTML).to.equal("<p>2</p>1","mount"),i(1),t.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1"),i(0),t.update(),l(e.innerHTML).to.equal("<p>2</p>1","update x 0"),i(1),t.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), div(t2))",function(){var t,e,n,o;return o=q(0),n=_(1),t=p(o,b(n),s(n)),t.mount(e=y("if-ref")),l(e.innerHTML).to.equal("<div>1</div>","mount"),o(1),t.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),t.update(),l(e.innerHTML).to.equal("<div>1</div>","update x 0"),o(1),t.update(),l(e.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render p(if_(x, p(t1), list(p(t2), t1)))",function(){var t,e,n,o,r,i;return i=q(0),o=_(1),r=_(2),t=b(e=p(i,n=b(o),v(b(r),o))),t.mount(),l(t.node.innerHTML).to.equal("<p>2</p>1","mount"),t.update(),l(t.node.innerHTML).to.equal("<p>2</p>1","update"),i(1),t.update(),l(t.node.innerHTML).to.equal("<p>1</p>","update x 1"),i(0),t.update(),l(t.node.innerHTML).to.equal("<p>2</p>1","update x 0"),i(1),t.update(),l(t.node.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), p list(p(t2), t1))",function(){var t,e,n,o,r,i;return i=q(0),o=_(1),r=_(2),t=p(i,e=b(o),n=b(v(b(r),o))),t.mount(),l(n.node.innerHTML).to.equal("<p>2</p>1","mount"),i(1),t.render(),l(t.node.innerHTML).to.equal("1","update x 1"),i(0),t.render(),l(n.node.innerHTML).to.equal("<p>2</p>1","mount")}),it("should render if_(x, div(1), div(2))",function(){var t,e;return e=q(0),t=p(e,s(1),s(2)),t.mount(),l(t.node.tagName).to.equal("DIV","tagName"),l(t.node.innerHTML).to.equal("2","mount"),e(1),t.update(),l(t.node.innerHTML).to.equal("1","first update"),e(0),t.update(),l(t.node.innerHTML).to.equal("2","second update")}),it("should create and update if_ with attrs",function(){var t,e,n,o;return o=q(0),n=p({"class":"main",fakeProp:o},o,t=b(1),e=b(2)),l(n).to.be["instanceof"](r),l(n.hasActiveProperties).to.equal(!0,"hasActiveProperties before mounting"),n.mount(),l(n.node.tagName).to.equal("DIV"),l(n.node.fakeProp).to.equal(0,"mount fakeProp"),l(n.node.childNodes[0].innerHTML).to.equal("2","mount innerHTML"),l(n.node.childNodes[0].tagName).to.equal("P","mount C1 tagName"),l(n.hasActiveProperties).to.equal(!1,"hasActiveProperties after mounting"),o(1),l(n.props.fakeProp).to.equal(o,"see invalidate fakeProp"),l(n.hasActiveProperties).to.equal(!0,"hasActiveProperties"),n.update(),l(n.node.fakeProp).to.equal(1,"update fakeProp"),l(n.node.childNodes[0].innerHTML).to.equal("1","update innerHTML"),l(n.node.childNodes[0]).to.equal(t.node)}),it("should create and render if followed by other node ",function(){var t,e,n,o,r,i,u;return e=document.getElementById("demo2"),e.innerHTML="",u=q(0),t=v(i=p(u,n=b(1),o=b(2)),r=b(3)),t.mount(e),l(i.node.innerHTML).to.equal("2"),l(e.innerHTML).to.equal("<p>2</p><p>3</p>"),u(1),t.update(),l(i.node.innerHTML).to.equal("1","pif update"),l(e.innerHTML).to.equal("<p>1</p><p>3</p>","demo2Node update"),l(t.node[0].innerHTML).to.equal("1","comp update")}),it("should create and render embedded if",function(){var t,e,n,o,r;return r=q(0),o=v(N(r),t=p(r,e=s(1),n=s(2))),o.mount(),l(o.parentNode).to.equal(document.body),l(o.node[1].innerHTML).to.equal("2"),l(t.parentNode).to.equal(o.parentNode),r(1),o.update(),l(t.parentNode).to.equal(o.parentNode),l(t.node.innerHTML).to.equal("1"),l(n.node.innerHTML).to.equal("2"),l(t.node).to.equal(e.node),l(o.node[1]).to.equal(e.node)}),it("should process event in embedded if 2",function(){var t,e,n,o;return o=q(0),t=v(n=N({onchange:function(){return o(parseInt(this.value)),t.update()}},o),e=p(o,s(1),s(2))),t.mount(),l(e.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange(),l(e.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange(),l(e.node.innerHTML).to.equal("2")}),it("should process embedded if 2",function(){var t,e,n,o;return o=q(0),t=v(n=N(o),e=p(o,s(1),s(2))),t.mount(),l(e.node.innerHTML).to.equal("2"),o(1),t.update(),l(e.node.innerHTML).to.equal("1"),o(0),t.update(),l(e.node.innerHTML).to.equal("2")}),it("should process two list with same children",function(){var t,e,n,o,r,i,u;return u=q(1),n=_(1),o=_(2),r=_(3),i=_(4),t=p(u,v(n,o,r,i),v(i,n,o,r)),t.mount(e=y("list")),l(e.innerHTML).to.equal("1234"),u(0),t.update(),l(e.innerHTML).to.equal("4123"),u(1),t.update(),l(e.innerHTML).to.equal("1234")})}),describe("Case",function(){return it("should create and render case_",function(){var t,e;return e=q(0),t=c(e,{1:b(1),2:b(2),3:b(3)},"others"),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("others"),e(1),t.update(),l(t.node.innerHTML).to.equal("1")})}),describe("Func",function(){return it("func(->12) ",function(){var t;return t=f(function(){return 12}),t.mount(),l(t.node.textContent).to.equal("12"),t.update(),l(t.node.textContent).to.equal("12"),t.update(),l(t.node.textContent).to.equal("12")}),it("p(-> a))",function(){var t;return a=q(1),t=b(a),t.mount(),a(2),t.update(),l(t.node.innerHTML).to.equal("2","update a 2"),a(3),t.update(),a(4),t.update(),l(t.node.innerHTML).to.equal("4","update a 4")}),it("should  create func component",function(){var t,e;return e=q(1),t=f(e),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("1")}),it("should create and  render func",function(){var t,e;return e=q(0),t=f(d(e,function(){return{1:b(1),2:b(2),3:b(3)}[e()]||"others"})),t.mount(),l(t.node).to.be["instanceof"](window.Text),l(t.node.textContent).to.equal("others"),e(1),t.update(),l(t.node.innerHTML).to.equal("1"),e(2),t.update(),l(t.node.innerHTML).to.equal("2")}),it("should create and update func with  attrs",function(){var t,e;return e=q(1),t=f({"class":"main",fakeProp:e},e),t.mount(),l(t.node.tagName).to.equal("DIV"),l(t.node.fakeProp).to.equal(1),l(t.node).to.be["instanceof"](Element),l(t.node.childNodes[0].textContent).to.equal("1"),e(2),t.update(),l(t.node.fakeProp).to.equal(2),l(t.node.childNodes[0].textContent).to.equal("2")}),it("should process tag with function",function(){var t;return t=b(_(function(){return 1})),l(t.children[0]).to.be["instanceof"](i),t.mount(),l(t.node.innerHTML).to.equal("1")}),it("should create and update func with a closure variable",function(){var t,e;return e=q(1),t=f(function(){return _(e)}),t.mount(),l(t.node.textContent).to.equal("1"),e(2),t.update(),l(t.node.textContent).to.equal("2")})}),describe("Pick",function(){return it("pick(host)",function(){var t,e,n;return e={content:1},t=x(e),n=0,t.onSetContent=function(t){return n="called"},t.mount(),l(t.node.textContent).to.equal("1"),e.content=2,l(n).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "content", 1) by setContent',function(){var t,e,n;return e={content:1},t=x(e),n=0,t.onSetContent=function(t){return n="called"},t.mount(),l(t.node.textContent).to.equal("1"),t.setContent(2),l(n).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1)',function(){var t,e,n;return e={},t=x(e,"activeContent",1),n=0,t.onSetContent=function(t){return n="called"},t.mount(),l(t.node.textContent).to.equal("1"),e.activeContent=2,l(n).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1) by setContent',function(){var t,e,n;return e={},t=x(e,"activeContent",1),n=0,t.onSetContent=function(t){return n="called"},t.mount(),l(t.node.textContent).to.equal("1"),t.setContent(2),l(n).to.equal("called"),t.update(),l(t.node.textContent).to.equal("2")})})})},/*!**************************************!*\
  !*** ./test/mocha/test-group.coffee ***!
  \**************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S,I,D,A;A=n(/*! bdd-test-helper */2),g=A.expect,x=A.iit,w=A.idescribe,L=A.nit,_=A.ndescribe,T=A.newDemoNode,T=n(/*! ./helper */17).newDemoNode,q=dc.isComponent,o=dc.Component,a=dc.TransformComponent,i=dc.Tag,u=dc.Text,D=dc.txt,C=dc.list,r=dc.List,y=dc.func,b=dc.if_,h=dc.case_,y=dc.func,m=dc.each,l=dc.accordionGroup,s=dc.accordion,c=dc.a,M=dc.p,S=dc.span,I=dc.text,p=dc.div,d=dc.all,v=dc.every,N=dc.nItems,f=dc.bind,P=dc.pour,k=dc.see,describe("group component: List, Each",function(){return describe("List",function(){return it("all of item in list should be  component",function(){var t;return t=C([1,2]),g(!!q(t.children[0])).to.equal(!0)}),it("should create list component",function(){var t;return t=C([S(["adf"])]),t.mount(),g(t.node[0].tagName).to.equal("SPAN")}),it("component list should have length",function(){var t;return t=C([1,2]),g(t.children.length).to.equal(2)}),it("list can be constructructed  from mulitple argumnents",function(){var t;return t=C(1,2),g(t.children.length).to.equal(2)}),it("should create list",function(){var t;return t=C(1,2),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2")}),it("should create list with attrs",function(){var t,e;return e=2,t=C({"class":"main",fakeProp:function(){return e}},1,D(function(){return e})),t.mount(),g(t.node.tagName).to.equal("DIV"),g(t.node.childNodes[0].textContent).to.equal("1"),g(t.node.childNodes[1].textContent).to.equal("2"),e=3,t.update(),g(t.node.fakeProp).to.equal(3),g(t.node.childNodes[1].textContent).to.equal("3","textContent update")}),it("list(txt(->12))",function(){var t;return t=C(D(function(){return 12})),t.mount(),g(t.node.textContent).to.equal("12")}),it("list setChildren after mounting",function(){var t;return t=new r([D(1)]),t.mount(),g(t.node[0].textContent).to.equal("1"),g(function(){var e;return t.setChildren(1,e=D(2))}).not.to["throw"]()}),it("list setChildren: similar to splitter",function(){var t,e,n;return t=new r([D(1),n=D(3)]),t.setChildren(1,e=D(2),n),t.mount(),g(t.node[0].textContent).to.equal("1"),g(t.node[1].textContent).to.equal("2"),g(t.node[2].textContent).to.equal("3")}),it("list(p(txt(->12))) ",function(){var t;return t=C(M(D(function(){return 12}))),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(p(->12)) ",function(){var t;return t=C(M(function(){return 12})),t.mount(),t.update(),g(t.node.innerHTML).to.equal("12")}),it("list(txt(1)) ",function(){var t,e;return t=new r([D(1)]),t.mount(e=T("list")),t.update(),t.setLength(0),t.update(),g(e.innerHTML).to.equal("")}),it("list(txt(1), txt(2), txt(3)) and move child",function(){var t,e,n,o;return t=C(n=D(1),o=D(2),o=D(3)),t.mount(e=T("list")),g(e.innerHTML).to.equal("123"),t.removeChild(0),t.pushChild(n),t.renderDom(),g(e.innerHTML).to.equal("231")})}),describe("every, all, nItems",function(){return it("every ",function(){var t,e;return t=v([1,2],function(t){return t}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)}),it("all ",function(){var t,e;return t=d({a:1,b:2},function(t,e){return C(t,e)}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)}),it("nItems ",function(){var t,e;return t=N(2,function(t){return t}),t.mount(e=T("list")),t.update(),g(t.node.length).to.equal(2)})}),describe("Each",function(){return it("should create empty each component",function(){var t,e;return t=m(e=[],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(0),t.update(),g(t.node.length).to.equal(0)}),it("should create each component with single item",function(){var t,e;return t=m(e=[1],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1"),t.update(),g(t.node.length).to.equal(1),g(t.node[0].innerHTML).to.equal("1")}),it("should set childrenNextNode correctly",function(){var t,e,n;return n=[1,2],t=C(e=m(n,function(t){return M(t)}),"some other thing"),t.mount(),g(e.listComponent.childrenNextNode).to.equal(t.node[1]),n.push(3),t.render(),g(e.listComponent.children[2].nextNode).to.equal(t.node[1])}),it("should create each component with two item",function(){var t,e;return t=m(e=["each","simple"],function(t,e){return M(t)}),t.mount(),g(t.node).to.be["instanceof"](Array),g(t.node[0]).to.be["instanceof"](Element),g(t.node[1].innerHTML).to.equal("simple")}),it("should mount and render each component",function(){var t,e,n;return document.getElementById("demo").innerHTML="",t=m(n=["each","simple"],function(t,e){return M(t)}),t.mount(e=T("each")),g(t.node[0].innerHTML).to.equal("each"),g(t.node[1].innerHTML).to.equal("simple"),n.setItem(0,3),t.update(),g(t.node[0].innerHTML).to.equal("3","update node 0"),n.setItem(1,4),t.update(),g(t.node[1].innerHTML).to.equal("4","update node 1"),g(e.innerHTML).to.equal("<p>3</p><p>4</p>","update innerHTML"),n.setItem(2,5),t.update(),g(t.node[2].innerHTML).to.equal("5","update list[2] = 5"),n.setLength(0),t.update(),g(t.listComponent.children.length).to.equal(0,"comp.listComponent.children.length = 0"),g(t.node.length).to.equal(0,"node.length")}),it("should process binding on item",function(){var t,e;return document.getElementById("demo").innerHTML="",t=m(e=[{text:"a"},{text:"b"}],function(t,e){return M(D(f(t,"text")))}),t.mount("#demo"),g(t.node[0].textContent).to.equal("a"),g(t.node[1].textContent).to.equal("b"),e[0].text="c",t.update(),g(t.node[0].textContent).to.equal("c","update c"),e[1].text="d",t.update(),g(t.node[1].textContent).to.equal("d","update d"),e.setItem(2,{text:"e"}),t.update(),g(t.node[2].textContent).to.equal("e"),e.setLength(0),t.update(),g(t.node.length).to.equal(0)}),it("should process items in template function",function(){var t,e;return t=m(e=["a","b"],function(t,e,n,o){return M(D(function(){return n[e]}))}),t.mount(),e.setItem(0,"c"),t.update(),g(t.node[0].textContent).to.equal("c")}),it("should process tag with each",function(){var t,e,n,o;return o=1,n=null,t=new i("div",{},[e=m([1],P(function(t){return n=D(o)}))]),t.mount(),g(t.node.innerHTML).to.equal("1"),o=2,t.update(),g(n.node.textContent).to.equal("2","update, 2"),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should create and update renew function as list of Each",function(){var t,e;return e=1,t=m(function(){return[e]},function(t){return D(t)}),t.mount(),g(t.node[0].textContent).to.equal("1"),e=2,t.update(),g(t.node[0].textContent).to.equal("2","update 2")}),it("should create and update deeper embedded each",function(){var t,e,n,o;return o=1,t=p({},n=new i("span",{},[e=m(function(){return[o]},function(t){return D(t)})])),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o=2,t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<span>2</span>")}),it("should create and update each where item return a closure variable",function(){var t,e;return e=k(1),t=m([1],function(){return D(e)}),t.mount(),g(t.node[0].textContent).to.equal("1"),e(2),t.update(),g(t.node[0].textContent).to.equal("2")}),it("should create and update embedded each where item return a closure variable",function(){var t,e,n;return n=k(1),t=new i("span",{},[e=m([1],function(t){return D(n)})]),t.mount(),g(e.listComponent.parentNode).to.equal(t.node),g(e.node[0].textContent).to.equal("1"),n(2),t.update(),g(e.listComponent.parentNode).to.equal(t.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2")}),it("should create and update embedded each in 3 layer",function(){var t,e,n,o;return o=k(1),t=p({},p({},n=new i("span",{},[e=m([1],function(t){return D(o)})]))),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o(2),t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should create and update embedded each in 3  layer",function(){var t,e,n,o;return o=1,t=p({},p({},n=new i("span",{},[e=m(function(){return[o]},function(t){return D(t)})]))),t.mount(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("1"),o=2,t.update(),g(e.listComponent.parentNode).to.equal(n.node),g(e.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("<div><span>2</span></div>")}),it("should process each with function as items",function(){var t,e,n;return n=1,e=null,t=m(function(){return[n]},function(t){return t}),t.mount(),g(t.node[0].textContent).to.equal("1"),n=2,t.render(),g(t.node[0].textContent).to.equal("2","after x = 2")}),it("should process each under each and with function as items",function(){var t,e,n,o;return o=1,n=null,t=p({},e=m([1],function(){return n=m(function(){return[o]},function(t){return t})})),t.mount(),g(e.listComponent.parentNode).to.equal(t.node),g(e.node[0][0].textContent).to.equal("1"),g(n.node[0].textContent).to.equal("1"),o=2,t.render(),g(e.listComponent.parentNode).to.equal(t.node),g(n.node[0].textContent).to.equal("2"),g(t.node.innerHTML).to.equal("2","after x = 2")}),it("should mount and update each",function(){var t;return t=new i("span",{},[m([1],function(t){return D(1)})]),t.mount(),g(t.node.innerHTML).to.equal("1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should push and setLength of each",function(){var t,e;return e=[1,2,3,4,5,6],t=m(e,function(t){return D(t)}),t.mount(),e.push(7),t.update(),g(t.node.length).to.equal(7,"push 7"),e.setLength(4),t.update(),g(t.node.length).to.equal(4,"setLength 4")}),it("should update each with component as the item of list 1",function(){var t,e;return t=m([D(1)],function(t){return t}),t.mount(),g(t.node[0].textContent).to.equal(e="1"),t.update(),g(t.node[0].textContent).to.equal("1")}),it("should update each with component as the item of list 2",function(){var t,e;return t=p(m([D(1)],function(t){return t})),t.mount(),g(t.node.innerHTML).to.equal(e="1"),t.update(),g(t.node.innerHTML).to.equal("1")}),it("should update each with component as the item of list 3",function(){var t,e;return t=p(p(m([D(1)],function(t){return t}))),t.mount(),g(t.node.innerHTML).to.equal(e="<div>1</div>"),t.update(),g(t.node.innerHTML).to.equal("<div>1</div>")}),it("should always attach and detach each in multiple iteration",function(){var t,e,n;return n=k(!0),e=[1,2],t=b(n,m(e,function(t){return p(t)})),t.mount(),n(!1),t.render(),n(!0),t.render(),g(t.node.parentNode).to.equal(document.body),n(!1),t.render(),g(t.node.parentNode).not.to.equal(document.body)})})})},/*!******************************************!*\
  !*** ./test/mocha/test-ref-clone.coffee ***!
  \******************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_;_=n(/*! bdd-test-helper */2),f=_.expect,v=_.iit,p=_.idescribe,w=_.nit,y=_.ndescribe,x=dc.see,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,N=dc.txt,g=dc.list,h=dc.func,m=dc.if_,c=dc.case_,h=dc.func,d=dc.each,s=dc.clone,a=dc.a,b=dc.p,q=dc.span,C=dc.text,l=dc.div,describe("Component.refs, clone",function(){return describe("refs",function(){return it("should throw error while constucting conflicted component list(t, t))",function(){var t;return t=N(1),f(function(){return g(t,t)}).to["throw"](Error)}),it("should throw error while constucting conflicted component list(t, p(t)))",function(){var t;return t=N(1),f(function(){return g(t,b(t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(1, t, 0))",function(){var t;return t=N(1),f(function(){return g(b(t),m(1,t,0))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(0, 2, t))",function(){var t;return t=N(1),f(function(){return g(b(t),m(0,2,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, t, t))",function(){var t,e;return t=N(1),e=0,f(function(){return g(b(t),m(function(){return e},t,t))}).to["throw"](Error)}),it("should throw error while conflicted component in list(p(t), if_(-> x, p(t), t))",function(){var t,e;return t=N(1),e=0,f(function(){return g(b(t),m(function(){return e},b(t),t))}).to["throw"](Error)}),it("should getBaseComponent of if_((-> x), t=txt(1), t)",function(){var t,e,n;return n=x(0),t=m(n,e=N(1),e),t.mount(),t.update()})}),describe("Clone",function(){return it("should not clone node event handler",function(){var t,e;return t=document.createElement("p"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(null),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should clone TextNode",function(){var t,e;return t=document.createTextNode("afd"),t.value=1,t.fakeProp=2,t.onclick=function(){},e=t.cloneNode(),f(e.onclick).to.equal(void 0),f(e.textContent).to.equal("afd"),f(e.value).to.equal(void 0),f(e.fakeProp).to.equal(void 0)}),it("should process text clone component ",function(){var t,e;return t=g(e=N(1),s(e)),t.mount("#demo"),t.update(),f(t.node[1].textContent).to.equal("1")}),it("should process tag clone component ",function(){var t,e,n;return n=g(t=b(1),e=s(t)),n.mount("#demo"),n.update(),f(n.node[1].innerHTML).to.equal("1")}),it("should process if_ clone component ",function(){var t,e,n,o,r;return r=x(0),o=g(t=b(2),e=s(t)),n=m(r,t=b(3),o),n.mount("#demo"),r(1),n.update(),f(n.node.innerHTML).to.equal("3")})})})},/*!******************************************!*\
  !*** ./test/mocha/test-accordion.coffee ***!
  \******************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_;_=n(/*! bdd-test-helper */2),h=_.expect,g=_.iit,m=_.idescribe,b=_.nit,w=_.ndescribe,o=dc.Component,u=dc.TransformComponent,r=dc.Tag,i=dc.Text,N=dc.txt,y=dc.list,p=dc.func,v=dc.if_,l=dc.case_,p=dc.func,f=dc.each,s=dc.accordionGroup,c=dc.accordion,a=dc.a,x=dc.p,q=dc.span,C=dc.text,d=dc.div,describe("accordion",function(){return it("should update accordionGroup",function(){var t,e;return t=s({},"group head",f([1],function(t){return N(1)}),{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)}),it("should update accordion group 2",function(){var t;return t=s({},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}),t.mount(),h(t.node.innerHTML).to.equal('<div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div>')}),it("should mount accordion",function(){var t;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal('<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>')}),it("should update accordion",function(){var t,e;return t=c({},[[{},"group head",N(1),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body">1</div></div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)}),it("should update accordion 2",function(){var t,e;return t=c({},[[{},"group head",new r("span",{},[f([1],function(t){return N(1)})]),{}]],{}),t.mount(),h(t.node.innerHTML).to.equal(e='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle"><span>group head</span></div></h4></div><div class="panel-collapse" style="display: none;"><div class="panel-body"><span>1</span></div></div></div>'),t.update(),h(t.node.innerHTML).to.equal(e)})})},/*!************************************************!*\
  !*** ./test/mocha/test-component-event.coffee ***!
  \************************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k;k=n(/*! bdd-test-helper */2),f=k.expect,v=k.iit,p=k.idescribe,q=k.nit,x=k.ndescribe,d=dc.duplex,N=dc.see,s=dc.classFn,L=dc.styleFrom,b=dc.model,_=dc.show,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,w=dc.list,h=dc.func,m=dc.if_,P=dc.txt,a=dc.a,C=dc.p,T=dc.span,M=dc.text,y=dc.li,l=dc.div,c=dc.button,g=dc.input,describe("component event",function(){return describe("beforeMount",function(){return it("component shoud call listeners before mounting",function(){var t,e;return e=0,t=C(),t.on("beforeMount",function(){return e=1}),t.mount(),f(e).to.equal(1)}),it("component shoud call listeners before mounting if_",function(){var t,e;return e=0,t=m(1,2,3),t.on("beforeMount",function(){return e=1}),t.mount(),f(e).to.equal(1)}),it("component shoud call then_.listeners before updating if_",function(){var t,e,n;return n=N(0),t=m(n,e=P(1),P(2)),e.on("beforeMount",function(){return n(1)}),t.mount(),f(n()).to.equal(0),n(1),t.update(),f(n()).to.equal(1)}),it("component shoud not call embeded listeners before updating if_",function(){var t,e,n;return n=N(0),t=m(n,C(e=P(1)),P(2)),e.on("beforeMount",function(){return n(1)}),t.mount(),f(n()).to.equal(0),n(1),t.update(),f(n()).to.equal(1)})}),describe("afterUnmount callback",function(){return it("component shoud call listeners after mounting",function(){var t,e;return e=N(0),t=C(),t.on("beforeMount",function(){return e(1)}),t.on("afterUnmount",function(){return e(2)}),t.mount(),f(e()).to.equal(1),t.unmount(),f(e()).to.equal(2)}),it("component shoud call listeners before mounting if_",function(){var t,e,n;return e=0,n=0,t=m(1,2,3),t.on("beforeMount",function(){return e=1}),t.on("afterMount",function(){return n=2}),t.mount(),f(e).to.equal(1),t.unmount(),f(n).to.equal(2)}),it('component shoud NOT call then_.listeners["beforeMount"] before updating if_',function(){var t,e,n,o,r;return o=N(0),r=0,t=m(o,e=P(1),n=P(2)),e.on("beforeMount",function(){return o(1)}),n.on("afterUnmount",function(){return r=2}),t.mount(),f(o()).to.equal(0,"mount"),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)}),it("component shoud NOT call embeded mountCallback before updating if_",function(){var t,e,n,o,r;return o=N(0),r=0,t=m(o,C(e=P(1)),C(n=P(2))),e.on("beforeMount",function(){return o(1)}),n.on("afterMount",function(){return r=2}),t.mount(),f(o()).to.equal(0),o(1),t.update(),f(o()).to.equal(1),f(r).to.equal(0)})})})},/*!**************************************!*\
  !*** ./test/mocha/test-route.coffee ***!
  \**************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m;m=n(/*! bdd-test-helper */2),r=m.expect,u=m.iit,i=m.idescribe,s=m.nit,c=m.ndescribe,d=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]*))+$/,l=/^((:([$_\w]+)(\([^\(\)]+\))?)|(\([^\(\)]+\))|([^:\(]+))/,h=/(?:\\\/)|(?:\\\()|(?:\\\))/,a=dc.isComponent,f=dc.route,p=dc.txt,o=dc.Nothing,describe("route",function(){return describe("route regexp",function(){return it("should match paramName pattern",function(){var t;return t={},f._processPiecePatterns(":dsaf",t),r(t.dsaf).to.equal(!0,":dsaf"),f._processPiecePatterns(":$",t),r(t.$).to.equal(!0,":$"),f._processPiecePatterns(":_",t),r(t._).to.equal(!0,":_")}),it("should match cureved re",function(){var t,e;return t={},e=f._processPiecePatterns("(fd+=.)",t,2),r(e[0][0].key).to.equal(2,"(fd+=.)"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string",function(){var t,e;return t={},e=f._processPiecePatterns(":a(dsaf)asdfj",t,2),r(e[0][0].key).to.equal("a"),r(e[1]).to.equal(2,"(fd+=.)")}),it("should match param and string 2",function(){var t,e;return t={},e=f._processPiecePatterns(":abc_$(dsaf)asdfj(&*^)+_",t,2),r(e[0][0].key).to.equal("abc_$"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=f._processPiecePatterns("_):_$a(dsaf)asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should match param and string 3",function(){var t,e;return t={},e=f._processPiecePatterns("_):_$a(dsaf):b:c-asdfj(&*^)+_",t,2),r(e[0][1].key).to.equal("_$a"),r(e[1]).to.equal(3,"(fd+=.)")}),it("should throw while wrong paramName pattern",function(){return r(function(){var t;return f._processPiecePatterns(":",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 1",function(){return r(function(){var t;return f._processPiecePatterns(":+",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 2",function(){return r(function(){var t;return f._processPiecePatterns("(dfj()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 3",function(){return r(function(){var t;return f._processPiecePatterns("()",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 4",function(){return r(function(){var t;return f._processPiecePatterns(":(dsaf)",t={})}).to["throw"]()}),it("should throw while wrong paramName pattern 5",function(){return r(function(){var t;return f._processPiecePatterns("(",t={})}).to["throw"]()})}),describe("test private function",function(){return it("should _getRoutePattern",function(){var t;return t=f._getRoutePattern("a/"),r(t.endSlash).to.equal(!0)}),it("should _processPatternRouteItem",function(){var t;return t=f._processRouteItem([{absolute:!0,segmentPatterns:[],baseIndex:0},function(){return 1}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)}),it("should _getRoutePattern and _processPatternRouteItem",function(){var t;return t=f._processRouteItem([f._getRoutePattern(""),function(){return p(1)}],"",0),r(!!t).to.equal(!0),r(t.text).to.equal(1)})}),describe("process route",function(){return it("should route 'a'",function(){var t,e;return t=f("a",function(){return 1}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/b' on path 'a'",function(){var t,e;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a/' on path 'a'",function(){var t,e;return t=f("a/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route 'a' on path 'a/'",function(){var t,e;return t=f("a",function(){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route '*' on path 'a'",function(){var t,e;return t=f("*",function(t){return t.segments[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("a")}),it("should route '(w+)' on path 'a'",function(){var t,e;return t=f("(\\w+)",function(t){return t.items[0]}),t.getPath=function(){return"a"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.children[0].text).to.equal("a")}),it("should not route '*' on path 'a/'",function(){var t,e;return t=f("*",function(t){return 1}),t.getPath=function(){return"a/"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should not route '*/' on path 'a'",function(){var t,e;return t=f("*/",function(){return 1}),t.getPath=function(){return"a"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route 'a/b'",function(){var t,e;return t=f("a/b",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route multi item",function(){var t,e;return t=f("a/1",function(){return 1},"a/2",function(){return 2}),t.getPath=function(){return"a/2"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(2)}),it("should route multi item with otherwise",function(){var t,e;return t=f("a/1",function(){return 1},"a/2",function(){return 2},p("otherwise")),t.getPath=function(){return"a/otherwise"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal("otherwise")}),it("should route 'a/**' on path a/b",function(){var t,e;return t=f("a/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/**' on path a/b",function(){var t,e;return t=f("a/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r(!!(e=t.getContentComponent())).to.equal(!0),r(e.text).to.equal(1)}),it("should route 'a/*/*/**' on path a/b",function(){var t,e;return t=f("a/*/*/**",function(){return 1}),t.getPath=function(){return"a/b"},r((e=t.getContentComponent())instanceof o).to.equal(!0)}),it("should route embedding route",function(){var t,e,n;return t=f("a/**",function(t,e){return e("b",function(){return 2})}),t.getPath=function(){return"a/b"},n=t.getContentComponent(),n.getPath=function(){return"a/b"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(2)})}),describe("multiple level route",function(){var t;return t=f("a/*/**",function(t,e){return e(1,function(){return 1},2,function(){return 2},3,function(){return 3},{otherwise:"otherwise 2"})},"b/**",function(){return"b/**"},{otherwise:"otherwise 1"}),it("should route a/b/3",function(){var e,n;return t.getPath=function(){return"a/b/3"},n=t.getContentComponent(),n.getPath=function(){return"a/b/3"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal(3)}),it("should route b/2",function(){var e;return t.getPath=function(){return"b/2"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("b/**")}),it("should route not-found",function(){var e;return t.getPath=function(){return"not-found"},e=t.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 1")}),it("should route a/b/no-entry",function(){var e,n;return t.getPath=function(){return"a/b/no-entry"},n=t.getContentComponent(),n.getPath=function(){return"a/b/no-entry"},e=n.getContentComponent(),r(!!e).to.equal(!0),r(e.text).to.equal("otherwise 2")})}),describe("process route.to",function(){return it("should route.to",function(){return r(f._navigateTo("a/b/c","../x",2)).to.equal("a/x"),r(f._navigateTo("a/b/c","f",2)).to.equal("a/b/f"),r(f._navigateTo("a/b/c","/f",2)).to.equal("f"),r(f._navigateTo("a/b/c","/f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","./f/",2)).to.equal("a/b/f/")}),it("should route.to 2",function(){return r(f._navigateTo("a/b/c","../../f/",2)).to.equal("f/"),r(f._navigateTo("a/b/c","../../../f/",2)).to.equal("f/")})})})},/*!*****************************************!*\
  !*** ./test/mocha/test-for-demo.coffee ***!
  \*****************************************/
function(t,e,n){var o,r,i,u,a,c,s,l,d,f,h,p,m,v,g,y,w,b,x,q,C,N,_,T,L,M,P,k,S,I,D;D=n(/*! bdd-test-helper */2),m=D.expect,x=D.iit,w=D.idescribe,T=D.nit,_=D.ndescribe,c=dc.bindings,h=dc.duplex,g=dc.flow,M=dc.see,l=dc.classFn,k=dc.styleFrom,v=dc.extendAttrs,i=dc.Tag,u=dc.Text,r=dc.List,o=dc.Component,N=dc.list,y=dc.func,b=dc.if_,I=dc.txt,a=dc.a,L=dc.p,P=dc.span,S=dc.text,C=dc.li,f=dc.div,s=dc.button,q=dc.input,p=dc.each,d=n(/*! domcom/demo/demo-controls */26),describe("demo",function(){return describe("sum",function(){return it("should construct and create components",function(){var t,e,n,o,r,i,u,a,s,l;return l=c({a:3,b:2}),t=l.a$,n=l.b$,e=l.a_,o=l.b_,u=S(t),a=S(n),s=L(I(i=g.add(e,o))),m(i()).to.equal(5,"sum 1"),e(1),m(i()).to.equal(3,"sum 2"),r=N(u,a,s),r.mount("#demo"),m(s.node.innerHTML).to.equal("3","mount"),u.node.value="3",a.node.value="4",u.node.onchange(),a.node.onchange(),m(e()).to.equal("3","a_"),m(o()).to.equal("4","b_"),m(i()).to.equal("34","sum"),m(!!r.valid).to.equal(!1,"comp.valid"),m(!!s.valid).to.equal(!1,"z.valid"),r.update(),m(s.node.innerHTML).to.equal("34","update")})}),describe("combobox",function(){return it("should process event property of child component",function(){var t,e,n;return n=0,e=f({},t=q({onmouseenter:function(){return n=1}}),f({},"wawa")),e.mount(),t.node.onmouseenter(),m(n).to.equal(1)}),it("should process event property of child component with model directive",function(){var t,e,n;return n=0,e=f({},t=q({$model:h({},"x"),onmouseenter:function(){return n=1}}),f({},"wawa")),e.mount(),t.node.onmouseenter(),m(n).to.equal(1)})}),describe("text model",function(){return it("should text model by value",function(){var t,e,n,o,r,i;return t=c(o={a:1}).a$,e={onchange:function(){return n.update()}},n=N(r=S(e,t),i=S(e,t)),n.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(i.node.value).to.equal("3","text2.node.value")}),it("should text model by value and onchange",function(){var t,e,n,o,r,i;return t=c(o={a:1}).a$,e={value:t,onchange:function(){return t(this.value),n.update()}},n=N(r=S(e),i=S(e)),n.mount(),r.node.value=3,r.node.onchange(),m(o.a).to.equal("3","m.a"),m(i.node.value).to.equal("3","text2.node.value")})}),describe("combo",function(){return it("should combobox",function(){var t,e,n,o,r,i,u,a;return u=M(!1),e=null,a=M(""),i=function(){var t,n,r,i;for(r=[1,2],i=[],t=0,n=r.length;n>t;t++)o=r[t],i.push(function(t){return P({style:{display:"block",border:"1px solid blue","min-width":"40px"},onclick:function(){return a(t),e.update()}},t)}(o));return i}(),t=v(t,{onmouseleave:function(){return u(!1),e.update()}}),e=f(t,n=q({$model:a,onmouseenter:function(){return u(!0),e.update()}}),r=f({style:{display:g(u,function(){return u()?"block":"none"})}},i)),e.mount(),m(n.node.value).to.equal(""),m(u()).to.equal(!1),m(r.node.style.display).to.equal("none"),n.node.onmouseenter(),m(r.node.style.display).to.equal("block"),i[1].node.onclick(),m(n.node.value).to.equal("2")})}),describe("controls",function(){return it("should mount controls and others",function(){var t;return t=d(),t.mount("#demo"),m(t.node.length).to.equal(2),t.unmount()})}),describe("mount/unmount",function(){return it("should mount/unmount sub component",function(){var t,e,n;return n=f("toggle me"),t=N(f({onclick:function(){return n.mount()}},"mount",f({onclick:function(){return n.unmount()}},"unmount"))),e=N(t,n),n.mount(),n.unmount(),n.remount(),n.unmount(),e.mount(),e.unmount()})}),describe("todomvc",function(){var t;return it("should process class",function(){var t;return t=a({className:{selected:1},href:"#/"}),t.mount("#demo"),m(t.node.className).to.equal("selected")}),it("should construct and create components",function(){var t;return t=C(a({className:{selected:1},href:"#/"},"All")),t.mount("#demo"),m(t.children[0].node.className).to.equal("selected"),m(t.children[0].node.href).to.match(/:\/\//)}),t=function(t,e){var n,o;return e.hash="all",n=function(){return"active"===e.hash?t.filter(function(t){return t&&!t.completed}):"completed"===e.hash?t.filter(function(t){return t&&t.completed}):t},o=p(n,function(t,e){return L(I(function(){return t.title}),", ",I(function(){return t.completed?"completed":"uncompleted"}))})},it("should mount getTodos and Each with empty todos correctly",function(){var e,n,o;return o=[],e=t(o,n={hash:"all"}),e.mount(),m(e.node.length).to.equal(0)}),it("should invalidate children to listComponent",function(){var e,n,o,r;return r=[{title:"do this"}],n=t(r,o={hash:"all"}),m(n.listComponent.invalidIndexes).to.be.undefined,n.getContentComponent(),e=n.cacheChildren[0],o.hash="completed",e.transfornValid=!0,n.getContentComponent(),e.valid=!0,o.hash="all",n.getContentComponent()}),it("should process getTodos and Each correctly",function(){var e,n,o,r;return r=[{title:"do this"}],n=t(r,o={hash:"all"}),n.mount(),m(n.node.length).to.equal(1),o.hash="completed",n.update(),m(n.node.length).to.equal(0),o.hash="all",n.getContentComponent(),e=n.listComponent.children[0],n.update(),m(n.node.length).to.equal(1)}),it("should todoEditArea",function(){var t,e,n,o,r,i;return n=dc.section,i=dc.ul,e=dc.footer,r=p([1,2],function(t,e){return C(1)}),t=o=n({id:"main"},i({id:"todo-list"},r),e({id:"footer"})),t.mount(),t.update()})})})},/*!***********************************!*\
  !*** ./demo/demo-controls.coffee ***!
  \***********************************/
function(t,e){var n,o,r,i,u,a;i=dc.list,n=dc.a,r=dc.checkbox,a=dc.text,u=dc.p,o=dc.bindings,t.exports=function(){var t,e,n,u,c,s,l,d;return t=o({a:1}).a$,u=i(e=r(t),n=r(t)),d=i(s=a(t),l=a(t)),t(6),c=i(u,d),dc.updateWhen([e,n,s,l],"change",c),c}}]);