!function(t){function e(n){if(o[n])return o[n].exports;var c=o[n]={exports:{},id:n,loaded:!1};return t[n].call(c.exports,c,c.exports,e),c.loaded=!0,c.exports}var o={};return e.m=t,e.c=o,e.p="/assets/",e(0)}([function(t,e){var o,n,c,d,r,i,u,l,a,s,f,p,m,h,v,g,w,b,x,k,N,y,C,O,T,$,S,H,M,j,A,E,I,J,z,D,L,P,U,V,W,q;c=dc.bind,M=dc.section,v=dc.h1,g=dc.header,m=dc.form,E=dc.text,r=dc.checkbox,l=dc.div,V=dc.ul,b=dc.li,y=dc.p,o=dc.a,w=dc.label,d=dc.button,p=dc.footer,A=dc.strong,j=dc.span,h=dc.funcEach,U=dc.txt,f=dc.extend,dc.directives({$show:dc.$show}),dc.alwaysUpdate=!0,window.fetch=function(){return JSON.parse(localStorage.getItem("dc")||"[]")},window.save=function(t){return localStorage.setItem("dc",JSON.stringify(t))},window.todos=[],q=null,s=null,N=null,S=null,H=!1,window.getTodos=function(){return"active"===q?todos.filter(function(t){return t&&!t.completed}):"completed"===q?todos.filter(function(t){return t&&t.completed}):todos},O=function(){return todos.filter(function(t){return!t.completed}).length},u=function(){return todos.length-O()},n=function(){return!O()},k=function(t){return function(e){return 27===e.keyCode||27===e.which?t():void 0}},C=function(t,e){return U("function"==typeof t?function(){return t()>1?e+"s":e}:t>1?e+"s":e)},P=function(t){return t.completed=!t.completed,save(todos),dc.update()},x=function(){var t,e,o,c,d;for(t=n()?!1:!0,o=!0,c=0,d=todos.length;d>c;c++)e=todos[c],e.completed!==t&&(e.completed=t,o=!1);return o?void 0:(save(todos),dc.update())},a=function(t){return s=t,N=f({},t),dc.update()},T=function(t){var e;return e=todos.indexOf(t),todos.splice(e,1),save(todos),dc.update()},$=function(t){return todos[todos.indexOf(t)]=N,dc.update()},i=function(){var t,e;for(e=!0,t=todos.length-1;t>=0;)todos[t].completed&&(todos.splice(t,1),e=!1),t--;return e?void 0:(save(todos),dc.update())},I=E({id:"new-todo",placeholder:"What needs to be done?",disable:function(){return H},onchange:function(){return this.value?(todos.push({title:this.value,completed:!1}),save(todos),dc.update()):void 0},autofocus:!0}),D=g({id:"header"},v("todos"),m({id:"todo-form"},I)),L=h(getTodos,function(t,e){return b({className:{completed:function(){return t.completed},editing:function(){return t===s}}},l({"class":"view"},r({className:"toggle",checked:function(){return t&&t.completed},onchange:function(){return P(t)}}),w({ondblclick:function(){return a(t)}},function(){return t&&t.title}),d({className:"destroy",onclick:function(){return T(t)}})),m({submit:function(){return save(todos)}},E({className:"edit",trim:"false",value:c(t,"title"),onblur:function(){return t.title=this.value,save(todos),s=null,dc.update()},onfocus:function(){return t===s},onkeyup:k(function(){return $(t)})})))}),J=M({id:"main"},r({id:"toggle-all",className:"toggle",checked:function(){return!!n()},onclick:x}),w({"for":"toggle-all"},"Mark all as complete"),V({id:"todo-list"},L),p({id:"footer",$show:function(){return todos.length}},j({id:"todo-count"},A(O),C(O," item")," left"),V({id:"filters"},b(o({className:{selected:function(){return"active"!==q&&"completed"!==q}},href:"#/all"},"All")),b(o({className:{selected:function(){return"active"===q}},href:"#/active"},"Active")),b(o({className:{selected:function(){return"completed"===q}},href:"#/completed"},"Completed"))),d({id:"clear-completed",onclick:i,$show:u},U(function(){return"Clear completed: "+u()})))),z=p({id:"info"},y("Double-click to edit a todo"),y("Created by ",o({href:"http://github.com/taijiweb/domcom"},"Caoxingming(Tiijizhenren, simeon.chaos@gmail.com)")),y("Part of ",o({href:"http://todomvc.com"}," TodoMVC"))),W=M({id:"todoapp"},D,J,z,d({id:"clear-completed",onclick:i,$show:u},U(function(){return"Clear completed: "+u()}))),window.updateHash=function(){var t;return t=document.location.hash,q=t.indexOf("/")>=0?t.split("/")[1]||"":t},window.runTodoMvc=function(){return window.todos=fetch(),updateHash(),W.mount("#todo-app"),window.addEventListener("hashchange",function(){return updateHash(),dc.update()})}}]);