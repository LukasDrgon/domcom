!function(t){function e(o){if(n[o])return n[o].exports;var c=n[o]={exports:{},id:o,loaded:!1};return t[o].call(c.exports,c,c.exports,e),c.loaded=!0,c.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e){var n,o,c,r,i,u,d,l,a,f,s,p,m,h,g,v,b,x,k,w,N,C,y,O,S,I,M,T,j,A,J,z,D,E,L,P,V,W,q,B,F,G,H,K,Q,R,U,X,Y;r=dc.bindings,P=dc.si,c=dc.bi,D=dc.section,b=dc.h1,x=dc.header,g=dc.form,q=dc.text,u=dc.checkbox,a=dc.div,U=dc.ul,w=dc.li,O=dc.p,n=dc.a,k=dc.label,i=dc.button,h=dc.footer,W=dc.strong,V=dc.span,T=dc.repeat,R=dc.txt,L=dc.show,p=dc.extend,m=function(){return JSON.parse(localStorage.getItem("dc")||"[]").filter(function(t){return t})},J=function(t){return localStorage.setItem("dc",JSON.stringify(t.filter(function(t){return t})))},K=[],Y=null,s=null,y=null,A=null,z=!1,v=function(){return"active"===Y?K.filter(function(t){return t&&!t.completed}):"completed"===Y?K.filter(function(t){return t&&t.completed}):K.filter(function(t){return t})},I=function(){return K.filter(function(t){return!t.completed}).length},l=function(){return K.length-I()},o=function(){return!I()},C=function(t){return function(e){return 27===e.keyCode||27===e.which?t():void 0}},S=function(t,e){return R("function"==typeof t?function(){return t()>1?e+"s":e}:t>1?e+"s":e)},Q=function(t){return t.completed=!t.completed,J(K),X.update()},N=function(){var t,e,n,c,r;for(t=o()?!1:!0,e=!1,c=0,r=K.length;r>c;c++)n=K[c],n.completed!==t&&(n.completed=t,e=!0);return e?(J(K),X.update()):void 0},f=function(t){return s=t,y=p({},t),X.update()},M=function(t){var e;return e=K.indexOf(t),K.splice(e,1),J(K),X.update()},j=function(t){return K[K.indexOf(t)]=y,X.update()},d=function(){var t,e;for(e=!1,t=K.length-1;t>=0;)K[t].completed&&(K.splice(t),e=!0),t--;return e?(J(K),X.update()):void 0},E=function(t){return Y=t.split("/")[1]||"",X.update()},G=x({id:"header"},b("todos"),g({id:"todo-form"},q({id:"new-todo",placeholder:"What needs to be done?",disable:function(){return z},onchange:function(){return this.value?(K.push({title:this.value,completed:!1}),J(K),X.update()):void 0},autofocus:!0}))),H=T(v,function(t,e){return window.todoItemComp=w({className:{completed:function(){return t.completed},editing:function(){return t===s}}},a({"class":"view"},u({className:"toggle",checked:function(){return t&&t.completed},onchange:function(){return Q(t)}}),k({ondblclick:function(){return f(t)}},function(){return t&&t.title}),i({className:"destroy",onclick:function(){return M(t)}})),g({submit:function(){return J(K)}},q({className:"edit",trim:"false",value:P(t,"title"),onblur:function(){return t.title=this.value,J(K),s=null,X.update()},onfocus:function(){return t===s},onkeyup:C(function(){return j(t)})})))}),B=D({id:"main",directives:L(function(){return K.length})},u({id:"toggle-all",className:"toggle",checked:function(){return!!o()},onclick:N}),k({"for":"toggle-all"},"Mark all as complete"),U({id:"todo-list"},H),h({id:"footer",directives:L(function(){return K.length})},V({id:"todo-count"},W(I),S(I," item")," left"),U({id:"filters"},w(n({className:{selected:""===Y},href:"#/all"},"All")),w(n({className:{selected:"active"===Y},href:"#/active"},"Active")),w(n({className:{selected:"completed"===Y},href:"#/completed"},"Completed"))),i({id:"clear-completed",onclick:d,directives:L(l)},R(function(){return"Clear completed: "+l()})))),F=h({id:"info"},O("Double-click to edit a todo"),O("Created by ",n({href:"http://github.com/taijiweb/domcom"}," Caoxingming(Tiijizhenren, simeon.chaos@gmail.com)")),O("Part of ",n({href:"http://todomvc.com"}," TodoMVC"))),X=D({id:"todoapp"},G,B,F),t.exports=window.runTodoMvc=function(){return K=m(),X.mount("#todo-app"),E(document.location.hash),window.addEventListener("hashchange",function(){return E(document.location.hash),X.update()})}}]);