!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="/assets/",t(0)}([function(e,t){var o,n,r,c,d,i,u,l,s,a,f,m,h,p,v,g,w,b,x,k,N,y,C,O,T,$,S,H,M,j,A,E,I,J,z,D,L,P,R,V,W,q;r=dc.bind,M=dc.section,v=dc.h1,g=dc.header,h=dc.form,E=dc.text,d=dc.checkbox,l=dc.div,V=dc.ul,b=dc.li,y=dc.p,o=dc.a,w=dc.label,c=dc.button,m=dc.footer,A=dc.strong,j=dc.span,p=dc.funcEach,R=dc.txt,f=dc.extend,dc.directives({$show:dc.$show}),dc.alwaysRender=!0,window.fetch=function(){return JSON.parse(localStorage.getItem("view")||"[]")},window.save=function(e){return localStorage.setItem("view",JSON.stringify(e))},window.todos=[],q=null,a=null,N=null,S=null,H=!1,window.getTodos=function(){return"active"===q?todos.filter(function(e){return e&&!e.completed}):"completed"===q?todos.filter(function(e){return e&&e.completed}):todos},O=function(){return todos.filter(function(e){return!e.completed}).length},u=function(){return todos.length-O()},n=function(){return!O()},k=function(e){return function(t){return 27===t.keyCode||27===t.which?e():void 0}},C=function(e,t){return R("function"==typeof e?function(){return e()>1?t+"s":t}:e>1?t+"s":t)},P=function(e){return e.completed=!e.completed,save(todos),W.render()},x=function(){var e,t,o,r,c;for(e=n()?!1:!0,o=!0,r=0,c=todos.length;c>r;r++)t=todos[r],t.completed!==e&&(t.completed=e,o=!1);return o?void 0:(save(todos),W.render())},s=function(e){return a=e,N=f({},e),W.render()},T=function(e){var t;return t=todos.indexOf(e),todos.splice(t,1),save(todos),W.render()},$=function(e){return todos[todos.indexOf(e)]=N,W.render()},i=function(){var e,t;for(t=!0,e=todos.length-1;e>=0;)todos[e].completed&&(todos.splice(e,1),t=!1),e--;return t?void 0:(save(todos),W.render())},I=E({id:"new-todo",placeholder:"What needs to be done?",disable:function(){return H},onchange:function(){return this.value?(todos.push({title:this.value,completed:!1}),save(todos),W.render()):void 0},autofocus:!0}),D=g({id:"header"},v("todos"),h({id:"todo-form"},I)),L=p(getTodos,function(e,t){return b({className:{completed:function(){return e.completed},editing:function(){return e===a}}},l({"class":"view"},d({className:"toggle",checked:function(){return e&&e.completed},onchange:function(){return P(e)}}),w({ondblclick:function(){return s(e)}},function(){return e&&e.title}),c({className:"destroy",onclick:function(){return T(e)}})),h({submit:function(){return save(todos)}},E({className:"edit",trim:"false",value:r(e,"title"),onblur:function(){return e.title=this.value,save(todos),a=null,W.render()},onfocus:function(){return e===a},onkeyup:k(function(){return $(e)})})))}),J=M({id:"main"},d({id:"toggle-all",className:"toggle",checked:function(){return!!n()},onclick:x}),w({"for":"toggle-all"},"Mark all as complete"),V({id:"todo-list"},L),m({id:"footer",$show:function(){return todos.length}},j({id:"todo-count"},A(O),C(O," item")," left"),V({id:"filters"},b(o({className:{selected:function(){return"active"!==q&&"completed"!==q}},href:"#/all"},"All")),b(o({className:{selected:function(){return"active"===q}},href:"#/active"},"Active")),b(o({className:{selected:function(){return"completed"===q}},href:"#/completed"},"Completed"))),c({id:"clear-completed",onclick:i,$show:u},R(function(){return"Clear completed: "+u()})))),z=m({id:"info"},y("Double-click to edit a todo"),y("Created by ",o({href:"http://github.com/taijiweb/domcom"},"Caoxingming(Tiijizhenren, simeon.chaos@gmail.com)")),y("Part of ",o({href:"http://todomvc.com"}," TodoMVC"))),W=M({id:"todoapp"},D,J,z,c({id:"clear-completed",onclick:i,$show:u},R(function(){return"Clear completed: "+u()}))),window.updateHash=function(){var e;return e=document.location.hash,q=e.indexOf("/")>=0?e.split("/")[1]||"":e},window.runTodoMvc=function(){return window.todos=fetch(),updateHash(),W.mount("#todo-app"),window.addEventListener("hashchange",function(){return updateHash(),W.render()})}}]);